.BAXTERSSOWING14OCTPOPULATION2
------------------------------
Simulation name:   BaxtersSowing14OctPopulation2

<br/>
WEATHER
-------
Weather file name:   lincoln.met

<br/>
CLOCK
-----
The start date of the simulation:   1998-10-14
  The end date of the simulation:   1999-05-01

<br/>
FIELD.SOIL
----------
    Record number:       0
 Latitude (WGS84):   0.000
Longitude (WGS84):   0.000

<br/>
FIELD.SOIL.ANALYSIS
-------------------
Depth (cm)  PH (1:5 water)
      0-10             6.6
     10-30             6.2
     30-60             5.7
     60-90             5.5
    90-120             5.5
   120-150             5.5

<br/>
FIELD.SOIL.INITIAL WATER
------------------------
        Fraction full:          1.000
    Depth of wet soil:            NaN
Plant available water:   180.000 (mm)

<br/>
FIELD.SOIL.WATER
----------------
Depth (cm)  BD (g/cc)  Air dry (mm/mm)  LL15 (mm/mm)  DUL (mm/mm)  SAT (mm/mm)
      0-10       1.20             0.08          0.13         0.33         0.50
     10-30       1.20             0.13          0.13         0.33         0.50
     30-60       1.20             0.10          0.10         0.31         0.44
     60-90       1.20             0.06          0.06         0.15         0.46
    90-120       1.20             0.04          0.04         0.10         0.44
   120-150       1.20             0.02          0.02         0.06         0.44

<br/>
FIELD.SOIL.WATER.WHEATSOIL
--------------------------
wheat Depth (cm)  wheat LL (mm/mm)  wheat PAWC (mm)  wheat KL (mm/mm)  wheat XF (mm/mm)
            0-10              0.13             20.0              0.06               1.0
           10-30              0.13             40.0              0.06               1.0
           30-60               0.1             63.0              0.06               1.0
           60-90              0.08             21.0              0.06               1.0
          90-120              0.11              0.0              0.06               1.0
         120-150              0.11              0.0              0.06               1.0
                                              144.0                                    

<br/>
FIELD.SOIL.WATER.POTATOSOIL
---------------------------
Potato Depth (cm)  Potato LL (mm/mm)  Potato PAWC (mm)  Potato KL (mm/mm)  Potato XF (mm/mm)
             0-10               0.13              20.0               0.10                1.0
            10-30               0.13              40.0               0.06                1.0
            30-60               0.27              12.0               0.03                0.1
            60-90               0.27               0.0               0.01                0.0
           90-120                0.3               0.0               0.00                0.0
          120-150                0.3               0.0               0.00                0.0
                                                  72.0                                      

<br/>
FIELD.SOIL.SOILORGANICMATTER
----------------------------
                  Root C:N ratio:     30.000
             Root Weight (kg/ha):   3000.000
                  Soil C:N ratio:     11.500
Erosion enrichment coefficient A:      7.400
Erosion enrichment coefficient B:      0.200

Depth (cm)  OC (Total %)  FBiom (0-1)  FInert (0-1)
      0-10          1.82        0.025           0.3
     10-30          1.47        0.025           0.4
     30-60          1.20        0.015          0.75
     60-90          1.03         0.01           0.9
    90-120          0.47         0.01          0.96
   120-150          0.47         0.01          0.96

<br/>
FIELD.SOIL.INITIAL NITROGEN
---------------------------
Depth (cm)  NO3kgha  NH4kgha
      0-10    217.0      0.0
     10-30     30.0      0.0
     30-60      5.0      0.0
     60-90      5.0      0.0
    90-120      0.0      0.0
   120-150      0.0      0.0

<br/>
FIELD.POTATOSOWINGRULE
----------------------

        using System;
        using Models.Core;
        using Models.PMF;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;

               [Description("Spacing (mm) between plants within rows")]
               public double RowSpace { get; set; }
               [Description("Spacing (mm) between rows")]
               public double RowWidth { get; set; }
               [Description("Depth (mm) tubers are planted")]
               public double PlantingDepth { get; set; }
               [Description("Number of stems per seed tuber")]
               public double StemNumberPerSeedTuber { get; set; }
               [Description("Cultivar")]
               [Display(DisplayType = DisplayAttribute.DisplayTypeEnum.CultivarName)]
               public string CultivarName { get; set; }
               [Description("Sowing Date")]
               public DateTime SowingDate { get; set; }

               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
                double PlantPopulation = 1/((RowWidth/1000)*(RowSpace/1000));

                if (Clock.Today.Date == SowingDate)
                    Potato.Sow(population:PlantPopulation, cultivar:CultivarName, depth:PlantingDepth, rowSpacing:150, budNumber:StemNumberPerSeedTuber);
                //Potato.Sow(... Contains the following arguements:
                //Population  double  Required  Seeds sowing/m2
                //Cultivar    string  Required  "NameOfCultivar"
                //Depth       double  Optional  Depth (mm) seed sown.   Default is 100mm 
                //MaxCover    double  Optional  Proportion (0-1) of the ground row crop will cover.   Default is 1.0
                //BudNumber   double  Optional  Number of mainstems per seed sown.  Default is 1.0
                //RowSpacing  double  Optional  Spaceing (mm) between drill rows when crop is sown.  Default is 150mm
                //CropClass   string  Optional  Crop class to instantiate when crop is sown.  Default is "Plant"
               }
            }
        }
                
<br/>
FIELD.EXTRAVARIABLES
--------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.Soils;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Clock Clock;
        [Link] Soils.Soil Soil;
        [Link] Models.SurfaceOM.SurfaceOrganicMatter SOM;
        [Link] Weather Met;   
        [Link] Fertiliser Fert;
        [Link] Irrigation Irrig;  
        [Link] Plant Potato;    
        [Link] Zone zone;
                    
        [XmlIgnore] public bool InitialDay { get; set; }
        
        [XmlIgnore] public double AccumPlantN { get; set; }
        [XmlIgnore] public double AccumMineralisation { get; set; }
        [XmlIgnore] public double AccumDenit { get; set; }
        [XmlIgnore] public double AccumFert { get; set; }
        [XmlIgnore] public double AccumLeach { get; set; }
        [XmlIgnore] public double AccumDetach { get; set; }
        [XmlIgnore] public double DeltaSoilOMN { get; set; }
        [XmlIgnore] public double DeltaSurfaceOMN { get; set; }
        [XmlIgnore] public double DeltaSoilMineralN { get; set; }
        [XmlIgnore] public double SoilNitrogenContent { get; set; }
        
        [XmlIgnore] public double AccumEO { get; set; }
        [XmlIgnore] public double AccumEP { get; set; }
        [XmlIgnore] public double AccumES { get; set; }
        [XmlIgnore] public double AccumDrainage { get; set; }
        [XmlIgnore] public double AccumRunoff { get; set; }
        [XmlIgnore] public double AccumOutflowLat { get; set; }
        [XmlIgnore] public double AccumIrrigation { get; set; }
        [XmlIgnore] public double AccumRainfall { get; set; }
        [XmlIgnore] public double SoilWaterDeficit { get; set; }
        
        [XmlIgnore] public double AccumTtemerg { get; set; }
        
        [XmlIgnore] public double  InitialSoilOMN { get; set; }
        [XmlIgnore] public double  InitialSurfaceOMN { get; set; }
        [XmlIgnore] public double  InitialMineralN { get; set; }
        
        [XmlIgnore] public double SWC { get; set; }
        [XmlIgnore] public double DUL { get; set; }
        [XmlIgnore] public double OutFlowLat { get; set; }

        [XmlIgnore] public double FomN { get; set; }
        [XmlIgnore] public double BiomN { get; set; }
        [XmlIgnore] public double HumN { get; set; }
        [XmlIgnore] public double OrganicN { get; set; }
        [XmlIgnore] public double NO3N { get; set; }
        [XmlIgnore] public double NH4N { get; set; }
        [XmlIgnore] public double UreaN { get; set; }
        [XmlIgnore] public double MineralN { get; set; }
        [XmlIgnore] public double DltNMinRes { get; set; }
        [XmlIgnore] public double DltNMinTot { get; set; }
        
        [EventSubscribe("Commencing")]
        private void OnSimulationCommencing(object sender, EventArgs e)
        {
            InitialDay = true;
        }       
        
        [EventSubscribe("DoManagement")]
        private void OnDoManagement(object sender, EventArgs e)
        {
            //!!!!!! Nitrogen balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!
               FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            OrganicN = FomN + HumN + BiomN;
            NO3N = Utility.Math.Sum(Soil.NO3N);
            NH4N = Utility.Math.Sum(Soil.NH4N);
            UreaN = Utility.Math.Sum(Soil.SoilNitrogen.urea);
            MineralN = NO3N + NH4N + UreaN; 
            DltNMinRes = Utility.Math.Sum(Soil.SoilNitrogen.dlt_n_min_res);
            DltNMinTot = Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            int layers = Soil.Thickness.Length;
            if (InitialDay == true)
            {
                InitialSurfaceOMN = SOM.N;
                InitialSoilOMN = OrganicN;
                InitialMineralN = MineralN;
                InitialDay = false;
            }
            AccumFert += Fert.NitrogenApplied;
            DeltaSurfaceOMN = SOM.N - InitialSurfaceOMN;
            AccumLeach = AccumLeach - Soil.SoilWater.LeachNH4 - Soil.SoilWater.LeachNO3 - Soil.SoilWater.LeachUrea; //Fails
            AccumMineralisation += Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            AccumDenit -= Utility.Math.Sum(Soil.SoilNitrogen.Denitrification);
            AccumPlantN -= (double)zone.Get("Potato.Root.NUptake");
            DeltaSoilOMN = OrganicN - InitialSoilOMN;
            DeltaSoilMineralN = MineralN - InitialMineralN;
            SoilNitrogenContent = MineralN;
            
            //!!!!!! Water balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!

            AccumIrrigation += Irrig.IrrigationApplied;
            AccumRainfall += Met.Rain;
            AccumEP -= (double)zone.Get("Potato.Leaf.Transpiration");
            SoilWaterDeficit =  (SWC - DUL);
            double OutFlowLat = Utility.Math.Sum(Soil.SoilWater.outflow_lat);
            AccumOutflowLat -= OutFlowLat;
            
            //!!!!!! Thermal time calculation !!!!!!
            //!!!!!! ^^^^^^^^^^^^^^^^^^^^^^^^ !!!!!!
            if (Potato.Phenology.Stage >= 3)
            AccumTtemerg += Potato.Phenology.ThermalTime.Value;
        }
        
        [EventSubscribe("DoManagementCalculations")]
        private void OnDoManagementCalculations(object sender, EventArgs e)
        {
            FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            
            
            AccumEO -= Soil.SoilWater.Eo;
            AccumES -= Soil.SoilWater.Es; 
            AccumDrainage -= Soil.SoilWater.Drainage;
            AccumRunoff -= Soil.SoilWater.Runoff;
            SWC = Utility.Math.Sum(Soil.SoilWater.SWmm);
            DUL = Utility.Math.Sum(Soil.SoilWater.DULmm);
        }
    }
}
       
<br/>
FIELD.REPORT
------------
                                   Output variables  Output frequency
                                      [Clock].Today  [Clock].DoReport
               [ExtraVariables].Script.AccumTtemerg                  
                  Potato.Phenology.CurrentPhaseName                  
                             Potato.Phenology.Stage                  
                [ExtraVariables].Script.AccumPlantN                  
        [ExtraVariables].Script.AccumMineralisation                  
                 [ExtraVariables].Script.AccumDenit                  
                  [ExtraVariables].Script.AccumFert                  
                 [ExtraVariables].Script.AccumLeach                  
                [ExtraVariables].Script.AccumDetach                  
               [ExtraVariables].Script.DeltaSoilOMN                  
            [ExtraVariables].Script.DeltaSurfaceOMN                  
          [ExtraVariables].Script.DeltaSoilMineralN                  
                          Potato.Root.NSupplyUptake                  
                                [Soil].SoilWater.Eo                  
                                [Soil].SoilWater.Es                  
                        [ExtraVariables].Script.SWC                  
                        [ExtraVariables].Script.DUL                  
                          [Soil].SoilWater.Drainage                  
                            [Soil].SoilWater.Runoff                  
                 [ExtraVariables].Script.OutFlowLat                  
                              [Soil].SoilWater.pond                  
                    [ExtraVariables].Script.AccumEO                  
                    [ExtraVariables].Script.AccumEP                  
                    [ExtraVariables].Script.AccumES                  
              [ExtraVariables].Script.AccumDrainage                  
                [ExtraVariables].Script.AccumRunoff                  
              [ExtraVariables].Script.AccumRainfall                  
            [ExtraVariables].Script.AccumIrrigation                  
            [ExtraVariables].Script.AccumOutflowLat                  
           [ExtraVariables].Script.SoilWaterDeficit                  
                   Potato.Summariser.AboveGround.Wt                  
                   Potato.Summariser.BelowGround.Wt                  
                         Potato.Summariser.Total.Wt                  
                     Potato.Summariser.TotalDead.Wt                  
                     Potato.Summariser.TotalLive.Wt                  
                                Potato.Leaf.Dead.Wt                  
                                Potato.Leaf.Live.Wt                  
                                Potato.Stem.Dead.Wt                  
                                Potato.Stem.Live.Wt                  
                               Potato.Tuber.Dead.Wt                  
                               Potato.Tuber.Live.Wt                  
                                Potato.Root.Dead.Wt                  
                                Potato.Root.Live.Wt                  
                    Potato.Summariser.AboveGround.N                  
                    Potato.Summariser.BelowGround.N                  
                          Potato.Summariser.Total.N                  
                      Potato.Summariser.TotalLive.N                  
                      Potato.Summariser.TotalDead.N                  
                                 Potato.Leaf.Dead.N                  
                                 Potato.Leaf.Live.N                  
                                 Potato.Stem.Dead.N                  
                                 Potato.Stem.Live.N                  
                                Potato.Tuber.Dead.N                  
                                Potato.Tuber.Live.N                  
                                 Potato.Root.Live.N                  
                                 Potato.Root.Dead.N                  
                             Potato.Leaf.Live.NConc                  
                             Potato.Leaf.Dead.NConc                  
                             Potato.Stem.Live.NConc                  
                             Potato.Stem.Dead.NConc                  
                            Potato.Tuber.Live.NConc                  
                            Potato.Tuber.Dead.NConc                  
                             Potato.Root.Live.NConc                  
                             Potato.Root.Dead.NConc                  
                            Potato.Root.WaterSupply                  
                            Potato.Root.WaterUptake                  
                          Potato.Leaf.Transpiration                  
                            Potato.Leaf.WaterDemand                  
                                  Potato.Root.Depth                  
                             Potato.Leaf.CoverGreen                  
                             Potato.Leaf.CoverTotal                  
                              Potato.Leaf.CoverDead                  
                                    Potato.Leaf.LAI                  
                                Potato.Leaf.LAIDead                  
                            Potato.Structure.Height                  
                                     Potato.Leaf.Fn                  
                                     Potato.Leaf.Fw                  
                Potato.Leaf.Photosynthesis.FT.Value                  
              Potato.Leaf.Photosynthesis.FVPD.Value                  
                  Potato.Structure.PlantTotalNodeNo                  
                     Potato.Structure.TotalStemPopn                  
               Potato.Leaf.PlantAppearedGreenLeafNo                  
                      Potato.Leaf.ExpandingCohortNo                  
                       Potato.Leaf.AppearedCohortNo                  
                           Potato.Leaf.DeadCohortNo                  
                    Potato.Structure.MainStemNodeNo                  
                      Potato.Leaf.SenescingCohortNo                  
             Potato.Structure.PrimaryBudTotalNodeNo                  
Potato.Leaf.LeafCohortParameters.MinimumNConc.Value                  
                     Potato.Stem.MinimumNConc.Value                  
                    Potato.Tuber.MinimumNConc.Value                  
                     Potato.Root.MinimumNConc.Value                  
Potato.Leaf.LeafCohortParameters.MaximumNConc.Value                  
                     Potato.Stem.MaximumNConc.Value                  
                    Potato.Tuber.MaximumNConc.Value                  
                     Potato.Root.MaximumNConc.Value                  
                      Potato.Stem.Live.StructuralWt                  
                   Potato.Stem.Live.NonStructuralWt                  
                           Potato.Leaf.SpecificArea                  
                       Potato.Leaf.ExpandedCohortNo                  
                              [Soil].SoilWater.SWmm                  
                                        [Soil].NO3N                  
        [ExtraVariables].Script.SoilNitrogenContent                  
                          Potato.Arbitrator.NDemand                  
                            [MicroClimate].net_radn                  
                                [MicroClimate].peta                  
                                [MicroClimate].petr                  
                       [ExtraVariables].Script.FomN                  
                       [ExtraVariables].Script.HumN                  
                      [ExtraVariables].Script.BiomN                  
                 [ExtraVariables].Script.DltNMinRes                  
                 [ExtraVariables].Script.DltNMinTot                  
                [PotatoHarvestRule].Script.FinalTag                  
                               Potato.Tuber.LiveFWt                  
                Potato.Tuber.DryMatterContent.Value                  

<br/>
FIELD.SURFACE ORGANIC MATTER
----------------------------
Surface organic matter pool name:             wheat
Surface organic matter pool type:             wheat
 Mass of surface residue (kg/ha):      2000 (kg/ha)
         Standing fraction (0-1):           0 (0-1)
     Carbon:Nitrogen ratio (g/g):          80 (g/g)
                  Carbon content:   800.000 (kg/ha)
                Nitrogen content:    10.000 (kg/ha)
              Phosphorus content:     0.000 (kg/ha)

<br/>
FIELD.SETINTERGERCROPPARAMETER
------------------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Plant Plant;          
        [Link] Zone zone;
        [Description("Path for coefficient to be Overwritten")]
        public string OverRidePath { get; set; }
        [Description("Value for new coefficient Interger")]
        public int OverRideInterger { get; set; }
        
        [EventSubscribe("Sowing")]
        private void OnSowing(object sender, EventArgs e)
        {
            object ResetValue = OverRideInterger;
            zone.Set(OverRidePath, ResetValue);
        }
    }
}
       
<br/>
FIELD.POTATOHARVESTRULE
-----------------------

        using System;
        using Models.Core;
        using Models.PMF;
        using System.Xml.Serialization;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;
               [Link] Summary Summary;
               [Description("HarvestDate Date")]
               public DateTime HarvestDate { get; set; }            
               [XmlIgnore] public string FinalTag { get; set;}
               [XmlIgnore] public bool Harvested {get; set;}
               [XmlIgnore] public bool ReadyForHarvest {get; set;}
               
               [EventSubscribe("Commencing")]
               private void OnSimulationCommencing(object sender, EventArgs e)
               {
               FinalTag = "";
               Harvested = false;
               ReadyForHarvest = false;
               }
               
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
               if (ReadyForHarvest == true)
                   {
                   Potato.Harvest();
                   ReadyForHarvest = false;
                   Harvested = true;
                   }
               FinalTag = "";    
               }
               
               [EventSubscribe("DoManagementCalculations")]
               private void OnDoManagementCalculations(object sender, EventArgs e)
               {
                if ((Clock.Today == HarvestDate)&&(Harvested == false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
                if((Potato.Phenology.Stage>=7)&&(Harvested==false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
               }
            }
        }
                
<br/>
SIMULATION LOG:
---------------


1998-10-14 Field.Potato
    A crop of Potato (cultivar = RussetBurbank) was sown today at a population of 2.16450216450216 plants/m2 with 3 buds per plant at a row spacing of 150 and a depth of 200 mm
    


1998-10-14 Field.Potato.Summariser
    Peeping
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


1998-10-26 Field.Irrigation
    70.0 mm of water added at depth 0
    


1998-11-16 Field.Potato.Summariser
    Emergence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


1998-12-14 Field.Potato.Summariser
    TuberInitiation
      LAI = 0.74 (m^2/m^2)
      Above Ground Biomass = 51.45 (g/m^2)
    
    


1998-12-15 Field.Irrigation
    70.0 mm of water added at depth 0
    


1998-12-29 Field.Irrigation
    10.0 mm of water added at depth 0
    


1998-12-29 Field.Fertiliser
    150 kg/ha of UreaN added at depth 10 layer 1
    


1998-12-30 Field.Irrigation
    55.0 mm of water added at depth 0
    


1999-01-07 Field.Irrigation
    50.0 mm of water added at depth 0
    


1999-01-21 Field.Irrigation
    40.0 mm of water added at depth 0
    


1999-02-10 Field.Irrigation
    28.0 mm of water added at depth 0
    


1999-02-19 Field.Irrigation
    15.0 mm of water added at depth 0
    


1999-03-09 Field.Irrigation
    25.0 mm of water added at depth 0
    


1999-03-21 Field.Potato.Summariser
    FinalLeaf
      LAI = 0.13 (m^2/m^2)
      Above Ground Biomass = 279.06 (g/m^2)
    
    


1999-04-01 Field.Potato.Summariser
    FullSenescence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 279.06 (g/m^2)
    
    


1999-04-21 Field.Potato.Summariser
    Maturity
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 279.06 (g/m^2)
    
    


1999-04-22 Field.Potato.Summariser
    Maturity
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 279.06 (g/m^2)
    
    Maturity
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 279.06 (g/m^2)
    
    


1999-04-22 Field.Potato
    A crop of Potato was harvested today, Yeahhh
    


############################################################################
.BAXTERSSOWING14OCTPOPULATION4
------------------------------
Simulation name:   BaxtersSowing14OctPopulation4

<br/>
WEATHER
-------
Weather file name:   lincoln.met

<br/>
CLOCK
-----
The start date of the simulation:   1998-10-14
  The end date of the simulation:   1999-05-01

<br/>
FIELD.SOIL
----------
    Record number:       0
 Latitude (WGS84):   0.000
Longitude (WGS84):   0.000

<br/>
FIELD.SOIL.ANALYSIS
-------------------
Depth (cm)  PH (1:5 water)
      0-10             6.6
     10-30             6.2
     30-60             5.7
     60-90             5.5
    90-120             5.5
   120-150             5.5

<br/>
FIELD.SOIL.INITIAL WATER
------------------------
        Fraction full:          1.000
    Depth of wet soil:            NaN
Plant available water:   180.000 (mm)

<br/>
FIELD.SOIL.WATER
----------------
Depth (cm)  BD (g/cc)  Air dry (mm/mm)  LL15 (mm/mm)  DUL (mm/mm)  SAT (mm/mm)
      0-10       1.20             0.08          0.13         0.33         0.50
     10-30       1.20             0.13          0.13         0.33         0.50
     30-60       1.20             0.10          0.10         0.31         0.44
     60-90       1.20             0.06          0.06         0.15         0.46
    90-120       1.20             0.04          0.04         0.10         0.44
   120-150       1.20             0.02          0.02         0.06         0.44

<br/>
FIELD.SOIL.WATER.WHEATSOIL
--------------------------
wheat Depth (cm)  wheat LL (mm/mm)  wheat PAWC (mm)  wheat KL (mm/mm)  wheat XF (mm/mm)
            0-10              0.13             20.0              0.06               1.0
           10-30              0.13             40.0              0.06               1.0
           30-60               0.1             63.0              0.06               1.0
           60-90              0.08             21.0              0.06               1.0
          90-120              0.11              0.0              0.06               1.0
         120-150              0.11              0.0              0.06               1.0
                                              144.0                                    

<br/>
FIELD.SOIL.WATER.POTATOSOIL
---------------------------
Potato Depth (cm)  Potato LL (mm/mm)  Potato PAWC (mm)  Potato KL (mm/mm)  Potato XF (mm/mm)
             0-10               0.13              20.0               0.10                1.0
            10-30               0.13              40.0               0.06                1.0
            30-60               0.27              12.0               0.03                0.1
            60-90               0.27               0.0               0.01                0.0
           90-120                0.3               0.0               0.00                0.0
          120-150                0.3               0.0               0.00                0.0
                                                  72.0                                      

<br/>
FIELD.SOIL.SOILORGANICMATTER
----------------------------
                  Root C:N ratio:     30.000
             Root Weight (kg/ha):   3000.000
                  Soil C:N ratio:     11.500
Erosion enrichment coefficient A:      7.400
Erosion enrichment coefficient B:      0.200

Depth (cm)  OC (Total %)  FBiom (0-1)  FInert (0-1)
      0-10          1.82        0.025           0.3
     10-30          1.47        0.025           0.4
     30-60          1.20        0.015          0.75
     60-90          1.03         0.01           0.9
    90-120          0.47         0.01          0.96
   120-150          0.47         0.01          0.96

<br/>
FIELD.SOIL.INITIAL NITROGEN
---------------------------
Depth (cm)  NO3kgha  NH4kgha
      0-10    217.0      0.0
     10-30     30.0      0.0
     30-60      5.0      0.0
     60-90      5.0      0.0
    90-120      0.0      0.0
   120-150      0.0      0.0

<br/>
FIELD.POTATOSOWINGRULE
----------------------

        using System;
        using Models.Core;
        using Models.PMF;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;

               [Description("Spacing (mm) between plants within rows")]
               public double RowSpace { get; set; }
               [Description("Spacing (mm) between rows")]
               public double RowWidth { get; set; }
               [Description("Depth (mm) tubers are planted")]
               public double PlantingDepth { get; set; }
               [Description("Number of stems per seed tuber")]
               public double StemNumberPerSeedTuber { get; set; }
               [Description("Cultivar")]
               [Display(DisplayType = DisplayAttribute.DisplayTypeEnum.CultivarName)]
               public string CultivarName { get; set; }
               [Description("Sowing Date")]
               public DateTime SowingDate { get; set; }

               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
                double PlantPopulation = 1/((RowWidth/1000)*(RowSpace/1000));

                if (Clock.Today.Date == SowingDate)
                    Potato.Sow(population:PlantPopulation, cultivar:CultivarName, depth:PlantingDepth, rowSpacing:150, budNumber:StemNumberPerSeedTuber);
                //Potato.Sow(... Contains the following arguements:
                //Population  double  Required  Seeds sowing/m2
                //Cultivar    string  Required  "NameOfCultivar"
                //Depth       double  Optional  Depth (mm) seed sown.   Default is 100mm 
                //MaxCover    double  Optional  Proportion (0-1) of the ground row crop will cover.   Default is 1.0
                //BudNumber   double  Optional  Number of mainstems per seed sown.  Default is 1.0
                //RowSpacing  double  Optional  Spaceing (mm) between drill rows when crop is sown.  Default is 150mm
                //CropClass   string  Optional  Crop class to instantiate when crop is sown.  Default is "Plant"
               }
            }
        }
                
<br/>
FIELD.EXTRAVARIABLES
--------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.Soils;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Clock Clock;
        [Link] Soils.Soil Soil;
        [Link] Models.SurfaceOM.SurfaceOrganicMatter SOM;
        [Link] Weather Met;   
        [Link] Fertiliser Fert;
        [Link] Irrigation Irrig;  
        [Link] Plant Potato;    
        [Link] Zone zone;
                    
        [XmlIgnore] public bool InitialDay { get; set; }
        
        [XmlIgnore] public double AccumPlantN { get; set; }
        [XmlIgnore] public double AccumMineralisation { get; set; }
        [XmlIgnore] public double AccumDenit { get; set; }
        [XmlIgnore] public double AccumFert { get; set; }
        [XmlIgnore] public double AccumLeach { get; set; }
        [XmlIgnore] public double AccumDetach { get; set; }
        [XmlIgnore] public double DeltaSoilOMN { get; set; }
        [XmlIgnore] public double DeltaSurfaceOMN { get; set; }
        [XmlIgnore] public double DeltaSoilMineralN { get; set; }
        [XmlIgnore] public double SoilNitrogenContent { get; set; }
        
        [XmlIgnore] public double AccumEO { get; set; }
        [XmlIgnore] public double AccumEP { get; set; }
        [XmlIgnore] public double AccumES { get; set; }
        [XmlIgnore] public double AccumDrainage { get; set; }
        [XmlIgnore] public double AccumRunoff { get; set; }
        [XmlIgnore] public double AccumOutflowLat { get; set; }
        [XmlIgnore] public double AccumIrrigation { get; set; }
        [XmlIgnore] public double AccumRainfall { get; set; }
        [XmlIgnore] public double SoilWaterDeficit { get; set; }
        
        [XmlIgnore] public double AccumTtemerg { get; set; }
        
        [XmlIgnore] public double  InitialSoilOMN { get; set; }
        [XmlIgnore] public double  InitialSurfaceOMN { get; set; }
        [XmlIgnore] public double  InitialMineralN { get; set; }
        
        [XmlIgnore] public double SWC { get; set; }
        [XmlIgnore] public double DUL { get; set; }
        [XmlIgnore] public double OutFlowLat { get; set; }

        [XmlIgnore] public double FomN { get; set; }
        [XmlIgnore] public double BiomN { get; set; }
        [XmlIgnore] public double HumN { get; set; }
        [XmlIgnore] public double OrganicN { get; set; }
        [XmlIgnore] public double NO3N { get; set; }
        [XmlIgnore] public double NH4N { get; set; }
        [XmlIgnore] public double UreaN { get; set; }
        [XmlIgnore] public double MineralN { get; set; }
        [XmlIgnore] public double DltNMinRes { get; set; }
        [XmlIgnore] public double DltNMinTot { get; set; }
        
        [EventSubscribe("Commencing")]
        private void OnSimulationCommencing(object sender, EventArgs e)
        {
            InitialDay = true;
        }       
        
        [EventSubscribe("DoManagement")]
        private void OnDoManagement(object sender, EventArgs e)
        {
            //!!!!!! Nitrogen balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!
               FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            OrganicN = FomN + HumN + BiomN;
            NO3N = Utility.Math.Sum(Soil.NO3N);
            NH4N = Utility.Math.Sum(Soil.NH4N);
            UreaN = Utility.Math.Sum(Soil.SoilNitrogen.urea);
            MineralN = NO3N + NH4N + UreaN; 
            DltNMinRes = Utility.Math.Sum(Soil.SoilNitrogen.dlt_n_min_res);
            DltNMinTot = Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            int layers = Soil.Thickness.Length;
            if (InitialDay == true)
            {
                InitialSurfaceOMN = SOM.N;
                InitialSoilOMN = OrganicN;
                InitialMineralN = MineralN;
                InitialDay = false;
            }
            AccumFert += Fert.NitrogenApplied;
            DeltaSurfaceOMN = SOM.N - InitialSurfaceOMN;
            AccumLeach = AccumLeach - Soil.SoilWater.LeachNH4 - Soil.SoilWater.LeachNO3 - Soil.SoilWater.LeachUrea; //Fails
            AccumMineralisation += Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            AccumDenit -= Utility.Math.Sum(Soil.SoilNitrogen.Denitrification);
            AccumPlantN -= (double)zone.Get("Potato.Root.NUptake");
            DeltaSoilOMN = OrganicN - InitialSoilOMN;
            DeltaSoilMineralN = MineralN - InitialMineralN;
            SoilNitrogenContent = MineralN;
            
            //!!!!!! Water balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!

            AccumIrrigation += Irrig.IrrigationApplied;
            AccumRainfall += Met.Rain;
            AccumEP -= (double)zone.Get("Potato.Leaf.Transpiration");
            SoilWaterDeficit =  (SWC - DUL);
            double OutFlowLat = Utility.Math.Sum(Soil.SoilWater.outflow_lat);
            AccumOutflowLat -= OutFlowLat;
            
            //!!!!!! Thermal time calculation !!!!!!
            //!!!!!! ^^^^^^^^^^^^^^^^^^^^^^^^ !!!!!!
            if (Potato.Phenology.Stage >= 3)
            AccumTtemerg += Potato.Phenology.ThermalTime.Value;
        }
        
        [EventSubscribe("DoManagementCalculations")]
        private void OnDoManagementCalculations(object sender, EventArgs e)
        {
            FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            
            
            AccumEO -= Soil.SoilWater.Eo;
            AccumES -= Soil.SoilWater.Es; 
            AccumDrainage -= Soil.SoilWater.Drainage;
            AccumRunoff -= Soil.SoilWater.Runoff;
            SWC = Utility.Math.Sum(Soil.SoilWater.SWmm);
            DUL = Utility.Math.Sum(Soil.SoilWater.DULmm);
        }
    }
}
       
<br/>
FIELD.REPORT
------------
                                   Output variables  Output frequency
                                      [Clock].Today  [Clock].DoReport
               [ExtraVariables].Script.AccumTtemerg                  
                  Potato.Phenology.CurrentPhaseName                  
                             Potato.Phenology.Stage                  
                [ExtraVariables].Script.AccumPlantN                  
        [ExtraVariables].Script.AccumMineralisation                  
                 [ExtraVariables].Script.AccumDenit                  
                  [ExtraVariables].Script.AccumFert                  
                 [ExtraVariables].Script.AccumLeach                  
                [ExtraVariables].Script.AccumDetach                  
               [ExtraVariables].Script.DeltaSoilOMN                  
            [ExtraVariables].Script.DeltaSurfaceOMN                  
          [ExtraVariables].Script.DeltaSoilMineralN                  
                          Potato.Root.NSupplyUptake                  
                                [Soil].SoilWater.Eo                  
                                [Soil].SoilWater.Es                  
                        [ExtraVariables].Script.SWC                  
                        [ExtraVariables].Script.DUL                  
                          [Soil].SoilWater.Drainage                  
                            [Soil].SoilWater.Runoff                  
                 [ExtraVariables].Script.OutFlowLat                  
                              [Soil].SoilWater.pond                  
                    [ExtraVariables].Script.AccumEO                  
                    [ExtraVariables].Script.AccumEP                  
                    [ExtraVariables].Script.AccumES                  
              [ExtraVariables].Script.AccumDrainage                  
                [ExtraVariables].Script.AccumRunoff                  
              [ExtraVariables].Script.AccumRainfall                  
            [ExtraVariables].Script.AccumIrrigation                  
            [ExtraVariables].Script.AccumOutflowLat                  
           [ExtraVariables].Script.SoilWaterDeficit                  
                   Potato.Summariser.AboveGround.Wt                  
                   Potato.Summariser.BelowGround.Wt                  
                         Potato.Summariser.Total.Wt                  
                     Potato.Summariser.TotalDead.Wt                  
                     Potato.Summariser.TotalLive.Wt                  
                                Potato.Leaf.Dead.Wt                  
                                Potato.Leaf.Live.Wt                  
                                Potato.Stem.Dead.Wt                  
                                Potato.Stem.Live.Wt                  
                               Potato.Tuber.Dead.Wt                  
                               Potato.Tuber.Live.Wt                  
                                Potato.Root.Dead.Wt                  
                                Potato.Root.Live.Wt                  
                    Potato.Summariser.AboveGround.N                  
                    Potato.Summariser.BelowGround.N                  
                          Potato.Summariser.Total.N                  
                      Potato.Summariser.TotalLive.N                  
                      Potato.Summariser.TotalDead.N                  
                                 Potato.Leaf.Dead.N                  
                                 Potato.Leaf.Live.N                  
                                 Potato.Stem.Dead.N                  
                                 Potato.Stem.Live.N                  
                                Potato.Tuber.Dead.N                  
                                Potato.Tuber.Live.N                  
                                 Potato.Root.Live.N                  
                                 Potato.Root.Dead.N                  
                             Potato.Leaf.Live.NConc                  
                             Potato.Leaf.Dead.NConc                  
                             Potato.Stem.Live.NConc                  
                             Potato.Stem.Dead.NConc                  
                            Potato.Tuber.Live.NConc                  
                            Potato.Tuber.Dead.NConc                  
                             Potato.Root.Live.NConc                  
                             Potato.Root.Dead.NConc                  
                            Potato.Root.WaterSupply                  
                            Potato.Root.WaterUptake                  
                          Potato.Leaf.Transpiration                  
                            Potato.Leaf.WaterDemand                  
                                  Potato.Root.Depth                  
                             Potato.Leaf.CoverGreen                  
                             Potato.Leaf.CoverTotal                  
                              Potato.Leaf.CoverDead                  
                                    Potato.Leaf.LAI                  
                                Potato.Leaf.LAIDead                  
                            Potato.Structure.Height                  
                                     Potato.Leaf.Fn                  
                                     Potato.Leaf.Fw                  
                Potato.Leaf.Photosynthesis.FT.Value                  
              Potato.Leaf.Photosynthesis.FVPD.Value                  
                  Potato.Structure.PlantTotalNodeNo                  
                     Potato.Structure.TotalStemPopn                  
               Potato.Leaf.PlantAppearedGreenLeafNo                  
                      Potato.Leaf.ExpandingCohortNo                  
                       Potato.Leaf.AppearedCohortNo                  
                           Potato.Leaf.DeadCohortNo                  
                    Potato.Structure.MainStemNodeNo                  
                      Potato.Leaf.SenescingCohortNo                  
             Potato.Structure.PrimaryBudTotalNodeNo                  
Potato.Leaf.LeafCohortParameters.MinimumNConc.Value                  
                     Potato.Stem.MinimumNConc.Value                  
                    Potato.Tuber.MinimumNConc.Value                  
                     Potato.Root.MinimumNConc.Value                  
Potato.Leaf.LeafCohortParameters.MaximumNConc.Value                  
                     Potato.Stem.MaximumNConc.Value                  
                    Potato.Tuber.MaximumNConc.Value                  
                     Potato.Root.MaximumNConc.Value                  
                      Potato.Stem.Live.StructuralWt                  
                   Potato.Stem.Live.NonStructuralWt                  
                           Potato.Leaf.SpecificArea                  
                       Potato.Leaf.ExpandedCohortNo                  
                              [Soil].SoilWater.SWmm                  
                                        [Soil].NO3N                  
        [ExtraVariables].Script.SoilNitrogenContent                  
                          Potato.Arbitrator.NDemand                  
                            [MicroClimate].net_radn                  
                                [MicroClimate].peta                  
                                [MicroClimate].petr                  
                       [ExtraVariables].Script.FomN                  
                       [ExtraVariables].Script.HumN                  
                      [ExtraVariables].Script.BiomN                  
                 [ExtraVariables].Script.DltNMinRes                  
                 [ExtraVariables].Script.DltNMinTot                  
                [PotatoHarvestRule].Script.FinalTag                  
                               Potato.Tuber.LiveFWt                  
                Potato.Tuber.DryMatterContent.Value                  

<br/>
FIELD.SURFACE ORGANIC MATTER
----------------------------
Surface organic matter pool name:             wheat
Surface organic matter pool type:             wheat
 Mass of surface residue (kg/ha):      2000 (kg/ha)
         Standing fraction (0-1):           0 (0-1)
     Carbon:Nitrogen ratio (g/g):          80 (g/g)
                  Carbon content:   800.000 (kg/ha)
                Nitrogen content:    10.000 (kg/ha)
              Phosphorus content:     0.000 (kg/ha)

<br/>
FIELD.SETINTERGERCROPPARAMETER
------------------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Plant Plant;          
        [Link] Zone zone;
        [Description("Path for coefficient to be Overwritten")]
        public string OverRidePath { get; set; }
        [Description("Value for new coefficient Interger")]
        public int OverRideInterger { get; set; }
        
        [EventSubscribe("Sowing")]
        private void OnSowing(object sender, EventArgs e)
        {
            object ResetValue = OverRideInterger;
            zone.Set(OverRidePath, ResetValue);
        }
    }
}
       
<br/>
FIELD.POTATOHARVESTRULE
-----------------------

        using System;
        using Models.Core;
        using Models.PMF;
        using System.Xml.Serialization;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;
               [Link] Summary Summary;
               [Description("HarvestDate Date")]
               public DateTime HarvestDate { get; set; }            
               [XmlIgnore] public string FinalTag { get; set;}
               [XmlIgnore] public bool Harvested {get; set;}
               [XmlIgnore] public bool ReadyForHarvest {get; set;}
               
               [EventSubscribe("Commencing")]
               private void OnSimulationCommencing(object sender, EventArgs e)
               {
               FinalTag = "";
               Harvested = false;
               ReadyForHarvest = false;
               }
               
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
               if (ReadyForHarvest == true)
                   {
                   Potato.Harvest();
                   ReadyForHarvest = false;
                   Harvested = true;
                   }
               FinalTag = "";    
               }
               
               [EventSubscribe("DoManagementCalculations")]
               private void OnDoManagementCalculations(object sender, EventArgs e)
               {
                if ((Clock.Today == HarvestDate)&&(Harvested == false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
                if((Potato.Phenology.Stage>=7)&&(Harvested==false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
               }
            }
        }
                
<br/>
SIMULATION LOG:
---------------


1998-10-14 Field.Potato
    A crop of Potato (cultivar = RussetBurbank) was sown today at a population of 4.32900432900433 plants/m2 with 3 buds per plant at a row spacing of 150 and a depth of 200 mm
    


1998-10-14 Field.Potato.Summariser
    Peeping
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


1998-10-26 Field.Irrigation
    70.0 mm of water added at depth 0
    


1998-11-16 Field.Potato.Summariser
    Emergence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


1998-12-14 Field.Potato.Summariser
    TuberInitiation
      LAI = 1.20 (m^2/m^2)
      Above Ground Biomass = 90.62 (g/m^2)
    
    


1998-12-15 Field.Irrigation
    70.0 mm of water added at depth 0
    


1998-12-29 Field.Irrigation
    10.0 mm of water added at depth 0
    


1998-12-29 Field.Fertiliser
    150 kg/ha of UreaN added at depth 10 layer 1
    


1998-12-30 Field.Irrigation
    55.0 mm of water added at depth 0
    


1999-01-07 Field.Irrigation
    50.0 mm of water added at depth 0
    


1999-01-21 Field.Irrigation
    40.0 mm of water added at depth 0
    


1999-02-10 Field.Irrigation
    28.0 mm of water added at depth 0
    


1999-02-19 Field.Irrigation
    15.0 mm of water added at depth 0
    


1999-03-09 Field.Irrigation
    25.0 mm of water added at depth 0
    


1999-03-21 Field.Potato.Summariser
    FinalLeaf
      LAI = 0.11 (m^2/m^2)
      Above Ground Biomass = 322.65 (g/m^2)
    
    


1999-04-01 Field.Potato.Summariser
    FullSenescence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 322.65 (g/m^2)
    
    


1999-04-21 Field.Potato.Summariser
    Maturity
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 322.65 (g/m^2)
    
    


1999-04-22 Field.Potato.Summariser
    Maturity
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 322.65 (g/m^2)
    
    Maturity
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 322.65 (g/m^2)
    
    


1999-04-22 Field.Potato
    A crop of Potato was harvested today, Yeahhh
    


############################################################################
.BAXTERSSOWING23NOVPOPULATION2
------------------------------
Simulation name:   BaxtersSowing23NovPopulation2

<br/>
WEATHER
-------
Weather file name:   lincoln.met

<br/>
CLOCK
-----
The start date of the simulation:   1998-10-14
  The end date of the simulation:   1999-05-01

<br/>
FIELD.SOIL
----------
    Record number:       0
 Latitude (WGS84):   0.000
Longitude (WGS84):   0.000

<br/>
FIELD.SOIL.ANALYSIS
-------------------
Depth (cm)  PH (1:5 water)
      0-10             6.6
     10-30             6.2
     30-60             5.7
     60-90             5.5
    90-120             5.5
   120-150             5.5

<br/>
FIELD.SOIL.INITIAL WATER
------------------------
        Fraction full:          1.000
    Depth of wet soil:            NaN
Plant available water:   180.000 (mm)

<br/>
FIELD.SOIL.WATER
----------------
Depth (cm)  BD (g/cc)  Air dry (mm/mm)  LL15 (mm/mm)  DUL (mm/mm)  SAT (mm/mm)
      0-10       1.20             0.08          0.13         0.33         0.50
     10-30       1.20             0.13          0.13         0.33         0.50
     30-60       1.20             0.10          0.10         0.31         0.44
     60-90       1.20             0.06          0.06         0.15         0.46
    90-120       1.20             0.04          0.04         0.10         0.44
   120-150       1.20             0.02          0.02         0.06         0.44

<br/>
FIELD.SOIL.WATER.WHEATSOIL
--------------------------
wheat Depth (cm)  wheat LL (mm/mm)  wheat PAWC (mm)  wheat KL (mm/mm)  wheat XF (mm/mm)
            0-10              0.13             20.0              0.06               1.0
           10-30              0.13             40.0              0.06               1.0
           30-60               0.1             63.0              0.06               1.0
           60-90              0.08             21.0              0.06               1.0
          90-120              0.11              0.0              0.06               1.0
         120-150              0.11              0.0              0.06               1.0
                                              144.0                                    

<br/>
FIELD.SOIL.WATER.POTATOSOIL
---------------------------
Potato Depth (cm)  Potato LL (mm/mm)  Potato PAWC (mm)  Potato KL (mm/mm)  Potato XF (mm/mm)
             0-10               0.13              20.0               0.10                1.0
            10-30               0.13              40.0               0.06                1.0
            30-60               0.27              12.0               0.03                0.1
            60-90               0.27               0.0               0.01                0.0
           90-120                0.3               0.0               0.00                0.0
          120-150                0.3               0.0               0.00                0.0
                                                  72.0                                      

<br/>
FIELD.SOIL.SOILORGANICMATTER
----------------------------
                  Root C:N ratio:     30.000
             Root Weight (kg/ha):   3000.000
                  Soil C:N ratio:     11.500
Erosion enrichment coefficient A:      7.400
Erosion enrichment coefficient B:      0.200

Depth (cm)  OC (Total %)  FBiom (0-1)  FInert (0-1)
      0-10          1.82        0.025           0.3
     10-30          1.47        0.025           0.4
     30-60          1.20        0.015          0.75
     60-90          1.03         0.01           0.9
    90-120          0.47         0.01          0.96
   120-150          0.47         0.01          0.96

<br/>
FIELD.SOIL.INITIAL NITROGEN
---------------------------
Depth (cm)  NO3kgha  NH4kgha
      0-10    217.0      0.0
     10-30     30.0      0.0
     30-60      5.0      0.0
     60-90      5.0      0.0
    90-120      0.0      0.0
   120-150      0.0      0.0

<br/>
FIELD.POTATOSOWINGRULE
----------------------

        using System;
        using Models.Core;
        using Models.PMF;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;

               [Description("Spacing (mm) between plants within rows")]
               public double RowSpace { get; set; }
               [Description("Spacing (mm) between rows")]
               public double RowWidth { get; set; }
               [Description("Depth (mm) tubers are planted")]
               public double PlantingDepth { get; set; }
               [Description("Number of stems per seed tuber")]
               public double StemNumberPerSeedTuber { get; set; }
               [Description("Cultivar")]
               [Display(DisplayType = DisplayAttribute.DisplayTypeEnum.CultivarName)]
               public string CultivarName { get; set; }
               [Description("Sowing Date")]
               public DateTime SowingDate { get; set; }

               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
                double PlantPopulation = 1/((RowWidth/1000)*(RowSpace/1000));

                if (Clock.Today.Date == SowingDate)
                    Potato.Sow(population:PlantPopulation, cultivar:CultivarName, depth:PlantingDepth, rowSpacing:150, budNumber:StemNumberPerSeedTuber);
                //Potato.Sow(... Contains the following arguements:
                //Population  double  Required  Seeds sowing/m2
                //Cultivar    string  Required  "NameOfCultivar"
                //Depth       double  Optional  Depth (mm) seed sown.   Default is 100mm 
                //MaxCover    double  Optional  Proportion (0-1) of the ground row crop will cover.   Default is 1.0
                //BudNumber   double  Optional  Number of mainstems per seed sown.  Default is 1.0
                //RowSpacing  double  Optional  Spaceing (mm) between drill rows when crop is sown.  Default is 150mm
                //CropClass   string  Optional  Crop class to instantiate when crop is sown.  Default is "Plant"
               }
            }
        }
                
<br/>
FIELD.EXTRAVARIABLES
--------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.Soils;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Clock Clock;
        [Link] Soils.Soil Soil;
        [Link] Models.SurfaceOM.SurfaceOrganicMatter SOM;
        [Link] Weather Met;   
        [Link] Fertiliser Fert;
        [Link] Irrigation Irrig;  
        [Link] Plant Potato;    
        [Link] Zone zone;
                    
        [XmlIgnore] public bool InitialDay { get; set; }
        
        [XmlIgnore] public double AccumPlantN { get; set; }
        [XmlIgnore] public double AccumMineralisation { get; set; }
        [XmlIgnore] public double AccumDenit { get; set; }
        [XmlIgnore] public double AccumFert { get; set; }
        [XmlIgnore] public double AccumLeach { get; set; }
        [XmlIgnore] public double AccumDetach { get; set; }
        [XmlIgnore] public double DeltaSoilOMN { get; set; }
        [XmlIgnore] public double DeltaSurfaceOMN { get; set; }
        [XmlIgnore] public double DeltaSoilMineralN { get; set; }
        [XmlIgnore] public double SoilNitrogenContent { get; set; }
        
        [XmlIgnore] public double AccumEO { get; set; }
        [XmlIgnore] public double AccumEP { get; set; }
        [XmlIgnore] public double AccumES { get; set; }
        [XmlIgnore] public double AccumDrainage { get; set; }
        [XmlIgnore] public double AccumRunoff { get; set; }
        [XmlIgnore] public double AccumOutflowLat { get; set; }
        [XmlIgnore] public double AccumIrrigation { get; set; }
        [XmlIgnore] public double AccumRainfall { get; set; }
        [XmlIgnore] public double SoilWaterDeficit { get; set; }
        
        [XmlIgnore] public double AccumTtemerg { get; set; }
        
        [XmlIgnore] public double  InitialSoilOMN { get; set; }
        [XmlIgnore] public double  InitialSurfaceOMN { get; set; }
        [XmlIgnore] public double  InitialMineralN { get; set; }
        
        [XmlIgnore] public double SWC { get; set; }
        [XmlIgnore] public double DUL { get; set; }
        [XmlIgnore] public double OutFlowLat { get; set; }

        [XmlIgnore] public double FomN { get; set; }
        [XmlIgnore] public double BiomN { get; set; }
        [XmlIgnore] public double HumN { get; set; }
        [XmlIgnore] public double OrganicN { get; set; }
        [XmlIgnore] public double NO3N { get; set; }
        [XmlIgnore] public double NH4N { get; set; }
        [XmlIgnore] public double UreaN { get; set; }
        [XmlIgnore] public double MineralN { get; set; }
        [XmlIgnore] public double DltNMinRes { get; set; }
        [XmlIgnore] public double DltNMinTot { get; set; }
        
        [EventSubscribe("Commencing")]
        private void OnSimulationCommencing(object sender, EventArgs e)
        {
            InitialDay = true;
        }       
        
        [EventSubscribe("DoManagement")]
        private void OnDoManagement(object sender, EventArgs e)
        {
            //!!!!!! Nitrogen balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!
               FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            OrganicN = FomN + HumN + BiomN;
            NO3N = Utility.Math.Sum(Soil.NO3N);
            NH4N = Utility.Math.Sum(Soil.NH4N);
            UreaN = Utility.Math.Sum(Soil.SoilNitrogen.urea);
            MineralN = NO3N + NH4N + UreaN; 
            DltNMinRes = Utility.Math.Sum(Soil.SoilNitrogen.dlt_n_min_res);
            DltNMinTot = Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            int layers = Soil.Thickness.Length;
            if (InitialDay == true)
            {
                InitialSurfaceOMN = SOM.N;
                InitialSoilOMN = OrganicN;
                InitialMineralN = MineralN;
                InitialDay = false;
            }
            AccumFert += Fert.NitrogenApplied;
            DeltaSurfaceOMN = SOM.N - InitialSurfaceOMN;
            AccumLeach = AccumLeach - Soil.SoilWater.LeachNH4 - Soil.SoilWater.LeachNO3 - Soil.SoilWater.LeachUrea; //Fails
            AccumMineralisation += Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            AccumDenit -= Utility.Math.Sum(Soil.SoilNitrogen.Denitrification);
            AccumPlantN -= (double)zone.Get("Potato.Root.NUptake");
            DeltaSoilOMN = OrganicN - InitialSoilOMN;
            DeltaSoilMineralN = MineralN - InitialMineralN;
            SoilNitrogenContent = MineralN;
            
            //!!!!!! Water balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!

            AccumIrrigation += Irrig.IrrigationApplied;
            AccumRainfall += Met.Rain;
            AccumEP -= (double)zone.Get("Potato.Leaf.Transpiration");
            SoilWaterDeficit =  (SWC - DUL);
            double OutFlowLat = Utility.Math.Sum(Soil.SoilWater.outflow_lat);
            AccumOutflowLat -= OutFlowLat;
            
            //!!!!!! Thermal time calculation !!!!!!
            //!!!!!! ^^^^^^^^^^^^^^^^^^^^^^^^ !!!!!!
            if (Potato.Phenology.Stage >= 3)
            AccumTtemerg += Potato.Phenology.ThermalTime.Value;
        }
        
        [EventSubscribe("DoManagementCalculations")]
        private void OnDoManagementCalculations(object sender, EventArgs e)
        {
            FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            
            
            AccumEO -= Soil.SoilWater.Eo;
            AccumES -= Soil.SoilWater.Es; 
            AccumDrainage -= Soil.SoilWater.Drainage;
            AccumRunoff -= Soil.SoilWater.Runoff;
            SWC = Utility.Math.Sum(Soil.SoilWater.SWmm);
            DUL = Utility.Math.Sum(Soil.SoilWater.DULmm);
        }
    }
}
       
<br/>
FIELD.REPORT
------------
                                   Output variables  Output frequency
                                      [Clock].Today  [Clock].DoReport
               [ExtraVariables].Script.AccumTtemerg                  
                  Potato.Phenology.CurrentPhaseName                  
                             Potato.Phenology.Stage                  
                [ExtraVariables].Script.AccumPlantN                  
        [ExtraVariables].Script.AccumMineralisation                  
                 [ExtraVariables].Script.AccumDenit                  
                  [ExtraVariables].Script.AccumFert                  
                 [ExtraVariables].Script.AccumLeach                  
                [ExtraVariables].Script.AccumDetach                  
               [ExtraVariables].Script.DeltaSoilOMN                  
            [ExtraVariables].Script.DeltaSurfaceOMN                  
          [ExtraVariables].Script.DeltaSoilMineralN                  
                          Potato.Root.NSupplyUptake                  
                                [Soil].SoilWater.Eo                  
                                [Soil].SoilWater.Es                  
                        [ExtraVariables].Script.SWC                  
                        [ExtraVariables].Script.DUL                  
                          [Soil].SoilWater.Drainage                  
                            [Soil].SoilWater.Runoff                  
                 [ExtraVariables].Script.OutFlowLat                  
                              [Soil].SoilWater.pond                  
                    [ExtraVariables].Script.AccumEO                  
                    [ExtraVariables].Script.AccumEP                  
                    [ExtraVariables].Script.AccumES                  
              [ExtraVariables].Script.AccumDrainage                  
                [ExtraVariables].Script.AccumRunoff                  
              [ExtraVariables].Script.AccumRainfall                  
            [ExtraVariables].Script.AccumIrrigation                  
            [ExtraVariables].Script.AccumOutflowLat                  
           [ExtraVariables].Script.SoilWaterDeficit                  
                   Potato.Summariser.AboveGround.Wt                  
                   Potato.Summariser.BelowGround.Wt                  
                         Potato.Summariser.Total.Wt                  
                     Potato.Summariser.TotalDead.Wt                  
                     Potato.Summariser.TotalLive.Wt                  
                                Potato.Leaf.Dead.Wt                  
                                Potato.Leaf.Live.Wt                  
                                Potato.Stem.Dead.Wt                  
                                Potato.Stem.Live.Wt                  
                               Potato.Tuber.Dead.Wt                  
                               Potato.Tuber.Live.Wt                  
                                Potato.Root.Dead.Wt                  
                                Potato.Root.Live.Wt                  
                    Potato.Summariser.AboveGround.N                  
                    Potato.Summariser.BelowGround.N                  
                          Potato.Summariser.Total.N                  
                      Potato.Summariser.TotalLive.N                  
                      Potato.Summariser.TotalDead.N                  
                                 Potato.Leaf.Dead.N                  
                                 Potato.Leaf.Live.N                  
                                 Potato.Stem.Dead.N                  
                                 Potato.Stem.Live.N                  
                                Potato.Tuber.Dead.N                  
                                Potato.Tuber.Live.N                  
                                 Potato.Root.Live.N                  
                                 Potato.Root.Dead.N                  
                             Potato.Leaf.Live.NConc                  
                             Potato.Leaf.Dead.NConc                  
                             Potato.Stem.Live.NConc                  
                             Potato.Stem.Dead.NConc                  
                            Potato.Tuber.Live.NConc                  
                            Potato.Tuber.Dead.NConc                  
                             Potato.Root.Live.NConc                  
                             Potato.Root.Dead.NConc                  
                            Potato.Root.WaterSupply                  
                            Potato.Root.WaterUptake                  
                          Potato.Leaf.Transpiration                  
                            Potato.Leaf.WaterDemand                  
                                  Potato.Root.Depth                  
                             Potato.Leaf.CoverGreen                  
                             Potato.Leaf.CoverTotal                  
                              Potato.Leaf.CoverDead                  
                                    Potato.Leaf.LAI                  
                                Potato.Leaf.LAIDead                  
                            Potato.Structure.Height                  
                                     Potato.Leaf.Fn                  
                                     Potato.Leaf.Fw                  
                Potato.Leaf.Photosynthesis.FT.Value                  
              Potato.Leaf.Photosynthesis.FVPD.Value                  
                  Potato.Structure.PlantTotalNodeNo                  
                     Potato.Structure.TotalStemPopn                  
               Potato.Leaf.PlantAppearedGreenLeafNo                  
                      Potato.Leaf.ExpandingCohortNo                  
                       Potato.Leaf.AppearedCohortNo                  
                           Potato.Leaf.DeadCohortNo                  
                    Potato.Structure.MainStemNodeNo                  
                      Potato.Leaf.SenescingCohortNo                  
             Potato.Structure.PrimaryBudTotalNodeNo                  
Potato.Leaf.LeafCohortParameters.MinimumNConc.Value                  
                     Potato.Stem.MinimumNConc.Value                  
                    Potato.Tuber.MinimumNConc.Value                  
                     Potato.Root.MinimumNConc.Value                  
Potato.Leaf.LeafCohortParameters.MaximumNConc.Value                  
                     Potato.Stem.MaximumNConc.Value                  
                    Potato.Tuber.MaximumNConc.Value                  
                     Potato.Root.MaximumNConc.Value                  
                      Potato.Stem.Live.StructuralWt                  
                   Potato.Stem.Live.NonStructuralWt                  
                           Potato.Leaf.SpecificArea                  
                       Potato.Leaf.ExpandedCohortNo                  
                              [Soil].SoilWater.SWmm                  
                                        [Soil].NO3N                  
        [ExtraVariables].Script.SoilNitrogenContent                  
                          Potato.Arbitrator.NDemand                  
                            [MicroClimate].net_radn                  
                                [MicroClimate].peta                  
                                [MicroClimate].petr                  
                       [ExtraVariables].Script.FomN                  
                       [ExtraVariables].Script.HumN                  
                      [ExtraVariables].Script.BiomN                  
                 [ExtraVariables].Script.DltNMinRes                  
                 [ExtraVariables].Script.DltNMinTot                  
                [PotatoHarvestRule].Script.FinalTag                  
                               Potato.Tuber.LiveFWt                  
                Potato.Tuber.DryMatterContent.Value                  

<br/>
FIELD.SURFACE ORGANIC MATTER
----------------------------
Surface organic matter pool name:             wheat
Surface organic matter pool type:             wheat
 Mass of surface residue (kg/ha):      2000 (kg/ha)
         Standing fraction (0-1):           0 (0-1)
     Carbon:Nitrogen ratio (g/g):          80 (g/g)
                  Carbon content:   800.000 (kg/ha)
                Nitrogen content:    10.000 (kg/ha)
              Phosphorus content:     0.000 (kg/ha)

<br/>
FIELD.SETINTERGERCROPPARAMETER
------------------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Plant Plant;          
        [Link] Zone zone;
        [Description("Path for coefficient to be Overwritten")]
        public string OverRidePath { get; set; }
        [Description("Value for new coefficient Interger")]
        public int OverRideInterger { get; set; }
        
        [EventSubscribe("Sowing")]
        private void OnSowing(object sender, EventArgs e)
        {
            object ResetValue = OverRideInterger;
            zone.Set(OverRidePath, ResetValue);
        }
    }
}
       
<br/>
FIELD.POTATOHARVESTRULE
-----------------------

        using System;
        using Models.Core;
        using Models.PMF;
        using System.Xml.Serialization;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;
               [Link] Summary Summary;
               [Description("HarvestDate Date")]
               public DateTime HarvestDate { get; set; }            
               [XmlIgnore] public string FinalTag { get; set;}
               [XmlIgnore] public bool Harvested {get; set;}
               [XmlIgnore] public bool ReadyForHarvest {get; set;}
               
               [EventSubscribe("Commencing")]
               private void OnSimulationCommencing(object sender, EventArgs e)
               {
               FinalTag = "";
               Harvested = false;
               ReadyForHarvest = false;
               }
               
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
               if (ReadyForHarvest == true)
                   {
                   Potato.Harvest();
                   ReadyForHarvest = false;
                   Harvested = true;
                   }
               FinalTag = "";    
               }
               
               [EventSubscribe("DoManagementCalculations")]
               private void OnDoManagementCalculations(object sender, EventArgs e)
               {
                if ((Clock.Today == HarvestDate)&&(Harvested == false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
                if((Potato.Phenology.Stage>=7)&&(Harvested==false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
               }
            }
        }
                
<br/>
SIMULATION LOG:
---------------


1998-10-26 Field.Irrigation
    70.0 mm of water added at depth 0
    


1998-11-23 Field.Potato
    A crop of Potato (cultivar = RussetBurbank) was sown today at a population of 2.16450216450216 plants/m2 with 5.7 buds per plant at a row spacing of 150 and a depth of 120 mm
    


1998-11-23 Field.Potato.Summariser
    Peeping
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


1998-12-14 Field.Potato.Summariser
    Emergence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


1998-12-15 Field.Irrigation
    70.0 mm of water added at depth 0
    


1998-12-29 Field.Irrigation
    10.0 mm of water added at depth 0
    


1998-12-29 Field.Fertiliser
    150 kg/ha of UreaN added at depth 10 layer 1
    


1998-12-30 Field.Irrigation
    55.0 mm of water added at depth 0
    


1999-01-06 Field.Potato.Summariser
    TuberInitiation
      LAI = 1.29 (m^2/m^2)
      Above Ground Biomass = 84.90 (g/m^2)
    
    


1999-01-07 Field.Irrigation
    50.0 mm of water added at depth 0
    


1999-01-21 Field.Irrigation
    40.0 mm of water added at depth 0
    


1999-02-10 Field.Irrigation
    28.0 mm of water added at depth 0
    


1999-02-19 Field.Irrigation
    15.0 mm of water added at depth 0
    


1999-03-04 Field.Potato.Summariser
    FinalLeaf
      LAI = 1.07 (m^2/m^2)
      Above Ground Biomass = 185.39 (g/m^2)
    
    


1999-03-09 Field.Irrigation
    25.0 mm of water added at depth 0
    


1999-04-03 Field.Potato.Summariser
    FullSenescence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 184.79 (g/m^2)
    
    


1999-04-23 Field.Potato.Summariser
    Maturity
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 184.79 (g/m^2)
    
    


1999-04-24 Field.Potato.Summariser
    Maturity
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 184.79 (g/m^2)
    
    Maturity
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 184.79 (g/m^2)
    
    


1999-04-24 Field.Potato
    A crop of Potato was harvested today, Yeahhh
    


############################################################################
.BAXTERSSOWING23NOVPOPULATION4
------------------------------
Simulation name:   BaxtersSowing23NovPopulation4

<br/>
WEATHER
-------
Weather file name:   lincoln.met

<br/>
CLOCK
-----
The start date of the simulation:   1998-10-14
  The end date of the simulation:   1999-05-01

<br/>
FIELD.SOIL
----------
    Record number:       0
 Latitude (WGS84):   0.000
Longitude (WGS84):   0.000

<br/>
FIELD.SOIL.ANALYSIS
-------------------
Depth (cm)  PH (1:5 water)
      0-10             6.6
     10-30             6.2
     30-60             5.7
     60-90             5.5
    90-120             5.5
   120-150             5.5

<br/>
FIELD.SOIL.INITIAL WATER
------------------------
        Fraction full:          1.000
    Depth of wet soil:            NaN
Plant available water:   180.000 (mm)

<br/>
FIELD.SOIL.WATER
----------------
Depth (cm)  BD (g/cc)  Air dry (mm/mm)  LL15 (mm/mm)  DUL (mm/mm)  SAT (mm/mm)
      0-10       1.20             0.08          0.13         0.33         0.50
     10-30       1.20             0.13          0.13         0.33         0.50
     30-60       1.20             0.10          0.10         0.31         0.44
     60-90       1.20             0.06          0.06         0.15         0.46
    90-120       1.20             0.04          0.04         0.10         0.44
   120-150       1.20             0.02          0.02         0.06         0.44

<br/>
FIELD.SOIL.WATER.WHEATSOIL
--------------------------
wheat Depth (cm)  wheat LL (mm/mm)  wheat PAWC (mm)  wheat KL (mm/mm)  wheat XF (mm/mm)
            0-10              0.13             20.0              0.06               1.0
           10-30              0.13             40.0              0.06               1.0
           30-60               0.1             63.0              0.06               1.0
           60-90              0.08             21.0              0.06               1.0
          90-120              0.11              0.0              0.06               1.0
         120-150              0.11              0.0              0.06               1.0
                                              144.0                                    

<br/>
FIELD.SOIL.WATER.POTATOSOIL
---------------------------
Potato Depth (cm)  Potato LL (mm/mm)  Potato PAWC (mm)  Potato KL (mm/mm)  Potato XF (mm/mm)
             0-10               0.13              20.0               0.10                1.0
            10-30               0.13              40.0               0.06                1.0
            30-60               0.27              12.0               0.03                0.1
            60-90               0.27               0.0               0.01                0.0
           90-120                0.3               0.0               0.00                0.0
          120-150                0.3               0.0               0.00                0.0
                                                  72.0                                      

<br/>
FIELD.SOIL.SOILORGANICMATTER
----------------------------
                  Root C:N ratio:     30.000
             Root Weight (kg/ha):   3000.000
                  Soil C:N ratio:     11.500
Erosion enrichment coefficient A:      7.400
Erosion enrichment coefficient B:      0.200

Depth (cm)  OC (Total %)  FBiom (0-1)  FInert (0-1)
      0-10          1.82        0.025           0.3
     10-30          1.47        0.025           0.4
     30-60          1.20        0.015          0.75
     60-90          1.03         0.01           0.9
    90-120          0.47         0.01          0.96
   120-150          0.47         0.01          0.96

<br/>
FIELD.SOIL.INITIAL NITROGEN
---------------------------
Depth (cm)  NO3kgha  NH4kgha
      0-10    217.0      0.0
     10-30     30.0      0.0
     30-60      5.0      0.0
     60-90      5.0      0.0
    90-120      0.0      0.0
   120-150      0.0      0.0

<br/>
FIELD.POTATOSOWINGRULE
----------------------

        using System;
        using Models.Core;
        using Models.PMF;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;

               [Description("Spacing (mm) between plants within rows")]
               public double RowSpace { get; set; }
               [Description("Spacing (mm) between rows")]
               public double RowWidth { get; set; }
               [Description("Depth (mm) tubers are planted")]
               public double PlantingDepth { get; set; }
               [Description("Number of stems per seed tuber")]
               public double StemNumberPerSeedTuber { get; set; }
               [Description("Cultivar")]
               [Display(DisplayType = DisplayAttribute.DisplayTypeEnum.CultivarName)]
               public string CultivarName { get; set; }
               [Description("Sowing Date")]
               public DateTime SowingDate { get; set; }

               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
                double PlantPopulation = 1/((RowWidth/1000)*(RowSpace/1000));

                if (Clock.Today.Date == SowingDate)
                    Potato.Sow(population:PlantPopulation, cultivar:CultivarName, depth:PlantingDepth, rowSpacing:150, budNumber:StemNumberPerSeedTuber);
                //Potato.Sow(... Contains the following arguements:
                //Population  double  Required  Seeds sowing/m2
                //Cultivar    string  Required  "NameOfCultivar"
                //Depth       double  Optional  Depth (mm) seed sown.   Default is 100mm 
                //MaxCover    double  Optional  Proportion (0-1) of the ground row crop will cover.   Default is 1.0
                //BudNumber   double  Optional  Number of mainstems per seed sown.  Default is 1.0
                //RowSpacing  double  Optional  Spaceing (mm) between drill rows when crop is sown.  Default is 150mm
                //CropClass   string  Optional  Crop class to instantiate when crop is sown.  Default is "Plant"
               }
            }
        }
                
<br/>
FIELD.EXTRAVARIABLES
--------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.Soils;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Clock Clock;
        [Link] Soils.Soil Soil;
        [Link] Models.SurfaceOM.SurfaceOrganicMatter SOM;
        [Link] Weather Met;   
        [Link] Fertiliser Fert;
        [Link] Irrigation Irrig;  
        [Link] Plant Potato;    
        [Link] Zone zone;
                    
        [XmlIgnore] public bool InitialDay { get; set; }
        
        [XmlIgnore] public double AccumPlantN { get; set; }
        [XmlIgnore] public double AccumMineralisation { get; set; }
        [XmlIgnore] public double AccumDenit { get; set; }
        [XmlIgnore] public double AccumFert { get; set; }
        [XmlIgnore] public double AccumLeach { get; set; }
        [XmlIgnore] public double AccumDetach { get; set; }
        [XmlIgnore] public double DeltaSoilOMN { get; set; }
        [XmlIgnore] public double DeltaSurfaceOMN { get; set; }
        [XmlIgnore] public double DeltaSoilMineralN { get; set; }
        [XmlIgnore] public double SoilNitrogenContent { get; set; }
        
        [XmlIgnore] public double AccumEO { get; set; }
        [XmlIgnore] public double AccumEP { get; set; }
        [XmlIgnore] public double AccumES { get; set; }
        [XmlIgnore] public double AccumDrainage { get; set; }
        [XmlIgnore] public double AccumRunoff { get; set; }
        [XmlIgnore] public double AccumOutflowLat { get; set; }
        [XmlIgnore] public double AccumIrrigation { get; set; }
        [XmlIgnore] public double AccumRainfall { get; set; }
        [XmlIgnore] public double SoilWaterDeficit { get; set; }
        
        [XmlIgnore] public double AccumTtemerg { get; set; }
        
        [XmlIgnore] public double  InitialSoilOMN { get; set; }
        [XmlIgnore] public double  InitialSurfaceOMN { get; set; }
        [XmlIgnore] public double  InitialMineralN { get; set; }
        
        [XmlIgnore] public double SWC { get; set; }
        [XmlIgnore] public double DUL { get; set; }
        [XmlIgnore] public double OutFlowLat { get; set; }

        [XmlIgnore] public double FomN { get; set; }
        [XmlIgnore] public double BiomN { get; set; }
        [XmlIgnore] public double HumN { get; set; }
        [XmlIgnore] public double OrganicN { get; set; }
        [XmlIgnore] public double NO3N { get; set; }
        [XmlIgnore] public double NH4N { get; set; }
        [XmlIgnore] public double UreaN { get; set; }
        [XmlIgnore] public double MineralN { get; set; }
        [XmlIgnore] public double DltNMinRes { get; set; }
        [XmlIgnore] public double DltNMinTot { get; set; }
        
        [EventSubscribe("Commencing")]
        private void OnSimulationCommencing(object sender, EventArgs e)
        {
            InitialDay = true;
        }       
        
        [EventSubscribe("DoManagement")]
        private void OnDoManagement(object sender, EventArgs e)
        {
            //!!!!!! Nitrogen balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!
               FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            OrganicN = FomN + HumN + BiomN;
            NO3N = Utility.Math.Sum(Soil.NO3N);
            NH4N = Utility.Math.Sum(Soil.NH4N);
            UreaN = Utility.Math.Sum(Soil.SoilNitrogen.urea);
            MineralN = NO3N + NH4N + UreaN; 
            DltNMinRes = Utility.Math.Sum(Soil.SoilNitrogen.dlt_n_min_res);
            DltNMinTot = Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            int layers = Soil.Thickness.Length;
            if (InitialDay == true)
            {
                InitialSurfaceOMN = SOM.N;
                InitialSoilOMN = OrganicN;
                InitialMineralN = MineralN;
                InitialDay = false;
            }
            AccumFert += Fert.NitrogenApplied;
            DeltaSurfaceOMN = SOM.N - InitialSurfaceOMN;
            AccumLeach = AccumLeach - Soil.SoilWater.LeachNH4 - Soil.SoilWater.LeachNO3 - Soil.SoilWater.LeachUrea; //Fails
            AccumMineralisation += Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            AccumDenit -= Utility.Math.Sum(Soil.SoilNitrogen.Denitrification);
            AccumPlantN -= (double)zone.Get("Potato.Root.NUptake");
            DeltaSoilOMN = OrganicN - InitialSoilOMN;
            DeltaSoilMineralN = MineralN - InitialMineralN;
            SoilNitrogenContent = MineralN;
            
            //!!!!!! Water balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!

            AccumIrrigation += Irrig.IrrigationApplied;
            AccumRainfall += Met.Rain;
            AccumEP -= (double)zone.Get("Potato.Leaf.Transpiration");
            SoilWaterDeficit =  (SWC - DUL);
            double OutFlowLat = Utility.Math.Sum(Soil.SoilWater.outflow_lat);
            AccumOutflowLat -= OutFlowLat;
            
            //!!!!!! Thermal time calculation !!!!!!
            //!!!!!! ^^^^^^^^^^^^^^^^^^^^^^^^ !!!!!!
            if (Potato.Phenology.Stage >= 3)
            AccumTtemerg += Potato.Phenology.ThermalTime.Value;
        }
        
        [EventSubscribe("DoManagementCalculations")]
        private void OnDoManagementCalculations(object sender, EventArgs e)
        {
            FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            
            
            AccumEO -= Soil.SoilWater.Eo;
            AccumES -= Soil.SoilWater.Es; 
            AccumDrainage -= Soil.SoilWater.Drainage;
            AccumRunoff -= Soil.SoilWater.Runoff;
            SWC = Utility.Math.Sum(Soil.SoilWater.SWmm);
            DUL = Utility.Math.Sum(Soil.SoilWater.DULmm);
        }
    }
}
       
<br/>
FIELD.REPORT
------------
                                   Output variables  Output frequency
                                      [Clock].Today  [Clock].DoReport
               [ExtraVariables].Script.AccumTtemerg                  
                  Potato.Phenology.CurrentPhaseName                  
                             Potato.Phenology.Stage                  
                [ExtraVariables].Script.AccumPlantN                  
        [ExtraVariables].Script.AccumMineralisation                  
                 [ExtraVariables].Script.AccumDenit                  
                  [ExtraVariables].Script.AccumFert                  
                 [ExtraVariables].Script.AccumLeach                  
                [ExtraVariables].Script.AccumDetach                  
               [ExtraVariables].Script.DeltaSoilOMN                  
            [ExtraVariables].Script.DeltaSurfaceOMN                  
          [ExtraVariables].Script.DeltaSoilMineralN                  
                          Potato.Root.NSupplyUptake                  
                                [Soil].SoilWater.Eo                  
                                [Soil].SoilWater.Es                  
                        [ExtraVariables].Script.SWC                  
                        [ExtraVariables].Script.DUL                  
                          [Soil].SoilWater.Drainage                  
                            [Soil].SoilWater.Runoff                  
                 [ExtraVariables].Script.OutFlowLat                  
                              [Soil].SoilWater.pond                  
                    [ExtraVariables].Script.AccumEO                  
                    [ExtraVariables].Script.AccumEP                  
                    [ExtraVariables].Script.AccumES                  
              [ExtraVariables].Script.AccumDrainage                  
                [ExtraVariables].Script.AccumRunoff                  
              [ExtraVariables].Script.AccumRainfall                  
            [ExtraVariables].Script.AccumIrrigation                  
            [ExtraVariables].Script.AccumOutflowLat                  
           [ExtraVariables].Script.SoilWaterDeficit                  
                   Potato.Summariser.AboveGround.Wt                  
                   Potato.Summariser.BelowGround.Wt                  
                         Potato.Summariser.Total.Wt                  
                     Potato.Summariser.TotalDead.Wt                  
                     Potato.Summariser.TotalLive.Wt                  
                                Potato.Leaf.Dead.Wt                  
                                Potato.Leaf.Live.Wt                  
                                Potato.Stem.Dead.Wt                  
                                Potato.Stem.Live.Wt                  
                               Potato.Tuber.Dead.Wt                  
                               Potato.Tuber.Live.Wt                  
                                Potato.Root.Dead.Wt                  
                                Potato.Root.Live.Wt                  
                    Potato.Summariser.AboveGround.N                  
                    Potato.Summariser.BelowGround.N                  
                          Potato.Summariser.Total.N                  
                      Potato.Summariser.TotalLive.N                  
                      Potato.Summariser.TotalDead.N                  
                                 Potato.Leaf.Dead.N                  
                                 Potato.Leaf.Live.N                  
                                 Potato.Stem.Dead.N                  
                                 Potato.Stem.Live.N                  
                                Potato.Tuber.Dead.N                  
                                Potato.Tuber.Live.N                  
                                 Potato.Root.Live.N                  
                                 Potato.Root.Dead.N                  
                             Potato.Leaf.Live.NConc                  
                             Potato.Leaf.Dead.NConc                  
                             Potato.Stem.Live.NConc                  
                             Potato.Stem.Dead.NConc                  
                            Potato.Tuber.Live.NConc                  
                            Potato.Tuber.Dead.NConc                  
                             Potato.Root.Live.NConc                  
                             Potato.Root.Dead.NConc                  
                            Potato.Root.WaterSupply                  
                            Potato.Root.WaterUptake                  
                          Potato.Leaf.Transpiration                  
                            Potato.Leaf.WaterDemand                  
                                  Potato.Root.Depth                  
                             Potato.Leaf.CoverGreen                  
                             Potato.Leaf.CoverTotal                  
                              Potato.Leaf.CoverDead                  
                                    Potato.Leaf.LAI                  
                                Potato.Leaf.LAIDead                  
                            Potato.Structure.Height                  
                                     Potato.Leaf.Fn                  
                                     Potato.Leaf.Fw                  
                Potato.Leaf.Photosynthesis.FT.Value                  
              Potato.Leaf.Photosynthesis.FVPD.Value                  
                  Potato.Structure.PlantTotalNodeNo                  
                     Potato.Structure.TotalStemPopn                  
               Potato.Leaf.PlantAppearedGreenLeafNo                  
                      Potato.Leaf.ExpandingCohortNo                  
                       Potato.Leaf.AppearedCohortNo                  
                           Potato.Leaf.DeadCohortNo                  
                    Potato.Structure.MainStemNodeNo                  
                      Potato.Leaf.SenescingCohortNo                  
             Potato.Structure.PrimaryBudTotalNodeNo                  
Potato.Leaf.LeafCohortParameters.MinimumNConc.Value                  
                     Potato.Stem.MinimumNConc.Value                  
                    Potato.Tuber.MinimumNConc.Value                  
                     Potato.Root.MinimumNConc.Value                  
Potato.Leaf.LeafCohortParameters.MaximumNConc.Value                  
                     Potato.Stem.MaximumNConc.Value                  
                    Potato.Tuber.MaximumNConc.Value                  
                     Potato.Root.MaximumNConc.Value                  
                      Potato.Stem.Live.StructuralWt                  
                   Potato.Stem.Live.NonStructuralWt                  
                           Potato.Leaf.SpecificArea                  
                       Potato.Leaf.ExpandedCohortNo                  
                              [Soil].SoilWater.SWmm                  
                                        [Soil].NO3N                  
        [ExtraVariables].Script.SoilNitrogenContent                  
                          Potato.Arbitrator.NDemand                  
                            [MicroClimate].net_radn                  
                                [MicroClimate].peta                  
                                [MicroClimate].petr                  
                       [ExtraVariables].Script.FomN                  
                       [ExtraVariables].Script.HumN                  
                      [ExtraVariables].Script.BiomN                  
                 [ExtraVariables].Script.DltNMinRes                  
                 [ExtraVariables].Script.DltNMinTot                  
                [PotatoHarvestRule].Script.FinalTag                  
                               Potato.Tuber.LiveFWt                  
                Potato.Tuber.DryMatterContent.Value                  

<br/>
FIELD.SURFACE ORGANIC MATTER
----------------------------
Surface organic matter pool name:             wheat
Surface organic matter pool type:             wheat
 Mass of surface residue (kg/ha):      2000 (kg/ha)
         Standing fraction (0-1):           0 (0-1)
     Carbon:Nitrogen ratio (g/g):          80 (g/g)
                  Carbon content:   800.000 (kg/ha)
                Nitrogen content:    10.000 (kg/ha)
              Phosphorus content:     0.000 (kg/ha)

<br/>
FIELD.SETINTERGERCROPPARAMETER
------------------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Plant Plant;          
        [Link] Zone zone;
        [Description("Path for coefficient to be Overwritten")]
        public string OverRidePath { get; set; }
        [Description("Value for new coefficient Interger")]
        public int OverRideInterger { get; set; }
        
        [EventSubscribe("Sowing")]
        private void OnSowing(object sender, EventArgs e)
        {
            object ResetValue = OverRideInterger;
            zone.Set(OverRidePath, ResetValue);
        }
    }
}
       
<br/>
FIELD.POTATOHARVESTRULE
-----------------------

        using System;
        using Models.Core;
        using Models.PMF;
        using System.Xml.Serialization;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;
               [Link] Summary Summary;
               [Description("HarvestDate Date")]
               public DateTime HarvestDate { get; set; }            
               [XmlIgnore] public string FinalTag { get; set;}
               [XmlIgnore] public bool Harvested {get; set;}
               [XmlIgnore] public bool ReadyForHarvest {get; set;}
               
               [EventSubscribe("Commencing")]
               private void OnSimulationCommencing(object sender, EventArgs e)
               {
               FinalTag = "";
               Harvested = false;
               ReadyForHarvest = false;
               }
               
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
               if (ReadyForHarvest == true)
                   {
                   Potato.Harvest();
                   ReadyForHarvest = false;
                   Harvested = true;
                   }
               FinalTag = "";    
               }
               
               [EventSubscribe("DoManagementCalculations")]
               private void OnDoManagementCalculations(object sender, EventArgs e)
               {
                if ((Clock.Today == HarvestDate)&&(Harvested == false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
                if((Potato.Phenology.Stage>=7)&&(Harvested==false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
               }
            }
        }
                
<br/>
SIMULATION LOG:
---------------


1998-10-26 Field.Irrigation
    70.0 mm of water added at depth 0
    


1998-11-23 Field.Potato
    A crop of Potato (cultivar = RussetBurbank) was sown today at a population of 4.32900432900433 plants/m2 with 5.7 buds per plant at a row spacing of 150 and a depth of 120 mm
    


1998-11-23 Field.Potato.Summariser
    Peeping
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


1998-12-14 Field.Potato.Summariser
    Emergence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


1998-12-15 Field.Irrigation
    70.0 mm of water added at depth 0
    


1998-12-29 Field.Irrigation
    10.0 mm of water added at depth 0
    


1998-12-29 Field.Fertiliser
    150 kg/ha of UreaN added at depth 10 layer 1
    


1998-12-30 Field.Irrigation
    55.0 mm of water added at depth 0
    


1999-01-06 Field.Potato.Summariser
    TuberInitiation
      LAI = 2.21 (m^2/m^2)
      Above Ground Biomass = 143.41 (g/m^2)
    
    


1999-01-07 Field.Irrigation
    50.0 mm of water added at depth 0
    


1999-01-21 Field.Irrigation
    40.0 mm of water added at depth 0
    


1999-02-10 Field.Irrigation
    28.0 mm of water added at depth 0
    


1999-02-19 Field.Irrigation
    15.0 mm of water added at depth 0
    


1999-03-04 Field.Potato.Summariser
    FinalLeaf
      LAI = 1.11 (m^2/m^2)
      Above Ground Biomass = 219.01 (g/m^2)
    
    


1999-03-09 Field.Irrigation
    25.0 mm of water added at depth 0
    


1999-04-03 Field.Potato.Summariser
    FullSenescence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 219.01 (g/m^2)
    
    


1999-04-23 Field.Potato.Summariser
    Maturity
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 219.01 (g/m^2)
    
    


1999-04-24 Field.Potato.Summariser
    Maturity
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 219.01 (g/m^2)
    
    Maturity
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 219.01 (g/m^2)
    
    


1999-04-24 Field.Potato
    A crop of Potato was harvested today, Yeahhh
    


############################################################################
.BAXTERSSOWING2NOVPOPULATION2
-----------------------------
Simulation name:   BaxtersSowing2NovPopulation2

<br/>
WEATHER
-------
Weather file name:   lincoln.met

<br/>
CLOCK
-----
The start date of the simulation:   1998-10-14
  The end date of the simulation:   1999-05-01

<br/>
FIELD.SOIL
----------
    Record number:       0
 Latitude (WGS84):   0.000
Longitude (WGS84):   0.000

<br/>
FIELD.SOIL.ANALYSIS
-------------------
Depth (cm)  PH (1:5 water)
      0-10             6.6
     10-30             6.2
     30-60             5.7
     60-90             5.5
    90-120             5.5
   120-150             5.5

<br/>
FIELD.SOIL.INITIAL WATER
------------------------
        Fraction full:          1.000
    Depth of wet soil:            NaN
Plant available water:   180.000 (mm)

<br/>
FIELD.SOIL.WATER
----------------
Depth (cm)  BD (g/cc)  Air dry (mm/mm)  LL15 (mm/mm)  DUL (mm/mm)  SAT (mm/mm)
      0-10       1.20             0.08          0.13         0.33         0.50
     10-30       1.20             0.13          0.13         0.33         0.50
     30-60       1.20             0.10          0.10         0.31         0.44
     60-90       1.20             0.06          0.06         0.15         0.46
    90-120       1.20             0.04          0.04         0.10         0.44
   120-150       1.20             0.02          0.02         0.06         0.44

<br/>
FIELD.SOIL.WATER.WHEATSOIL
--------------------------
wheat Depth (cm)  wheat LL (mm/mm)  wheat PAWC (mm)  wheat KL (mm/mm)  wheat XF (mm/mm)
            0-10              0.13             20.0              0.06               1.0
           10-30              0.13             40.0              0.06               1.0
           30-60               0.1             63.0              0.06               1.0
           60-90              0.08             21.0              0.06               1.0
          90-120              0.11              0.0              0.06               1.0
         120-150              0.11              0.0              0.06               1.0
                                              144.0                                    

<br/>
FIELD.SOIL.WATER.POTATOSOIL
---------------------------
Potato Depth (cm)  Potato LL (mm/mm)  Potato PAWC (mm)  Potato KL (mm/mm)  Potato XF (mm/mm)
             0-10               0.13              20.0               0.10                1.0
            10-30               0.13              40.0               0.06                1.0
            30-60               0.27              12.0               0.03                0.1
            60-90               0.27               0.0               0.01                0.0
           90-120                0.3               0.0               0.00                0.0
          120-150                0.3               0.0               0.00                0.0
                                                  72.0                                      

<br/>
FIELD.SOIL.SOILORGANICMATTER
----------------------------
                  Root C:N ratio:     30.000
             Root Weight (kg/ha):   3000.000
                  Soil C:N ratio:     11.500
Erosion enrichment coefficient A:      7.400
Erosion enrichment coefficient B:      0.200

Depth (cm)  OC (Total %)  FBiom (0-1)  FInert (0-1)
      0-10          1.82        0.025           0.3
     10-30          1.47        0.025           0.4
     30-60          1.20        0.015          0.75
     60-90          1.03         0.01           0.9
    90-120          0.47         0.01          0.96
   120-150          0.47         0.01          0.96

<br/>
FIELD.SOIL.INITIAL NITROGEN
---------------------------
Depth (cm)  NO3kgha  NH4kgha
      0-10    217.0      0.0
     10-30     30.0      0.0
     30-60      5.0      0.0
     60-90      5.0      0.0
    90-120      0.0      0.0
   120-150      0.0      0.0

<br/>
FIELD.POTATOSOWINGRULE
----------------------

        using System;
        using Models.Core;
        using Models.PMF;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;

               [Description("Spacing (mm) between plants within rows")]
               public double RowSpace { get; set; }
               [Description("Spacing (mm) between rows")]
               public double RowWidth { get; set; }
               [Description("Depth (mm) tubers are planted")]
               public double PlantingDepth { get; set; }
               [Description("Number of stems per seed tuber")]
               public double StemNumberPerSeedTuber { get; set; }
               [Description("Cultivar")]
               [Display(DisplayType = DisplayAttribute.DisplayTypeEnum.CultivarName)]
               public string CultivarName { get; set; }
               [Description("Sowing Date")]
               public DateTime SowingDate { get; set; }

               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
                double PlantPopulation = 1/((RowWidth/1000)*(RowSpace/1000));

                if (Clock.Today.Date == SowingDate)
                    Potato.Sow(population:PlantPopulation, cultivar:CultivarName, depth:PlantingDepth, rowSpacing:150, budNumber:StemNumberPerSeedTuber);
                //Potato.Sow(... Contains the following arguements:
                //Population  double  Required  Seeds sowing/m2
                //Cultivar    string  Required  "NameOfCultivar"
                //Depth       double  Optional  Depth (mm) seed sown.   Default is 100mm 
                //MaxCover    double  Optional  Proportion (0-1) of the ground row crop will cover.   Default is 1.0
                //BudNumber   double  Optional  Number of mainstems per seed sown.  Default is 1.0
                //RowSpacing  double  Optional  Spaceing (mm) between drill rows when crop is sown.  Default is 150mm
                //CropClass   string  Optional  Crop class to instantiate when crop is sown.  Default is "Plant"
               }
            }
        }
                
<br/>
FIELD.EXTRAVARIABLES
--------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.Soils;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Clock Clock;
        [Link] Soils.Soil Soil;
        [Link] Models.SurfaceOM.SurfaceOrganicMatter SOM;
        [Link] Weather Met;   
        [Link] Fertiliser Fert;
        [Link] Irrigation Irrig;  
        [Link] Plant Potato;    
        [Link] Zone zone;
                    
        [XmlIgnore] public bool InitialDay { get; set; }
        
        [XmlIgnore] public double AccumPlantN { get; set; }
        [XmlIgnore] public double AccumMineralisation { get; set; }
        [XmlIgnore] public double AccumDenit { get; set; }
        [XmlIgnore] public double AccumFert { get; set; }
        [XmlIgnore] public double AccumLeach { get; set; }
        [XmlIgnore] public double AccumDetach { get; set; }
        [XmlIgnore] public double DeltaSoilOMN { get; set; }
        [XmlIgnore] public double DeltaSurfaceOMN { get; set; }
        [XmlIgnore] public double DeltaSoilMineralN { get; set; }
        [XmlIgnore] public double SoilNitrogenContent { get; set; }
        
        [XmlIgnore] public double AccumEO { get; set; }
        [XmlIgnore] public double AccumEP { get; set; }
        [XmlIgnore] public double AccumES { get; set; }
        [XmlIgnore] public double AccumDrainage { get; set; }
        [XmlIgnore] public double AccumRunoff { get; set; }
        [XmlIgnore] public double AccumOutflowLat { get; set; }
        [XmlIgnore] public double AccumIrrigation { get; set; }
        [XmlIgnore] public double AccumRainfall { get; set; }
        [XmlIgnore] public double SoilWaterDeficit { get; set; }
        
        [XmlIgnore] public double AccumTtemerg { get; set; }
        
        [XmlIgnore] public double  InitialSoilOMN { get; set; }
        [XmlIgnore] public double  InitialSurfaceOMN { get; set; }
        [XmlIgnore] public double  InitialMineralN { get; set; }
        
        [XmlIgnore] public double SWC { get; set; }
        [XmlIgnore] public double DUL { get; set; }
        [XmlIgnore] public double OutFlowLat { get; set; }

        [XmlIgnore] public double FomN { get; set; }
        [XmlIgnore] public double BiomN { get; set; }
        [XmlIgnore] public double HumN { get; set; }
        [XmlIgnore] public double OrganicN { get; set; }
        [XmlIgnore] public double NO3N { get; set; }
        [XmlIgnore] public double NH4N { get; set; }
        [XmlIgnore] public double UreaN { get; set; }
        [XmlIgnore] public double MineralN { get; set; }
        [XmlIgnore] public double DltNMinRes { get; set; }
        [XmlIgnore] public double DltNMinTot { get; set; }
        
        [EventSubscribe("Commencing")]
        private void OnSimulationCommencing(object sender, EventArgs e)
        {
            InitialDay = true;
        }       
        
        [EventSubscribe("DoManagement")]
        private void OnDoManagement(object sender, EventArgs e)
        {
            //!!!!!! Nitrogen balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!
               FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            OrganicN = FomN + HumN + BiomN;
            NO3N = Utility.Math.Sum(Soil.NO3N);
            NH4N = Utility.Math.Sum(Soil.NH4N);
            UreaN = Utility.Math.Sum(Soil.SoilNitrogen.urea);
            MineralN = NO3N + NH4N + UreaN; 
            DltNMinRes = Utility.Math.Sum(Soil.SoilNitrogen.dlt_n_min_res);
            DltNMinTot = Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            int layers = Soil.Thickness.Length;
            if (InitialDay == true)
            {
                InitialSurfaceOMN = SOM.N;
                InitialSoilOMN = OrganicN;
                InitialMineralN = MineralN;
                InitialDay = false;
            }
            AccumFert += Fert.NitrogenApplied;
            DeltaSurfaceOMN = SOM.N - InitialSurfaceOMN;
            AccumLeach = AccumLeach - Soil.SoilWater.LeachNH4 - Soil.SoilWater.LeachNO3 - Soil.SoilWater.LeachUrea; //Fails
            AccumMineralisation += Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            AccumDenit -= Utility.Math.Sum(Soil.SoilNitrogen.Denitrification);
            AccumPlantN -= (double)zone.Get("Potato.Root.NUptake");
            DeltaSoilOMN = OrganicN - InitialSoilOMN;
            DeltaSoilMineralN = MineralN - InitialMineralN;
            SoilNitrogenContent = MineralN;
            
            //!!!!!! Water balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!

            AccumIrrigation += Irrig.IrrigationApplied;
            AccumRainfall += Met.Rain;
            AccumEP -= (double)zone.Get("Potato.Leaf.Transpiration");
            SoilWaterDeficit =  (SWC - DUL);
            double OutFlowLat = Utility.Math.Sum(Soil.SoilWater.outflow_lat);
            AccumOutflowLat -= OutFlowLat;
            
            //!!!!!! Thermal time calculation !!!!!!
            //!!!!!! ^^^^^^^^^^^^^^^^^^^^^^^^ !!!!!!
            if (Potato.Phenology.Stage >= 3)
            AccumTtemerg += Potato.Phenology.ThermalTime.Value;
        }
        
        [EventSubscribe("DoManagementCalculations")]
        private void OnDoManagementCalculations(object sender, EventArgs e)
        {
            FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            
            
            AccumEO -= Soil.SoilWater.Eo;
            AccumES -= Soil.SoilWater.Es; 
            AccumDrainage -= Soil.SoilWater.Drainage;
            AccumRunoff -= Soil.SoilWater.Runoff;
            SWC = Utility.Math.Sum(Soil.SoilWater.SWmm);
            DUL = Utility.Math.Sum(Soil.SoilWater.DULmm);
        }
    }
}
       
<br/>
FIELD.REPORT
------------
                                   Output variables  Output frequency
                                      [Clock].Today  [Clock].DoReport
               [ExtraVariables].Script.AccumTtemerg                  
                  Potato.Phenology.CurrentPhaseName                  
                             Potato.Phenology.Stage                  
                [ExtraVariables].Script.AccumPlantN                  
        [ExtraVariables].Script.AccumMineralisation                  
                 [ExtraVariables].Script.AccumDenit                  
                  [ExtraVariables].Script.AccumFert                  
                 [ExtraVariables].Script.AccumLeach                  
                [ExtraVariables].Script.AccumDetach                  
               [ExtraVariables].Script.DeltaSoilOMN                  
            [ExtraVariables].Script.DeltaSurfaceOMN                  
          [ExtraVariables].Script.DeltaSoilMineralN                  
                          Potato.Root.NSupplyUptake                  
                                [Soil].SoilWater.Eo                  
                                [Soil].SoilWater.Es                  
                        [ExtraVariables].Script.SWC                  
                        [ExtraVariables].Script.DUL                  
                          [Soil].SoilWater.Drainage                  
                            [Soil].SoilWater.Runoff                  
                 [ExtraVariables].Script.OutFlowLat                  
                              [Soil].SoilWater.pond                  
                    [ExtraVariables].Script.AccumEO                  
                    [ExtraVariables].Script.AccumEP                  
                    [ExtraVariables].Script.AccumES                  
              [ExtraVariables].Script.AccumDrainage                  
                [ExtraVariables].Script.AccumRunoff                  
              [ExtraVariables].Script.AccumRainfall                  
            [ExtraVariables].Script.AccumIrrigation                  
            [ExtraVariables].Script.AccumOutflowLat                  
           [ExtraVariables].Script.SoilWaterDeficit                  
                   Potato.Summariser.AboveGround.Wt                  
                   Potato.Summariser.BelowGround.Wt                  
                         Potato.Summariser.Total.Wt                  
                     Potato.Summariser.TotalDead.Wt                  
                     Potato.Summariser.TotalLive.Wt                  
                                Potato.Leaf.Dead.Wt                  
                                Potato.Leaf.Live.Wt                  
                                Potato.Stem.Dead.Wt                  
                                Potato.Stem.Live.Wt                  
                               Potato.Tuber.Dead.Wt                  
                               Potato.Tuber.Live.Wt                  
                                Potato.Root.Dead.Wt                  
                                Potato.Root.Live.Wt                  
                    Potato.Summariser.AboveGround.N                  
                    Potato.Summariser.BelowGround.N                  
                          Potato.Summariser.Total.N                  
                      Potato.Summariser.TotalLive.N                  
                      Potato.Summariser.TotalDead.N                  
                                 Potato.Leaf.Dead.N                  
                                 Potato.Leaf.Live.N                  
                                 Potato.Stem.Dead.N                  
                                 Potato.Stem.Live.N                  
                                Potato.Tuber.Dead.N                  
                                Potato.Tuber.Live.N                  
                                 Potato.Root.Live.N                  
                                 Potato.Root.Dead.N                  
                             Potato.Leaf.Live.NConc                  
                             Potato.Leaf.Dead.NConc                  
                             Potato.Stem.Live.NConc                  
                             Potato.Stem.Dead.NConc                  
                            Potato.Tuber.Live.NConc                  
                            Potato.Tuber.Dead.NConc                  
                             Potato.Root.Live.NConc                  
                             Potato.Root.Dead.NConc                  
                            Potato.Root.WaterSupply                  
                            Potato.Root.WaterUptake                  
                          Potato.Leaf.Transpiration                  
                            Potato.Leaf.WaterDemand                  
                                  Potato.Root.Depth                  
                             Potato.Leaf.CoverGreen                  
                             Potato.Leaf.CoverTotal                  
                              Potato.Leaf.CoverDead                  
                                    Potato.Leaf.LAI                  
                                Potato.Leaf.LAIDead                  
                            Potato.Structure.Height                  
                                     Potato.Leaf.Fn                  
                                     Potato.Leaf.Fw                  
                Potato.Leaf.Photosynthesis.FT.Value                  
              Potato.Leaf.Photosynthesis.FVPD.Value                  
                  Potato.Structure.PlantTotalNodeNo                  
                     Potato.Structure.TotalStemPopn                  
               Potato.Leaf.PlantAppearedGreenLeafNo                  
                      Potato.Leaf.ExpandingCohortNo                  
                       Potato.Leaf.AppearedCohortNo                  
                           Potato.Leaf.DeadCohortNo                  
                    Potato.Structure.MainStemNodeNo                  
                      Potato.Leaf.SenescingCohortNo                  
             Potato.Structure.PrimaryBudTotalNodeNo                  
Potato.Leaf.LeafCohortParameters.MinimumNConc.Value                  
                     Potato.Stem.MinimumNConc.Value                  
                    Potato.Tuber.MinimumNConc.Value                  
                     Potato.Root.MinimumNConc.Value                  
Potato.Leaf.LeafCohortParameters.MaximumNConc.Value                  
                     Potato.Stem.MaximumNConc.Value                  
                    Potato.Tuber.MaximumNConc.Value                  
                     Potato.Root.MaximumNConc.Value                  
                      Potato.Stem.Live.StructuralWt                  
                   Potato.Stem.Live.NonStructuralWt                  
                           Potato.Leaf.SpecificArea                  
                       Potato.Leaf.ExpandedCohortNo                  
                              [Soil].SoilWater.SWmm                  
                                        [Soil].NO3N                  
        [ExtraVariables].Script.SoilNitrogenContent                  
                          Potato.Arbitrator.NDemand                  
                            [MicroClimate].net_radn                  
                                [MicroClimate].peta                  
                                [MicroClimate].petr                  
                       [ExtraVariables].Script.FomN                  
                       [ExtraVariables].Script.HumN                  
                      [ExtraVariables].Script.BiomN                  
                 [ExtraVariables].Script.DltNMinRes                  
                 [ExtraVariables].Script.DltNMinTot                  
                [PotatoHarvestRule].Script.FinalTag                  
                               Potato.Tuber.LiveFWt                  
                Potato.Tuber.DryMatterContent.Value                  

<br/>
FIELD.SURFACE ORGANIC MATTER
----------------------------
Surface organic matter pool name:             wheat
Surface organic matter pool type:             wheat
 Mass of surface residue (kg/ha):      2000 (kg/ha)
         Standing fraction (0-1):           0 (0-1)
     Carbon:Nitrogen ratio (g/g):          80 (g/g)
                  Carbon content:   800.000 (kg/ha)
                Nitrogen content:    10.000 (kg/ha)
              Phosphorus content:     0.000 (kg/ha)

<br/>
FIELD.SETINTERGERCROPPARAMETER
------------------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Plant Plant;          
        [Link] Zone zone;
        [Description("Path for coefficient to be Overwritten")]
        public string OverRidePath { get; set; }
        [Description("Value for new coefficient Interger")]
        public int OverRideInterger { get; set; }
        
        [EventSubscribe("Sowing")]
        private void OnSowing(object sender, EventArgs e)
        {
            object ResetValue = OverRideInterger;
            zone.Set(OverRidePath, ResetValue);
        }
    }
}
       
<br/>
FIELD.POTATOHARVESTRULE
-----------------------

        using System;
        using Models.Core;
        using Models.PMF;
        using System.Xml.Serialization;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;
               [Link] Summary Summary;
               [Description("HarvestDate Date")]
               public DateTime HarvestDate { get; set; }            
               [XmlIgnore] public string FinalTag { get; set;}
               [XmlIgnore] public bool Harvested {get; set;}
               [XmlIgnore] public bool ReadyForHarvest {get; set;}
               
               [EventSubscribe("Commencing")]
               private void OnSimulationCommencing(object sender, EventArgs e)
               {
               FinalTag = "";
               Harvested = false;
               ReadyForHarvest = false;
               }
               
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
               if (ReadyForHarvest == true)
                   {
                   Potato.Harvest();
                   ReadyForHarvest = false;
                   Harvested = true;
                   }
               FinalTag = "";    
               }
               
               [EventSubscribe("DoManagementCalculations")]
               private void OnDoManagementCalculations(object sender, EventArgs e)
               {
                if ((Clock.Today == HarvestDate)&&(Harvested == false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
                if((Potato.Phenology.Stage>=7)&&(Harvested==false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
               }
            }
        }
                
<br/>
SIMULATION LOG:
---------------


1998-10-26 Field.Irrigation
    70.0 mm of water added at depth 0
    


1998-11-02 Field.Potato
    A crop of Potato (cultivar = RussetBurbank) was sown today at a population of 2.16450216450216 plants/m2 with 3.8 buds per plant at a row spacing of 150 and a depth of 160 mm
    


1998-11-02 Field.Potato.Summariser
    Peeping
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


1998-11-30 Field.Potato.Summariser
    Emergence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


1998-12-15 Field.Irrigation
    70.0 mm of water added at depth 0
    


1998-12-25 Field.Potato.Summariser
    TuberInitiation
      LAI = 0.90 (m^2/m^2)
      Above Ground Biomass = 60.11 (g/m^2)
    
    


1998-12-29 Field.Irrigation
    10.0 mm of water added at depth 0
    


1998-12-29 Field.Fertiliser
    150 kg/ha of UreaN added at depth 10 layer 1
    


1998-12-30 Field.Irrigation
    55.0 mm of water added at depth 0
    


1999-01-07 Field.Irrigation
    50.0 mm of water added at depth 0
    


1999-01-21 Field.Irrigation
    40.0 mm of water added at depth 0
    


1999-02-10 Field.Irrigation
    28.0 mm of water added at depth 0
    


1999-02-19 Field.Irrigation
    15.0 mm of water added at depth 0
    


1999-03-09 Field.Irrigation
    25.0 mm of water added at depth 0
    


1999-03-15 Field.Potato.Summariser
    FinalLeaf
      LAI = 0.31 (m^2/m^2)
      Above Ground Biomass = 242.86 (g/m^2)
    
    


1999-04-04 Field.Potato.Summariser
    FullSenescence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 242.86 (g/m^2)
    
    


1999-04-24 Field.Potato.Summariser
    Maturity
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 242.86 (g/m^2)
    
    


1999-04-25 Field.Potato.Summariser
    Maturity
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 242.86 (g/m^2)
    
    Maturity
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 242.86 (g/m^2)
    
    


1999-04-25 Field.Potato
    A crop of Potato was harvested today, Yeahhh
    


############################################################################
.BAXTERSSOWING2NOVPOPULATION4
-----------------------------
Simulation name:   BaxtersSowing2NovPopulation4

<br/>
WEATHER
-------
Weather file name:   lincoln.met

<br/>
CLOCK
-----
The start date of the simulation:   1998-10-14
  The end date of the simulation:   1999-05-01

<br/>
FIELD.SOIL
----------
    Record number:       0
 Latitude (WGS84):   0.000
Longitude (WGS84):   0.000

<br/>
FIELD.SOIL.ANALYSIS
-------------------
Depth (cm)  PH (1:5 water)
      0-10             6.6
     10-30             6.2
     30-60             5.7
     60-90             5.5
    90-120             5.5
   120-150             5.5

<br/>
FIELD.SOIL.INITIAL WATER
------------------------
        Fraction full:          1.000
    Depth of wet soil:            NaN
Plant available water:   180.000 (mm)

<br/>
FIELD.SOIL.WATER
----------------
Depth (cm)  BD (g/cc)  Air dry (mm/mm)  LL15 (mm/mm)  DUL (mm/mm)  SAT (mm/mm)
      0-10       1.20             0.08          0.13         0.33         0.50
     10-30       1.20             0.13          0.13         0.33         0.50
     30-60       1.20             0.10          0.10         0.31         0.44
     60-90       1.20             0.06          0.06         0.15         0.46
    90-120       1.20             0.04          0.04         0.10         0.44
   120-150       1.20             0.02          0.02         0.06         0.44

<br/>
FIELD.SOIL.WATER.WHEATSOIL
--------------------------
wheat Depth (cm)  wheat LL (mm/mm)  wheat PAWC (mm)  wheat KL (mm/mm)  wheat XF (mm/mm)
            0-10              0.13             20.0              0.06               1.0
           10-30              0.13             40.0              0.06               1.0
           30-60               0.1             63.0              0.06               1.0
           60-90              0.08             21.0              0.06               1.0
          90-120              0.11              0.0              0.06               1.0
         120-150              0.11              0.0              0.06               1.0
                                              144.0                                    

<br/>
FIELD.SOIL.WATER.POTATOSOIL
---------------------------
Potato Depth (cm)  Potato LL (mm/mm)  Potato PAWC (mm)  Potato KL (mm/mm)  Potato XF (mm/mm)
             0-10               0.13              20.0               0.10                1.0
            10-30               0.13              40.0               0.06                1.0
            30-60               0.27              12.0               0.03                0.1
            60-90               0.27               0.0               0.01                0.0
           90-120                0.3               0.0               0.00                0.0
          120-150                0.3               0.0               0.00                0.0
                                                  72.0                                      

<br/>
FIELD.SOIL.SOILORGANICMATTER
----------------------------
                  Root C:N ratio:     30.000
             Root Weight (kg/ha):   3000.000
                  Soil C:N ratio:     11.500
Erosion enrichment coefficient A:      7.400
Erosion enrichment coefficient B:      0.200

Depth (cm)  OC (Total %)  FBiom (0-1)  FInert (0-1)
      0-10          1.82        0.025           0.3
     10-30          1.47        0.025           0.4
     30-60          1.20        0.015          0.75
     60-90          1.03         0.01           0.9
    90-120          0.47         0.01          0.96
   120-150          0.47         0.01          0.96

<br/>
FIELD.SOIL.INITIAL NITROGEN
---------------------------
Depth (cm)  NO3kgha  NH4kgha
      0-10    217.0      0.0
     10-30     30.0      0.0
     30-60      5.0      0.0
     60-90      5.0      0.0
    90-120      0.0      0.0
   120-150      0.0      0.0

<br/>
FIELD.POTATOSOWINGRULE
----------------------

        using System;
        using Models.Core;
        using Models.PMF;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;

               [Description("Spacing (mm) between plants within rows")]
               public double RowSpace { get; set; }
               [Description("Spacing (mm) between rows")]
               public double RowWidth { get; set; }
               [Description("Depth (mm) tubers are planted")]
               public double PlantingDepth { get; set; }
               [Description("Number of stems per seed tuber")]
               public double StemNumberPerSeedTuber { get; set; }
               [Description("Cultivar")]
               [Display(DisplayType = DisplayAttribute.DisplayTypeEnum.CultivarName)]
               public string CultivarName { get; set; }
               [Description("Sowing Date")]
               public DateTime SowingDate { get; set; }

               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
                double PlantPopulation = 1/((RowWidth/1000)*(RowSpace/1000));

                if (Clock.Today.Date == SowingDate)
                    Potato.Sow(population:PlantPopulation, cultivar:CultivarName, depth:PlantingDepth, rowSpacing:150, budNumber:StemNumberPerSeedTuber);
                //Potato.Sow(... Contains the following arguements:
                //Population  double  Required  Seeds sowing/m2
                //Cultivar    string  Required  "NameOfCultivar"
                //Depth       double  Optional  Depth (mm) seed sown.   Default is 100mm 
                //MaxCover    double  Optional  Proportion (0-1) of the ground row crop will cover.   Default is 1.0
                //BudNumber   double  Optional  Number of mainstems per seed sown.  Default is 1.0
                //RowSpacing  double  Optional  Spaceing (mm) between drill rows when crop is sown.  Default is 150mm
                //CropClass   string  Optional  Crop class to instantiate when crop is sown.  Default is "Plant"
               }
            }
        }
                
<br/>
FIELD.EXTRAVARIABLES
--------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.Soils;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Clock Clock;
        [Link] Soils.Soil Soil;
        [Link] Models.SurfaceOM.SurfaceOrganicMatter SOM;
        [Link] Weather Met;   
        [Link] Fertiliser Fert;
        [Link] Irrigation Irrig;  
        [Link] Plant Potato;    
        [Link] Zone zone;
                    
        [XmlIgnore] public bool InitialDay { get; set; }
        
        [XmlIgnore] public double AccumPlantN { get; set; }
        [XmlIgnore] public double AccumMineralisation { get; set; }
        [XmlIgnore] public double AccumDenit { get; set; }
        [XmlIgnore] public double AccumFert { get; set; }
        [XmlIgnore] public double AccumLeach { get; set; }
        [XmlIgnore] public double AccumDetach { get; set; }
        [XmlIgnore] public double DeltaSoilOMN { get; set; }
        [XmlIgnore] public double DeltaSurfaceOMN { get; set; }
        [XmlIgnore] public double DeltaSoilMineralN { get; set; }
        [XmlIgnore] public double SoilNitrogenContent { get; set; }
        
        [XmlIgnore] public double AccumEO { get; set; }
        [XmlIgnore] public double AccumEP { get; set; }
        [XmlIgnore] public double AccumES { get; set; }
        [XmlIgnore] public double AccumDrainage { get; set; }
        [XmlIgnore] public double AccumRunoff { get; set; }
        [XmlIgnore] public double AccumOutflowLat { get; set; }
        [XmlIgnore] public double AccumIrrigation { get; set; }
        [XmlIgnore] public double AccumRainfall { get; set; }
        [XmlIgnore] public double SoilWaterDeficit { get; set; }
        
        [XmlIgnore] public double AccumTtemerg { get; set; }
        
        [XmlIgnore] public double  InitialSoilOMN { get; set; }
        [XmlIgnore] public double  InitialSurfaceOMN { get; set; }
        [XmlIgnore] public double  InitialMineralN { get; set; }
        
        [XmlIgnore] public double SWC { get; set; }
        [XmlIgnore] public double DUL { get; set; }
        [XmlIgnore] public double OutFlowLat { get; set; }

        [XmlIgnore] public double FomN { get; set; }
        [XmlIgnore] public double BiomN { get; set; }
        [XmlIgnore] public double HumN { get; set; }
        [XmlIgnore] public double OrganicN { get; set; }
        [XmlIgnore] public double NO3N { get; set; }
        [XmlIgnore] public double NH4N { get; set; }
        [XmlIgnore] public double UreaN { get; set; }
        [XmlIgnore] public double MineralN { get; set; }
        [XmlIgnore] public double DltNMinRes { get; set; }
        [XmlIgnore] public double DltNMinTot { get; set; }
        
        [EventSubscribe("Commencing")]
        private void OnSimulationCommencing(object sender, EventArgs e)
        {
            InitialDay = true;
        }       
        
        [EventSubscribe("DoManagement")]
        private void OnDoManagement(object sender, EventArgs e)
        {
            //!!!!!! Nitrogen balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!
               FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            OrganicN = FomN + HumN + BiomN;
            NO3N = Utility.Math.Sum(Soil.NO3N);
            NH4N = Utility.Math.Sum(Soil.NH4N);
            UreaN = Utility.Math.Sum(Soil.SoilNitrogen.urea);
            MineralN = NO3N + NH4N + UreaN; 
            DltNMinRes = Utility.Math.Sum(Soil.SoilNitrogen.dlt_n_min_res);
            DltNMinTot = Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            int layers = Soil.Thickness.Length;
            if (InitialDay == true)
            {
                InitialSurfaceOMN = SOM.N;
                InitialSoilOMN = OrganicN;
                InitialMineralN = MineralN;
                InitialDay = false;
            }
            AccumFert += Fert.NitrogenApplied;
            DeltaSurfaceOMN = SOM.N - InitialSurfaceOMN;
            AccumLeach = AccumLeach - Soil.SoilWater.LeachNH4 - Soil.SoilWater.LeachNO3 - Soil.SoilWater.LeachUrea; //Fails
            AccumMineralisation += Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            AccumDenit -= Utility.Math.Sum(Soil.SoilNitrogen.Denitrification);
            AccumPlantN -= (double)zone.Get("Potato.Root.NUptake");
            DeltaSoilOMN = OrganicN - InitialSoilOMN;
            DeltaSoilMineralN = MineralN - InitialMineralN;
            SoilNitrogenContent = MineralN;
            
            //!!!!!! Water balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!

            AccumIrrigation += Irrig.IrrigationApplied;
            AccumRainfall += Met.Rain;
            AccumEP -= (double)zone.Get("Potato.Leaf.Transpiration");
            SoilWaterDeficit =  (SWC - DUL);
            double OutFlowLat = Utility.Math.Sum(Soil.SoilWater.outflow_lat);
            AccumOutflowLat -= OutFlowLat;
            
            //!!!!!! Thermal time calculation !!!!!!
            //!!!!!! ^^^^^^^^^^^^^^^^^^^^^^^^ !!!!!!
            if (Potato.Phenology.Stage >= 3)
            AccumTtemerg += Potato.Phenology.ThermalTime.Value;
        }
        
        [EventSubscribe("DoManagementCalculations")]
        private void OnDoManagementCalculations(object sender, EventArgs e)
        {
            FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            
            
            AccumEO -= Soil.SoilWater.Eo;
            AccumES -= Soil.SoilWater.Es; 
            AccumDrainage -= Soil.SoilWater.Drainage;
            AccumRunoff -= Soil.SoilWater.Runoff;
            SWC = Utility.Math.Sum(Soil.SoilWater.SWmm);
            DUL = Utility.Math.Sum(Soil.SoilWater.DULmm);
        }
    }
}
       
<br/>
FIELD.REPORT
------------
                                   Output variables  Output frequency
                                      [Clock].Today  [Clock].DoReport
               [ExtraVariables].Script.AccumTtemerg                  
                  Potato.Phenology.CurrentPhaseName                  
                             Potato.Phenology.Stage                  
                [ExtraVariables].Script.AccumPlantN                  
        [ExtraVariables].Script.AccumMineralisation                  
                 [ExtraVariables].Script.AccumDenit                  
                  [ExtraVariables].Script.AccumFert                  
                 [ExtraVariables].Script.AccumLeach                  
                [ExtraVariables].Script.AccumDetach                  
               [ExtraVariables].Script.DeltaSoilOMN                  
            [ExtraVariables].Script.DeltaSurfaceOMN                  
          [ExtraVariables].Script.DeltaSoilMineralN                  
                          Potato.Root.NSupplyUptake                  
                                [Soil].SoilWater.Eo                  
                                [Soil].SoilWater.Es                  
                        [ExtraVariables].Script.SWC                  
                        [ExtraVariables].Script.DUL                  
                          [Soil].SoilWater.Drainage                  
                            [Soil].SoilWater.Runoff                  
                 [ExtraVariables].Script.OutFlowLat                  
                              [Soil].SoilWater.pond                  
                    [ExtraVariables].Script.AccumEO                  
                    [ExtraVariables].Script.AccumEP                  
                    [ExtraVariables].Script.AccumES                  
              [ExtraVariables].Script.AccumDrainage                  
                [ExtraVariables].Script.AccumRunoff                  
              [ExtraVariables].Script.AccumRainfall                  
            [ExtraVariables].Script.AccumIrrigation                  
            [ExtraVariables].Script.AccumOutflowLat                  
           [ExtraVariables].Script.SoilWaterDeficit                  
                   Potato.Summariser.AboveGround.Wt                  
                   Potato.Summariser.BelowGround.Wt                  
                         Potato.Summariser.Total.Wt                  
                     Potato.Summariser.TotalDead.Wt                  
                     Potato.Summariser.TotalLive.Wt                  
                                Potato.Leaf.Dead.Wt                  
                                Potato.Leaf.Live.Wt                  
                                Potato.Stem.Dead.Wt                  
                                Potato.Stem.Live.Wt                  
                               Potato.Tuber.Dead.Wt                  
                               Potato.Tuber.Live.Wt                  
                                Potato.Root.Dead.Wt                  
                                Potato.Root.Live.Wt                  
                    Potato.Summariser.AboveGround.N                  
                    Potato.Summariser.BelowGround.N                  
                          Potato.Summariser.Total.N                  
                      Potato.Summariser.TotalLive.N                  
                      Potato.Summariser.TotalDead.N                  
                                 Potato.Leaf.Dead.N                  
                                 Potato.Leaf.Live.N                  
                                 Potato.Stem.Dead.N                  
                                 Potato.Stem.Live.N                  
                                Potato.Tuber.Dead.N                  
                                Potato.Tuber.Live.N                  
                                 Potato.Root.Live.N                  
                                 Potato.Root.Dead.N                  
                             Potato.Leaf.Live.NConc                  
                             Potato.Leaf.Dead.NConc                  
                             Potato.Stem.Live.NConc                  
                             Potato.Stem.Dead.NConc                  
                            Potato.Tuber.Live.NConc                  
                            Potato.Tuber.Dead.NConc                  
                             Potato.Root.Live.NConc                  
                             Potato.Root.Dead.NConc                  
                            Potato.Root.WaterSupply                  
                            Potato.Root.WaterUptake                  
                          Potato.Leaf.Transpiration                  
                            Potato.Leaf.WaterDemand                  
                                  Potato.Root.Depth                  
                             Potato.Leaf.CoverGreen                  
                             Potato.Leaf.CoverTotal                  
                              Potato.Leaf.CoverDead                  
                                    Potato.Leaf.LAI                  
                                Potato.Leaf.LAIDead                  
                            Potato.Structure.Height                  
                                     Potato.Leaf.Fn                  
                                     Potato.Leaf.Fw                  
                Potato.Leaf.Photosynthesis.FT.Value                  
              Potato.Leaf.Photosynthesis.FVPD.Value                  
                  Potato.Structure.PlantTotalNodeNo                  
                     Potato.Structure.TotalStemPopn                  
               Potato.Leaf.PlantAppearedGreenLeafNo                  
                      Potato.Leaf.ExpandingCohortNo                  
                       Potato.Leaf.AppearedCohortNo                  
                           Potato.Leaf.DeadCohortNo                  
                    Potato.Structure.MainStemNodeNo                  
                      Potato.Leaf.SenescingCohortNo                  
             Potato.Structure.PrimaryBudTotalNodeNo                  
Potato.Leaf.LeafCohortParameters.MinimumNConc.Value                  
                     Potato.Stem.MinimumNConc.Value                  
                    Potato.Tuber.MinimumNConc.Value                  
                     Potato.Root.MinimumNConc.Value                  
Potato.Leaf.LeafCohortParameters.MaximumNConc.Value                  
                     Potato.Stem.MaximumNConc.Value                  
                    Potato.Tuber.MaximumNConc.Value                  
                     Potato.Root.MaximumNConc.Value                  
                      Potato.Stem.Live.StructuralWt                  
                   Potato.Stem.Live.NonStructuralWt                  
                           Potato.Leaf.SpecificArea                  
                       Potato.Leaf.ExpandedCohortNo                  
                              [Soil].SoilWater.SWmm                  
                                        [Soil].NO3N                  
        [ExtraVariables].Script.SoilNitrogenContent                  
                          Potato.Arbitrator.NDemand                  
                            [MicroClimate].net_radn                  
                                [MicroClimate].peta                  
                                [MicroClimate].petr                  
                       [ExtraVariables].Script.FomN                  
                       [ExtraVariables].Script.HumN                  
                      [ExtraVariables].Script.BiomN                  
                 [ExtraVariables].Script.DltNMinRes                  
                 [ExtraVariables].Script.DltNMinTot                  
                [PotatoHarvestRule].Script.FinalTag                  
                               Potato.Tuber.LiveFWt                  
                Potato.Tuber.DryMatterContent.Value                  

<br/>
FIELD.SURFACE ORGANIC MATTER
----------------------------
Surface organic matter pool name:             wheat
Surface organic matter pool type:             wheat
 Mass of surface residue (kg/ha):      2000 (kg/ha)
         Standing fraction (0-1):           0 (0-1)
     Carbon:Nitrogen ratio (g/g):          80 (g/g)
                  Carbon content:   800.000 (kg/ha)
                Nitrogen content:    10.000 (kg/ha)
              Phosphorus content:     0.000 (kg/ha)

<br/>
FIELD.SETINTERGERCROPPARAMETER
------------------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Plant Plant;          
        [Link] Zone zone;
        [Description("Path for coefficient to be Overwritten")]
        public string OverRidePath { get; set; }
        [Description("Value for new coefficient Interger")]
        public int OverRideInterger { get; set; }
        
        [EventSubscribe("Sowing")]
        private void OnSowing(object sender, EventArgs e)
        {
            object ResetValue = OverRideInterger;
            zone.Set(OverRidePath, ResetValue);
        }
    }
}
       
<br/>
FIELD.POTATOHARVESTRULE
-----------------------

        using System;
        using Models.Core;
        using Models.PMF;
        using System.Xml.Serialization;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;
               [Link] Summary Summary;
               [Description("HarvestDate Date")]
               public DateTime HarvestDate { get; set; }            
               [XmlIgnore] public string FinalTag { get; set;}
               [XmlIgnore] public bool Harvested {get; set;}
               [XmlIgnore] public bool ReadyForHarvest {get; set;}
               
               [EventSubscribe("Commencing")]
               private void OnSimulationCommencing(object sender, EventArgs e)
               {
               FinalTag = "";
               Harvested = false;
               ReadyForHarvest = false;
               }
               
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
               if (ReadyForHarvest == true)
                   {
                   Potato.Harvest();
                   ReadyForHarvest = false;
                   Harvested = true;
                   }
               FinalTag = "";    
               }
               
               [EventSubscribe("DoManagementCalculations")]
               private void OnDoManagementCalculations(object sender, EventArgs e)
               {
                if ((Clock.Today == HarvestDate)&&(Harvested == false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
                if((Potato.Phenology.Stage>=7)&&(Harvested==false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
               }
            }
        }
                
<br/>
SIMULATION LOG:
---------------


1998-10-26 Field.Irrigation
    70.0 mm of water added at depth 0
    


1998-11-02 Field.Potato
    A crop of Potato (cultivar = RussetBurbank) was sown today at a population of 4.32900432900433 plants/m2 with 3.8 buds per plant at a row spacing of 150 and a depth of 160 mm
    


1998-11-02 Field.Potato.Summariser
    Peeping
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


1998-11-30 Field.Potato.Summariser
    Emergence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


1998-12-15 Field.Irrigation
    70.0 mm of water added at depth 0
    


1998-12-25 Field.Potato.Summariser
    TuberInitiation
      LAI = 1.72 (m^2/m^2)
      Above Ground Biomass = 112.75 (g/m^2)
    
    


1998-12-29 Field.Irrigation
    10.0 mm of water added at depth 0
    


1998-12-29 Field.Fertiliser
    150 kg/ha of UreaN added at depth 10 layer 1
    


1998-12-30 Field.Irrigation
    55.0 mm of water added at depth 0
    


1999-01-07 Field.Irrigation
    50.0 mm of water added at depth 0
    


1999-01-21 Field.Irrigation
    40.0 mm of water added at depth 0
    


1999-02-10 Field.Irrigation
    28.0 mm of water added at depth 0
    


1999-02-19 Field.Irrigation
    15.0 mm of water added at depth 0
    


1999-03-09 Field.Irrigation
    25.0 mm of water added at depth 0
    


1999-03-15 Field.Potato.Summariser
    FinalLeaf
      LAI = 0.23 (m^2/m^2)
      Above Ground Biomass = 264.57 (g/m^2)
    
    


1999-04-04 Field.Potato.Summariser
    FullSenescence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 264.57 (g/m^2)
    
    


1999-04-24 Field.Potato.Summariser
    Maturity
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 264.57 (g/m^2)
    
    


1999-04-25 Field.Potato.Summariser
    Maturity
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 264.57 (g/m^2)
    
    Maturity
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 264.57 (g/m^2)
    
    


1999-04-25 Field.Potato
    A crop of Potato was harvested today, Yeahhh
    


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
.FSPNITROGEN0
-------------
Simulation name:   FSPNitrogen0

<br/>
WEATHER
-------
Weather file name:   Pukehohe.met

<br/>
CLOCK
-----
The start date of the simulation:   2000-05-01
  The end date of the simulation:   2000-12-01

<br/>
FIELD.SOIL
----------
    Record number:       0
 Latitude (WGS84):   0.000
Longitude (WGS84):   0.000

<br/>
FIELD.SOIL.ANALYSIS
-------------------
Depth (cm)  PH (1:5 water)
      0-10             6.6
     10-30             6.2
     30-60             5.7
     60-90             5.5
    90-120             5.5
   120-150             5.5

<br/>
FIELD.SOIL.INITIAL WATER
------------------------
        Fraction full:          1.000
    Depth of wet soil:            NaN
Plant available water:   294.000 (mm)

<br/>
FIELD.SOIL.WATER
----------------
Depth (cm)  BD (g/cc)  Air dry (mm/mm)  LL15 (mm/mm)  DUL (mm/mm)  SAT (mm/mm)
      0-10       1.20             0.08          0.13         0.33         0.50
     10-30       1.20             0.08          0.13         0.33         0.50
     30-60       1.20             0.05          0.10         0.31         0.44
     60-90       1.20             0.04          0.08         0.27         0.46
    90-120       1.20             0.06          0.11         0.30         0.44
   120-150       1.20             0.06          0.11         0.30         0.44

<br/>
FIELD.SOIL.WATER.WHEATSOIL
--------------------------
wheat Depth (cm)  wheat LL (mm/mm)  wheat PAWC (mm)  wheat KL (mm/mm)  wheat XF (mm/mm)
            0-10              0.13             20.0              0.06               1.0
           10-30              0.13             40.0              0.06               1.0
           30-60               0.1             63.0              0.06               1.0
           60-90              0.08             57.0              0.06               1.0
          90-120              0.11             57.0              0.06               1.0
         120-150              0.11             57.0              0.06               1.0
                                              294.0                                    

<br/>
FIELD.SOIL.WATER.POTATOSOIL
---------------------------
Potato Depth (cm)  Potato LL (mm/mm)  Potato PAWC (mm)  Potato KL (mm/mm)  Potato XF (mm/mm)
             0-10               0.13              20.0               0.10                1.0
            10-30               0.13              40.0               0.10                1.0
            30-60                0.1              63.0               0.07                1.0
            60-90               0.08              57.0               0.05                1.0
           90-120               0.11              57.0               0.05                1.0
          120-150               0.11              57.0               0.05                1.0
                                                 294.0                                      

<br/>
FIELD.SOIL.SOILORGANICMATTER
----------------------------
                  Root C:N ratio:     30.000
             Root Weight (kg/ha):   3000.000
                  Soil C:N ratio:     11.500
Erosion enrichment coefficient A:      7.400
Erosion enrichment coefficient B:      0.200

Depth (cm)  OC (Total %)  FBiom (0-1)  FInert (0-1)
      0-10          1.82        0.025           0.6
     10-30          1.47        0.025           0.7
     30-60          1.20        0.015          0.75
     60-90          1.03         0.01           0.9
    90-120          0.47         0.01          0.96
   120-150          0.47         0.01          0.96

<br/>
FIELD.SOIL.INITIAL NITROGEN
---------------------------
Depth (cm)  NO3kgha  NH4kgha       SWmm
      0-10     18.0      0.1  999,999.0
     10-30     16.8      0.2  999,999.0
     30-60     25.2      0.4  999,999.0
     60-90      3.6      0.4  999,999.0
    90-120      3.6      0.4  999,999.0
   120-150      3.6      0.4  999,999.0

<br/>
FIELD.POTATOSOWINGRULE
----------------------

        using System;
        using Models.Core;
        using Models.PMF;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;

               [Description("Spacing (mm) between plants within rows")]
               public double RowSpace { get; set; }
               [Description("Spacing (mm) between rows")]
               public double RowWidth { get; set; }
               [Description("Depth (mm) tubers are planted")]
               public double PlantingDepth { get; set; }
               [Description("Number of stems per seed tuber")]
               public double StemNumberPerSeedTuber { get; set; }
               [Description("Cultivar")]
               [Display(DisplayType = DisplayAttribute.DisplayTypeEnum.CultivarName)]
               public string CultivarName { get; set; }
               [Description("Sowing Date")]
               public DateTime SowingDate { get; set; }

               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
                double PlantPopulation = 1/((RowWidth/1000)*(RowSpace/1000));

                if (Clock.Today.Date == SowingDate)
                    Potato.Sow(population:PlantPopulation, cultivar:CultivarName, depth:PlantingDepth, rowSpacing:150, budNumber:StemNumberPerSeedTuber);
                //Potato.Sow(... Contains the following arguements:
                //Population  double  Required  Seeds sowing/m2
                //Cultivar    string  Required  "NameOfCultivar"
                //Depth       double  Optional  Depth (mm) seed sown.   Default is 100mm 
                //MaxCover    double  Optional  Proportion (0-1) of the ground row crop will cover.   Default is 1.0
                //BudNumber   double  Optional  Number of mainstems per seed sown.  Default is 1.0
                //RowSpacing  double  Optional  Spaceing (mm) between drill rows when crop is sown.  Default is 150mm
                //CropClass   string  Optional  Crop class to instantiate when crop is sown.  Default is "Plant"
               }
            }
        }
                
<br/>
FIELD.EXTRAVARIABLES
--------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.Soils;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Clock Clock;
        [Link] Soils.Soil Soil;
        [Link] Models.SurfaceOM.SurfaceOrganicMatter SOM;
        [Link] Weather Met;   
        [Link] Fertiliser Fert;
        [Link] Irrigation Irrig;  
        [Link] Plant Potato;  
        [Link] Zone zone;
                    
        [XmlIgnore] public bool InitialDay { get; set; }
        
        [XmlIgnore] public double AccumPlantN { get; set; }
        [XmlIgnore] public double AccumMineralisation { get; set; }
        [XmlIgnore] public double AccumDenit { get; set; }
        [XmlIgnore] public double AccumFert { get; set; }
        [XmlIgnore] public double AccumLeach { get; set; }
        [XmlIgnore] public double AccumDetach { get; set; }
        [XmlIgnore] public double DeltaSoilOMN { get; set; }
        [XmlIgnore] public double DeltaSurfaceOMN { get; set; }
        [XmlIgnore] public double DeltaSoilMineralN { get; set; }
        [XmlIgnore] public double SoilNitrogenContent { get; set; }
        
        [XmlIgnore] public double AccumEO { get; set; }
        [XmlIgnore] public double AccumEP { get; set; }
        [XmlIgnore] public double AccumES { get; set; }
        [XmlIgnore] public double AccumDrainage { get; set; }
        [XmlIgnore] public double AccumRunoff { get; set; }
        [XmlIgnore] public double AccumOutflowLat { get; set; }
        [XmlIgnore] public double AccumIrrigation { get; set; }
        [XmlIgnore] public double AccumRainfall { get; set; }
        [XmlIgnore] public double SoilWaterDeficit { get; set; }
        
        [XmlIgnore] public double AccumTtemerg { get; set; }
        
        [XmlIgnore] public double  InitialSoilOMN { get; set; }
        [XmlIgnore] public double  InitialSurfaceOMN { get; set; }
        [XmlIgnore] public double  InitialMineralN { get; set; }
        
        [XmlIgnore] public double SWC { get; set; }
        [XmlIgnore] public double DUL { get; set; }
        [XmlIgnore] public double OutFlowLat { get; set; }

        [XmlIgnore] public double FomN { get; set; }
        [XmlIgnore] public double BiomN { get; set; }
        [XmlIgnore] public double HumN { get; set; }
        [XmlIgnore] public double OrganicN { get; set; }
        [XmlIgnore] public double NO3N { get; set; }
        [XmlIgnore] public double NH4N { get; set; }
        [XmlIgnore] public double UreaN { get; set; }
        [XmlIgnore] public double MineralN { get; set; }
        [XmlIgnore] public double DltNMinRes { get; set; }
        [XmlIgnore] public double DltNMinTot { get; set; }
        
        [EventSubscribe("Commencing")]
        private void OnSimulationCommencing(object sender, EventArgs e)
        {
            InitialDay = true;
        }       
        
        [EventSubscribe("DoManagement")]
        private void OnDoManagement(object sender, EventArgs e)
        {
            //!!!!!! Nitrogen balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!
               FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            OrganicN = FomN + HumN + BiomN;
            NO3N = Utility.Math.Sum(Soil.NO3N);
            NH4N = Utility.Math.Sum(Soil.NH4N);
            UreaN = Utility.Math.Sum(Soil.SoilNitrogen.urea);
            MineralN = NO3N + NH4N + UreaN; 
            DltNMinRes = Utility.Math.Sum(Soil.SoilNitrogen.dlt_n_min_res);
            DltNMinTot = Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            int layers = Soil.Thickness.Length;
            if (InitialDay == true)
            {
                InitialSurfaceOMN = SOM.N;
                InitialSoilOMN = OrganicN;
                InitialMineralN = MineralN;
                InitialDay = false;
            }
            AccumFert += Fert.NitrogenApplied;
            DeltaSurfaceOMN = SOM.N - InitialSurfaceOMN;
            AccumLeach = AccumLeach - Soil.SoilWater.LeachNH4 - Soil.SoilWater.LeachNO3 - Soil.SoilWater.LeachUrea; //Fails
            AccumMineralisation += Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            AccumDenit -= Utility.Math.Sum(Soil.SoilNitrogen.Denitrification);
            AccumPlantN -= (double)zone.Get("Potato.Root.NUptake");
            DeltaSoilOMN = OrganicN - InitialSoilOMN;
            DeltaSoilMineralN = MineralN - InitialMineralN;
            SoilNitrogenContent = MineralN;
            
            //!!!!!! Water balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!

            AccumIrrigation += Irrig.IrrigationApplied;
            AccumRainfall += Met.Rain;
            AccumEP -= (double)zone.Get("Potato.Leaf.Transpiration");
            SoilWaterDeficit =  (SWC - DUL);
            double OutFlowLat = Utility.Math.Sum(Soil.SoilWater.outflow_lat);
            AccumOutflowLat -= OutFlowLat;
            
            //!!!!!! Thermal time calculation !!!!!!
            //!!!!!! ^^^^^^^^^^^^^^^^^^^^^^^^ !!!!!!
            if (Potato.Phenology.Stage >= 3)
            AccumTtemerg += Potato.Phenology.ThermalTime.Value;
        }
        
        [EventSubscribe("DoManagementCalculations")]
        private void OnDoManagementCalculations(object sender, EventArgs e)
        {
            FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            
            
            AccumEO -= Soil.SoilWater.Eo;
            AccumES -= Soil.SoilWater.Es; 
            AccumDrainage -= Soil.SoilWater.Drainage;
            AccumRunoff -= Soil.SoilWater.Runoff;
            SWC = Utility.Math.Sum(Soil.SoilWater.SWmm);
            DUL = Utility.Math.Sum(Soil.SoilWater.DULmm);
        }
    }
}
       
<br/>
FIELD.REPORT
------------
                                   Output variables  Output frequency
                                      [Clock].Today  [Clock].DoReport
               [ExtraVariables].Script.AccumTtemerg                  
                  Potato.Phenology.CurrentPhaseName                  
                             Potato.Phenology.Stage                  
                [ExtraVariables].Script.AccumPlantN                  
        [ExtraVariables].Script.AccumMineralisation                  
                 [ExtraVariables].Script.AccumDenit                  
                  [ExtraVariables].Script.AccumFert                  
                 [ExtraVariables].Script.AccumLeach                  
                [ExtraVariables].Script.AccumDetach                  
               [ExtraVariables].Script.DeltaSoilOMN                  
            [ExtraVariables].Script.DeltaSurfaceOMN                  
          [ExtraVariables].Script.DeltaSoilMineralN                  
                          Potato.Root.NSupplyUptake                  
                                [Soil].SoilWater.Eo                  
                                [Soil].SoilWater.Es                  
                        [ExtraVariables].Script.SWC                  
                        [ExtraVariables].Script.DUL                  
                          [Soil].SoilWater.Drainage                  
                            [Soil].SoilWater.Runoff                  
                 [ExtraVariables].Script.OutFlowLat                  
                              [Soil].SoilWater.pond                  
                    [ExtraVariables].Script.AccumEO                  
                    [ExtraVariables].Script.AccumEP                  
                    [ExtraVariables].Script.AccumES                  
              [ExtraVariables].Script.AccumDrainage                  
                [ExtraVariables].Script.AccumRunoff                  
              [ExtraVariables].Script.AccumRainfall                  
            [ExtraVariables].Script.AccumIrrigation                  
            [ExtraVariables].Script.AccumOutflowLat                  
           [ExtraVariables].Script.SoilWaterDeficit                  
                   Potato.Summariser.AboveGround.Wt                  
                   Potato.Summariser.BelowGround.Wt                  
                         Potato.Summariser.Total.Wt                  
                     Potato.Summariser.TotalDead.Wt                  
                     Potato.Summariser.TotalLive.Wt                  
                                Potato.Leaf.Dead.Wt                  
                                Potato.Leaf.Live.Wt                  
                                Potato.Stem.Dead.Wt                  
                                Potato.Stem.Live.Wt                  
                               Potato.Tuber.Dead.Wt                  
                               Potato.Tuber.Live.Wt                  
                                Potato.Root.Dead.Wt                  
                                Potato.Root.Live.Wt                  
                    Potato.Summariser.AboveGround.N                  
                    Potato.Summariser.BelowGround.N                  
                          Potato.Summariser.Total.N                  
                      Potato.Summariser.TotalLive.N                  
                      Potato.Summariser.TotalDead.N                  
                                 Potato.Leaf.Dead.N                  
                                 Potato.Leaf.Live.N                  
                                 Potato.Stem.Dead.N                  
                                 Potato.Stem.Live.N                  
                                Potato.Tuber.Dead.N                  
                                Potato.Tuber.Live.N                  
                                 Potato.Root.Live.N                  
                                 Potato.Root.Dead.N                  
                             Potato.Leaf.Live.NConc                  
                             Potato.Leaf.Dead.NConc                  
                             Potato.Stem.Live.NConc                  
                             Potato.Stem.Dead.NConc                  
                            Potato.Tuber.Live.NConc                  
                            Potato.Tuber.Dead.NConc                  
                             Potato.Root.Live.NConc                  
                             Potato.Root.Dead.NConc                  
                            Potato.Root.WaterSupply                  
                            Potato.Root.WaterUptake                  
                          Potato.Leaf.Transpiration                  
                            Potato.Leaf.WaterDemand                  
                                  Potato.Root.Depth                  
                             Potato.Leaf.CoverGreen                  
                             Potato.Leaf.CoverTotal                  
                              Potato.Leaf.CoverDead                  
                                    Potato.Leaf.LAI                  
                                Potato.Leaf.LAIDead                  
                            Potato.Structure.Height                  
                                     Potato.Leaf.Fn                  
                                     Potato.Leaf.Fw                  
                Potato.Leaf.Photosynthesis.FT.Value                  
              Potato.Leaf.Photosynthesis.FVPD.Value                  
                  Potato.Structure.PlantTotalNodeNo                  
                     Potato.Structure.TotalStemPopn                  
               Potato.Leaf.PlantAppearedGreenLeafNo                  
                      Potato.Leaf.ExpandingCohortNo                  
                       Potato.Leaf.AppearedCohortNo                  
                           Potato.Leaf.DeadCohortNo                  
                    Potato.Structure.MainStemNodeNo                  
                      Potato.Leaf.SenescingCohortNo                  
             Potato.Structure.PrimaryBudTotalNodeNo                  
Potato.Leaf.LeafCohortParameters.MinimumNConc.Value                  
                     Potato.Stem.MinimumNConc.Value                  
                    Potato.Tuber.MinimumNConc.Value                  
                     Potato.Root.MinimumNConc.Value                  
Potato.Leaf.LeafCohortParameters.MaximumNConc.Value                  
                     Potato.Stem.MaximumNConc.Value                  
                    Potato.Tuber.MaximumNConc.Value                  
                     Potato.Root.MaximumNConc.Value                  
                      Potato.Stem.Live.StructuralWt                  
                   Potato.Stem.Live.NonStructuralWt                  
                           Potato.Leaf.SpecificArea                  
                       Potato.Leaf.ExpandedCohortNo                  
                              [Soil].SoilWater.SWmm                  
                                        [Soil].NO3N                  
        [ExtraVariables].Script.SoilNitrogenContent                  
                          Potato.Arbitrator.NDemand                  
                            [MicroClimate].net_radn                  
                                [MicroClimate].peta                  
                                [MicroClimate].petr                  
                       [ExtraVariables].Script.FomN                  
                       [ExtraVariables].Script.HumN                  
                      [ExtraVariables].Script.BiomN                  
                 [ExtraVariables].Script.DltNMinRes                  
                 [ExtraVariables].Script.DltNMinTot                  
                [PotatoHarvestRule].Script.FinalTag                  
                               Potato.Tuber.LiveFWt                  
                Potato.Tuber.DryMatterContent.Value                  

<br/>
FIELD.SURFACE ORGANIC MATTER
----------------------------
Surface organic matter pool name:             wheat
Surface organic matter pool type:             wheat
 Mass of surface residue (kg/ha):      2000 (kg/ha)
         Standing fraction (0-1):           0 (0-1)
     Carbon:Nitrogen ratio (g/g):          80 (g/g)
                  Carbon content:   800.000 (kg/ha)
                Nitrogen content:    10.000 (kg/ha)
              Phosphorus content:     0.000 (kg/ha)

<br/>
FIELD.POTATOHARVESTRULE
-----------------------

        using System;
        using Models.Core;
        using Models.PMF;
        using System.Xml.Serialization;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;
               [Link] Summary Summary;
               [Description("HarvestDate Date")]
               public DateTime HarvestDate { get; set; }            
               [XmlIgnore] public string FinalTag { get; set;}
               [XmlIgnore] public bool Harvested {get; set;}
               [XmlIgnore] public bool ReadyForHarvest {get; set;}
               
               [EventSubscribe("Commencing")]
               private void OnSimulationCommencing(object sender, EventArgs e)
               {
               FinalTag = "";
               Harvested = false;
               ReadyForHarvest = false;
               }
               
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
               if (ReadyForHarvest == true)
                   {
                   Potato.Harvest();
                   ReadyForHarvest = false;
                   Harvested = true;
                   }
               FinalTag = "";    
               }
               
               [EventSubscribe("DoManagementCalculations")]
               private void OnDoManagementCalculations(object sender, EventArgs e)
               {
                if ((Clock.Today == HarvestDate)&&(Harvested == false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
                if((Potato.Phenology.Stage>=7)&&(Harvested==false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
               }
            }
        }
                
<br/>
SIMULATION LOG:
---------------


2000-05-02 Field.Potato
    A crop of Potato (cultivar = IlamHardy) was sown today at a population of 4.63821892393321 plants/m2 with 2.4 buds per plant at a row spacing of 150 and a depth of 170 mm
    


2000-05-02 Field.Potato.Summariser
    Peeping
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


2000-05-26 Field.Potato.Summariser
    Emergence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


2000-06-27 Field.Potato.Summariser
    TuberInitiation
      LAI = 0.44 (m^2/m^2)
      Above Ground Biomass = 22.73 (g/m^2)
    
    


2000-10-11 Field.Potato.Summariser
    FinalLeaf
      LAI = 0.11 (m^2/m^2)
      Above Ground Biomass = 44.10 (g/m^2)
    
    


2000-10-17 Field.Potato.Summariser
    FinalLeaf
      LAI = 0.05 (m^2/m^2)
      Above Ground Biomass = 44.10 (g/m^2)
    
    Maturity
      LAI = 0.05 (m^2/m^2)
      Above Ground Biomass = 44.10 (g/m^2)
    
    


2000-10-17 Field.Potato
    A crop of Potato was harvested today, Yeahhh
    


############################################################################
.FSPNITROGEN242
---------------
Simulation name:   FSPNitrogen242

<br/>
WEATHER
-------
Weather file name:   Pukehohe.met

<br/>
CLOCK
-----
The start date of the simulation:   2000-05-01
  The end date of the simulation:   2000-12-01

<br/>
FIELD.SOIL
----------
    Record number:       0
 Latitude (WGS84):   0.000
Longitude (WGS84):   0.000

<br/>
FIELD.SOIL.ANALYSIS
-------------------
Depth (cm)  PH (1:5 water)
      0-10             6.6
     10-30             6.2
     30-60             5.7
     60-90             5.5
    90-120             5.5
   120-150             5.5

<br/>
FIELD.SOIL.INITIAL WATER
------------------------
        Fraction full:          1.000
    Depth of wet soil:            NaN
Plant available water:   294.000 (mm)

<br/>
FIELD.SOIL.WATER
----------------
Depth (cm)  BD (g/cc)  Air dry (mm/mm)  LL15 (mm/mm)  DUL (mm/mm)  SAT (mm/mm)
      0-10       1.20             0.08          0.13         0.33         0.50
     10-30       1.20             0.08          0.13         0.33         0.50
     30-60       1.20             0.05          0.10         0.31         0.44
     60-90       1.20             0.04          0.08         0.27         0.46
    90-120       1.20             0.06          0.11         0.30         0.44
   120-150       1.20             0.06          0.11         0.30         0.44

<br/>
FIELD.SOIL.WATER.WHEATSOIL
--------------------------
wheat Depth (cm)  wheat LL (mm/mm)  wheat PAWC (mm)  wheat KL (mm/mm)  wheat XF (mm/mm)
            0-10              0.13             20.0              0.06               1.0
           10-30              0.13             40.0              0.06               1.0
           30-60               0.1             63.0              0.06               1.0
           60-90              0.08             57.0              0.06               1.0
          90-120              0.11             57.0              0.06               1.0
         120-150              0.11             57.0              0.06               1.0
                                              294.0                                    

<br/>
FIELD.SOIL.WATER.POTATOSOIL
---------------------------
Potato Depth (cm)  Potato LL (mm/mm)  Potato PAWC (mm)  Potato KL (mm/mm)  Potato XF (mm/mm)
             0-10               0.13              20.0               0.10                1.0
            10-30               0.13              40.0               0.10                1.0
            30-60                0.1              63.0               0.07                1.0
            60-90               0.08              57.0               0.05                1.0
           90-120               0.11              57.0               0.05                1.0
          120-150               0.11              57.0               0.05                1.0
                                                 294.0                                      

<br/>
FIELD.SOIL.SOILORGANICMATTER
----------------------------
                  Root C:N ratio:     30.000
             Root Weight (kg/ha):   3000.000
                  Soil C:N ratio:     11.500
Erosion enrichment coefficient A:      7.400
Erosion enrichment coefficient B:      0.200

Depth (cm)  OC (Total %)  FBiom (0-1)  FInert (0-1)
      0-10          1.82        0.025           0.6
     10-30          1.47        0.025           0.7
     30-60          1.20        0.015          0.75
     60-90          1.03         0.01           0.9
    90-120          0.47         0.01          0.96
   120-150          0.47         0.01          0.96

<br/>
FIELD.SOIL.INITIAL NITROGEN
---------------------------
Depth (cm)  NO3kgha  NH4kgha       SWmm
      0-10     18.0      0.1  999,999.0
     10-30     16.8      0.2  999,999.0
     30-60     25.2      0.4  999,999.0
     60-90      3.6      0.4  999,999.0
    90-120      3.6      0.4  999,999.0
   120-150      3.6      0.4  999,999.0

<br/>
FIELD.POTATOSOWINGRULE
----------------------

        using System;
        using Models.Core;
        using Models.PMF;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;

               [Description("Spacing (mm) between plants within rows")]
               public double RowSpace { get; set; }
               [Description("Spacing (mm) between rows")]
               public double RowWidth { get; set; }
               [Description("Depth (mm) tubers are planted")]
               public double PlantingDepth { get; set; }
               [Description("Number of stems per seed tuber")]
               public double StemNumberPerSeedTuber { get; set; }
               [Description("Cultivar")]
               [Display(DisplayType = DisplayAttribute.DisplayTypeEnum.CultivarName)]
               public string CultivarName { get; set; }
               [Description("Sowing Date")]
               public DateTime SowingDate { get; set; }

               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
                double PlantPopulation = 1/((RowWidth/1000)*(RowSpace/1000));

                if (Clock.Today.Date == SowingDate)
                    Potato.Sow(population:PlantPopulation, cultivar:CultivarName, depth:PlantingDepth, rowSpacing:150, budNumber:StemNumberPerSeedTuber);
                //Potato.Sow(... Contains the following arguements:
                //Population  double  Required  Seeds sowing/m2
                //Cultivar    string  Required  "NameOfCultivar"
                //Depth       double  Optional  Depth (mm) seed sown.   Default is 100mm 
                //MaxCover    double  Optional  Proportion (0-1) of the ground row crop will cover.   Default is 1.0
                //BudNumber   double  Optional  Number of mainstems per seed sown.  Default is 1.0
                //RowSpacing  double  Optional  Spaceing (mm) between drill rows when crop is sown.  Default is 150mm
                //CropClass   string  Optional  Crop class to instantiate when crop is sown.  Default is "Plant"
               }
            }
        }
                
<br/>
FIELD.EXTRAVARIABLES
--------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.Soils;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Clock Clock;
        [Link] Soils.Soil Soil;
        [Link] Models.SurfaceOM.SurfaceOrganicMatter SOM;
        [Link] Weather Met;   
        [Link] Fertiliser Fert;
        [Link] Irrigation Irrig;  
        [Link] Plant Potato;  
        [Link] Zone zone;
                    
        [XmlIgnore] public bool InitialDay { get; set; }
        
        [XmlIgnore] public double AccumPlantN { get; set; }
        [XmlIgnore] public double AccumMineralisation { get; set; }
        [XmlIgnore] public double AccumDenit { get; set; }
        [XmlIgnore] public double AccumFert { get; set; }
        [XmlIgnore] public double AccumLeach { get; set; }
        [XmlIgnore] public double AccumDetach { get; set; }
        [XmlIgnore] public double DeltaSoilOMN { get; set; }
        [XmlIgnore] public double DeltaSurfaceOMN { get; set; }
        [XmlIgnore] public double DeltaSoilMineralN { get; set; }
        [XmlIgnore] public double SoilNitrogenContent { get; set; }
        
        [XmlIgnore] public double AccumEO { get; set; }
        [XmlIgnore] public double AccumEP { get; set; }
        [XmlIgnore] public double AccumES { get; set; }
        [XmlIgnore] public double AccumDrainage { get; set; }
        [XmlIgnore] public double AccumRunoff { get; set; }
        [XmlIgnore] public double AccumOutflowLat { get; set; }
        [XmlIgnore] public double AccumIrrigation { get; set; }
        [XmlIgnore] public double AccumRainfall { get; set; }
        [XmlIgnore] public double SoilWaterDeficit { get; set; }
        
        [XmlIgnore] public double AccumTtemerg { get; set; }
        
        [XmlIgnore] public double  InitialSoilOMN { get; set; }
        [XmlIgnore] public double  InitialSurfaceOMN { get; set; }
        [XmlIgnore] public double  InitialMineralN { get; set; }
        
        [XmlIgnore] public double SWC { get; set; }
        [XmlIgnore] public double DUL { get; set; }
        [XmlIgnore] public double OutFlowLat { get; set; }

        [XmlIgnore] public double FomN { get; set; }
        [XmlIgnore] public double BiomN { get; set; }
        [XmlIgnore] public double HumN { get; set; }
        [XmlIgnore] public double OrganicN { get; set; }
        [XmlIgnore] public double NO3N { get; set; }
        [XmlIgnore] public double NH4N { get; set; }
        [XmlIgnore] public double UreaN { get; set; }
        [XmlIgnore] public double MineralN { get; set; }
        [XmlIgnore] public double DltNMinRes { get; set; }
        [XmlIgnore] public double DltNMinTot { get; set; }
        
        [EventSubscribe("Commencing")]
        private void OnSimulationCommencing(object sender, EventArgs e)
        {
            InitialDay = true;
        }       
        
        [EventSubscribe("DoManagement")]
        private void OnDoManagement(object sender, EventArgs e)
        {
            //!!!!!! Nitrogen balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!
               FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            OrganicN = FomN + HumN + BiomN;
            NO3N = Utility.Math.Sum(Soil.NO3N);
            NH4N = Utility.Math.Sum(Soil.NH4N);
            UreaN = Utility.Math.Sum(Soil.SoilNitrogen.urea);
            MineralN = NO3N + NH4N + UreaN; 
            DltNMinRes = Utility.Math.Sum(Soil.SoilNitrogen.dlt_n_min_res);
            DltNMinTot = Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            int layers = Soil.Thickness.Length;
            if (InitialDay == true)
            {
                InitialSurfaceOMN = SOM.N;
                InitialSoilOMN = OrganicN;
                InitialMineralN = MineralN;
                InitialDay = false;
            }
            AccumFert += Fert.NitrogenApplied;
            DeltaSurfaceOMN = SOM.N - InitialSurfaceOMN;
            AccumLeach = AccumLeach - Soil.SoilWater.LeachNH4 - Soil.SoilWater.LeachNO3 - Soil.SoilWater.LeachUrea; //Fails
            AccumMineralisation += Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            AccumDenit -= Utility.Math.Sum(Soil.SoilNitrogen.Denitrification);
            AccumPlantN -= (double)zone.Get("Potato.Root.NUptake");
            DeltaSoilOMN = OrganicN - InitialSoilOMN;
            DeltaSoilMineralN = MineralN - InitialMineralN;
            SoilNitrogenContent = MineralN;
            
            //!!!!!! Water balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!

            AccumIrrigation += Irrig.IrrigationApplied;
            AccumRainfall += Met.Rain;
            AccumEP -= (double)zone.Get("Potato.Leaf.Transpiration");
            SoilWaterDeficit =  (SWC - DUL);
            double OutFlowLat = Utility.Math.Sum(Soil.SoilWater.outflow_lat);
            AccumOutflowLat -= OutFlowLat;
            
            //!!!!!! Thermal time calculation !!!!!!
            //!!!!!! ^^^^^^^^^^^^^^^^^^^^^^^^ !!!!!!
            if (Potato.Phenology.Stage >= 3)
            AccumTtemerg += Potato.Phenology.ThermalTime.Value;
        }
        
        [EventSubscribe("DoManagementCalculations")]
        private void OnDoManagementCalculations(object sender, EventArgs e)
        {
            FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            
            
            AccumEO -= Soil.SoilWater.Eo;
            AccumES -= Soil.SoilWater.Es; 
            AccumDrainage -= Soil.SoilWater.Drainage;
            AccumRunoff -= Soil.SoilWater.Runoff;
            SWC = Utility.Math.Sum(Soil.SoilWater.SWmm);
            DUL = Utility.Math.Sum(Soil.SoilWater.DULmm);
        }
    }
}
       
<br/>
FIELD.REPORT
------------
                                   Output variables  Output frequency
                                      [Clock].Today  [Clock].DoReport
               [ExtraVariables].Script.AccumTtemerg                  
                  Potato.Phenology.CurrentPhaseName                  
                             Potato.Phenology.Stage                  
                [ExtraVariables].Script.AccumPlantN                  
        [ExtraVariables].Script.AccumMineralisation                  
                 [ExtraVariables].Script.AccumDenit                  
                  [ExtraVariables].Script.AccumFert                  
                 [ExtraVariables].Script.AccumLeach                  
                [ExtraVariables].Script.AccumDetach                  
               [ExtraVariables].Script.DeltaSoilOMN                  
            [ExtraVariables].Script.DeltaSurfaceOMN                  
          [ExtraVariables].Script.DeltaSoilMineralN                  
                          Potato.Root.NSupplyUptake                  
                                [Soil].SoilWater.Eo                  
                                [Soil].SoilWater.Es                  
                        [ExtraVariables].Script.SWC                  
                        [ExtraVariables].Script.DUL                  
                          [Soil].SoilWater.Drainage                  
                            [Soil].SoilWater.Runoff                  
                 [ExtraVariables].Script.OutFlowLat                  
                              [Soil].SoilWater.pond                  
                    [ExtraVariables].Script.AccumEO                  
                    [ExtraVariables].Script.AccumEP                  
                    [ExtraVariables].Script.AccumES                  
              [ExtraVariables].Script.AccumDrainage                  
                [ExtraVariables].Script.AccumRunoff                  
              [ExtraVariables].Script.AccumRainfall                  
            [ExtraVariables].Script.AccumIrrigation                  
            [ExtraVariables].Script.AccumOutflowLat                  
           [ExtraVariables].Script.SoilWaterDeficit                  
                   Potato.Summariser.AboveGround.Wt                  
                   Potato.Summariser.BelowGround.Wt                  
                         Potato.Summariser.Total.Wt                  
                     Potato.Summariser.TotalDead.Wt                  
                     Potato.Summariser.TotalLive.Wt                  
                                Potato.Leaf.Dead.Wt                  
                                Potato.Leaf.Live.Wt                  
                                Potato.Stem.Dead.Wt                  
                                Potato.Stem.Live.Wt                  
                               Potato.Tuber.Dead.Wt                  
                               Potato.Tuber.Live.Wt                  
                                Potato.Root.Dead.Wt                  
                                Potato.Root.Live.Wt                  
                    Potato.Summariser.AboveGround.N                  
                    Potato.Summariser.BelowGround.N                  
                          Potato.Summariser.Total.N                  
                      Potato.Summariser.TotalLive.N                  
                      Potato.Summariser.TotalDead.N                  
                                 Potato.Leaf.Dead.N                  
                                 Potato.Leaf.Live.N                  
                                 Potato.Stem.Dead.N                  
                                 Potato.Stem.Live.N                  
                                Potato.Tuber.Dead.N                  
                                Potato.Tuber.Live.N                  
                                 Potato.Root.Live.N                  
                                 Potato.Root.Dead.N                  
                             Potato.Leaf.Live.NConc                  
                             Potato.Leaf.Dead.NConc                  
                             Potato.Stem.Live.NConc                  
                             Potato.Stem.Dead.NConc                  
                            Potato.Tuber.Live.NConc                  
                            Potato.Tuber.Dead.NConc                  
                             Potato.Root.Live.NConc                  
                             Potato.Root.Dead.NConc                  
                            Potato.Root.WaterSupply                  
                            Potato.Root.WaterUptake                  
                          Potato.Leaf.Transpiration                  
                            Potato.Leaf.WaterDemand                  
                                  Potato.Root.Depth                  
                             Potato.Leaf.CoverGreen                  
                             Potato.Leaf.CoverTotal                  
                              Potato.Leaf.CoverDead                  
                                    Potato.Leaf.LAI                  
                                Potato.Leaf.LAIDead                  
                            Potato.Structure.Height                  
                                     Potato.Leaf.Fn                  
                                     Potato.Leaf.Fw                  
                Potato.Leaf.Photosynthesis.FT.Value                  
              Potato.Leaf.Photosynthesis.FVPD.Value                  
                  Potato.Structure.PlantTotalNodeNo                  
                     Potato.Structure.TotalStemPopn                  
               Potato.Leaf.PlantAppearedGreenLeafNo                  
                      Potato.Leaf.ExpandingCohortNo                  
                       Potato.Leaf.AppearedCohortNo                  
                           Potato.Leaf.DeadCohortNo                  
                    Potato.Structure.MainStemNodeNo                  
                      Potato.Leaf.SenescingCohortNo                  
             Potato.Structure.PrimaryBudTotalNodeNo                  
Potato.Leaf.LeafCohortParameters.MinimumNConc.Value                  
                     Potato.Stem.MinimumNConc.Value                  
                    Potato.Tuber.MinimumNConc.Value                  
                     Potato.Root.MinimumNConc.Value                  
Potato.Leaf.LeafCohortParameters.MaximumNConc.Value                  
                     Potato.Stem.MaximumNConc.Value                  
                    Potato.Tuber.MaximumNConc.Value                  
                     Potato.Root.MaximumNConc.Value                  
                      Potato.Stem.Live.StructuralWt                  
                   Potato.Stem.Live.NonStructuralWt                  
                           Potato.Leaf.SpecificArea                  
                       Potato.Leaf.ExpandedCohortNo                  
                              [Soil].SoilWater.SWmm                  
                                        [Soil].NO3N                  
        [ExtraVariables].Script.SoilNitrogenContent                  
                          Potato.Arbitrator.NDemand                  
                            [MicroClimate].net_radn                  
                                [MicroClimate].peta                  
                                [MicroClimate].petr                  
                       [ExtraVariables].Script.FomN                  
                       [ExtraVariables].Script.HumN                  
                      [ExtraVariables].Script.BiomN                  
                 [ExtraVariables].Script.DltNMinRes                  
                 [ExtraVariables].Script.DltNMinTot                  
                [PotatoHarvestRule].Script.FinalTag                  
                               Potato.Tuber.LiveFWt                  
                Potato.Tuber.DryMatterContent.Value                  

<br/>
FIELD.SURFACE ORGANIC MATTER
----------------------------
Surface organic matter pool name:             wheat
Surface organic matter pool type:             wheat
 Mass of surface residue (kg/ha):      2000 (kg/ha)
         Standing fraction (0-1):           0 (0-1)
     Carbon:Nitrogen ratio (g/g):          80 (g/g)
                  Carbon content:   800.000 (kg/ha)
                Nitrogen content:    10.000 (kg/ha)
              Phosphorus content:     0.000 (kg/ha)

<br/>
FIELD.POTATOHARVESTRULE
-----------------------

        using System;
        using Models.Core;
        using Models.PMF;
        using System.Xml.Serialization;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;
               [Link] Summary Summary;
               [Description("HarvestDate Date")]
               public DateTime HarvestDate { get; set; }            
               [XmlIgnore] public string FinalTag { get; set;}
               [XmlIgnore] public bool Harvested {get; set;}
               [XmlIgnore] public bool ReadyForHarvest {get; set;}
               
               [EventSubscribe("Commencing")]
               private void OnSimulationCommencing(object sender, EventArgs e)
               {
               FinalTag = "";
               Harvested = false;
               ReadyForHarvest = false;
               }
               
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
               if (ReadyForHarvest == true)
                   {
                   Potato.Harvest();
                   ReadyForHarvest = false;
                   Harvested = true;
                   }
               FinalTag = "";    
               }
               
               [EventSubscribe("DoManagementCalculations")]
               private void OnDoManagementCalculations(object sender, EventArgs e)
               {
                if ((Clock.Today == HarvestDate)&&(Harvested == false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
                if((Potato.Phenology.Stage>=7)&&(Harvested==false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
               }
            }
        }
                
<br/>
SIMULATION LOG:
---------------


2000-05-02 Field.Potato
    A crop of Potato (cultivar = IlamHardy) was sown today at a population of 4.63821892393321 plants/m2 with 2.4 buds per plant at a row spacing of 150 and a depth of 170 mm
    


2000-05-02 Field.Fertiliser
    180 kg/ha of UreaN added at depth 10 layer 1
    


2000-05-02 Field.Potato.Summariser
    Peeping
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


2000-05-26 Field.Potato.Summariser
    Emergence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


2000-06-14 Field.Fertiliser
    46 kg/ha of UreaN added at depth 10 layer 1
    


2000-06-27 Field.Potato.Summariser
    TuberInitiation
      LAI = 0.44 (m^2/m^2)
      Above Ground Biomass = 22.73 (g/m^2)
    
    


2000-07-10 Field.Fertiliser
    46 kg/ha of UreaN added at depth 10 layer 1
    


2000-10-11 Field.Potato.Summariser
    FinalLeaf
      LAI = 0.35 (m^2/m^2)
      Above Ground Biomass = 98.45 (g/m^2)
    
    


2000-10-17 Field.Potato.Summariser
    FinalLeaf
      LAI = 0.20 (m^2/m^2)
      Above Ground Biomass = 98.45 (g/m^2)
    
    Maturity
      LAI = 0.20 (m^2/m^2)
      Above Ground Biomass = 98.45 (g/m^2)
    
    


2000-10-17 Field.Potato
    A crop of Potato was harvested today, Yeahhh
    


############################################################################
.FSPNITROGEN350
---------------
Simulation name:   FSPNitrogen350

<br/>
WEATHER
-------
Weather file name:   Pukehohe.met

<br/>
CLOCK
-----
The start date of the simulation:   2000-05-01
  The end date of the simulation:   2000-12-01

<br/>
FIELD.SOIL
----------
    Record number:       0
 Latitude (WGS84):   0.000
Longitude (WGS84):   0.000

<br/>
FIELD.SOIL.ANALYSIS
-------------------
Depth (cm)  PH (1:5 water)
      0-10             6.6
     10-30             6.2
     30-60             5.7
     60-90             5.5
    90-120             5.5
   120-150             5.5

<br/>
FIELD.SOIL.INITIAL WATER
------------------------
        Fraction full:          1.000
    Depth of wet soil:            NaN
Plant available water:   294.000 (mm)

<br/>
FIELD.SOIL.WATER
----------------
Depth (cm)  BD (g/cc)  Air dry (mm/mm)  LL15 (mm/mm)  DUL (mm/mm)  SAT (mm/mm)
      0-10       1.20             0.08          0.13         0.33         0.50
     10-30       1.20             0.08          0.13         0.33         0.50
     30-60       1.20             0.05          0.10         0.31         0.44
     60-90       1.20             0.04          0.08         0.27         0.46
    90-120       1.20             0.06          0.11         0.30         0.44
   120-150       1.20             0.06          0.11         0.30         0.44

<br/>
FIELD.SOIL.WATER.WHEATSOIL
--------------------------
wheat Depth (cm)  wheat LL (mm/mm)  wheat PAWC (mm)  wheat KL (mm/mm)  wheat XF (mm/mm)
            0-10              0.13             20.0              0.06               1.0
           10-30              0.13             40.0              0.06               1.0
           30-60               0.1             63.0              0.06               1.0
           60-90              0.08             57.0              0.06               1.0
          90-120              0.11             57.0              0.06               1.0
         120-150              0.11             57.0              0.06               1.0
                                              294.0                                    

<br/>
FIELD.SOIL.WATER.POTATOSOIL
---------------------------
Potato Depth (cm)  Potato LL (mm/mm)  Potato PAWC (mm)  Potato KL (mm/mm)  Potato XF (mm/mm)
             0-10               0.13              20.0               0.10                1.0
            10-30               0.13              40.0               0.10                1.0
            30-60                0.1              63.0               0.07                1.0
            60-90               0.08              57.0               0.05                1.0
           90-120               0.11              57.0               0.05                1.0
          120-150               0.11              57.0               0.05                1.0
                                                 294.0                                      

<br/>
FIELD.SOIL.SOILORGANICMATTER
----------------------------
                  Root C:N ratio:     30.000
             Root Weight (kg/ha):   3000.000
                  Soil C:N ratio:     11.500
Erosion enrichment coefficient A:      7.400
Erosion enrichment coefficient B:      0.200

Depth (cm)  OC (Total %)  FBiom (0-1)  FInert (0-1)
      0-10          1.82        0.025           0.6
     10-30          1.47        0.025           0.7
     30-60          1.20        0.015          0.75
     60-90          1.03         0.01           0.9
    90-120          0.47         0.01          0.96
   120-150          0.47         0.01          0.96

<br/>
FIELD.SOIL.INITIAL NITROGEN
---------------------------
Depth (cm)  NO3kgha  NH4kgha       SWmm
      0-10     18.0      0.1  999,999.0
     10-30     16.8      0.2  999,999.0
     30-60     25.2      0.4  999,999.0
     60-90      3.6      0.4  999,999.0
    90-120      3.6      0.4  999,999.0
   120-150      3.6      0.4  999,999.0

<br/>
FIELD.POTATOSOWINGRULE
----------------------

        using System;
        using Models.Core;
        using Models.PMF;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;

               [Description("Spacing (mm) between plants within rows")]
               public double RowSpace { get; set; }
               [Description("Spacing (mm) between rows")]
               public double RowWidth { get; set; }
               [Description("Depth (mm) tubers are planted")]
               public double PlantingDepth { get; set; }
               [Description("Number of stems per seed tuber")]
               public double StemNumberPerSeedTuber { get; set; }
               [Description("Cultivar")]
               [Display(DisplayType = DisplayAttribute.DisplayTypeEnum.CultivarName)]
               public string CultivarName { get; set; }
               [Description("Sowing Date")]
               public DateTime SowingDate { get; set; }

               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
                double PlantPopulation = 1/((RowWidth/1000)*(RowSpace/1000));

                if (Clock.Today.Date == SowingDate)
                    Potato.Sow(population:PlantPopulation, cultivar:CultivarName, depth:PlantingDepth, rowSpacing:150, budNumber:StemNumberPerSeedTuber);
                //Potato.Sow(... Contains the following arguements:
                //Population  double  Required  Seeds sowing/m2
                //Cultivar    string  Required  "NameOfCultivar"
                //Depth       double  Optional  Depth (mm) seed sown.   Default is 100mm 
                //MaxCover    double  Optional  Proportion (0-1) of the ground row crop will cover.   Default is 1.0
                //BudNumber   double  Optional  Number of mainstems per seed sown.  Default is 1.0
                //RowSpacing  double  Optional  Spaceing (mm) between drill rows when crop is sown.  Default is 150mm
                //CropClass   string  Optional  Crop class to instantiate when crop is sown.  Default is "Plant"
               }
            }
        }
                
<br/>
FIELD.EXTRAVARIABLES
--------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.Soils;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Clock Clock;
        [Link] Soils.Soil Soil;
        [Link] Models.SurfaceOM.SurfaceOrganicMatter SOM;
        [Link] Weather Met;   
        [Link] Fertiliser Fert;
        [Link] Irrigation Irrig;  
        [Link] Plant Potato;  
        [Link] Zone zone;
                    
        [XmlIgnore] public bool InitialDay { get; set; }
        
        [XmlIgnore] public double AccumPlantN { get; set; }
        [XmlIgnore] public double AccumMineralisation { get; set; }
        [XmlIgnore] public double AccumDenit { get; set; }
        [XmlIgnore] public double AccumFert { get; set; }
        [XmlIgnore] public double AccumLeach { get; set; }
        [XmlIgnore] public double AccumDetach { get; set; }
        [XmlIgnore] public double DeltaSoilOMN { get; set; }
        [XmlIgnore] public double DeltaSurfaceOMN { get; set; }
        [XmlIgnore] public double DeltaSoilMineralN { get; set; }
        [XmlIgnore] public double SoilNitrogenContent { get; set; }
        
        [XmlIgnore] public double AccumEO { get; set; }
        [XmlIgnore] public double AccumEP { get; set; }
        [XmlIgnore] public double AccumES { get; set; }
        [XmlIgnore] public double AccumDrainage { get; set; }
        [XmlIgnore] public double AccumRunoff { get; set; }
        [XmlIgnore] public double AccumOutflowLat { get; set; }
        [XmlIgnore] public double AccumIrrigation { get; set; }
        [XmlIgnore] public double AccumRainfall { get; set; }
        [XmlIgnore] public double SoilWaterDeficit { get; set; }
        
        [XmlIgnore] public double AccumTtemerg { get; set; }
        
        [XmlIgnore] public double  InitialSoilOMN { get; set; }
        [XmlIgnore] public double  InitialSurfaceOMN { get; set; }
        [XmlIgnore] public double  InitialMineralN { get; set; }
        
        [XmlIgnore] public double SWC { get; set; }
        [XmlIgnore] public double DUL { get; set; }
        [XmlIgnore] public double OutFlowLat { get; set; }

        [XmlIgnore] public double FomN { get; set; }
        [XmlIgnore] public double BiomN { get; set; }
        [XmlIgnore] public double HumN { get; set; }
        [XmlIgnore] public double OrganicN { get; set; }
        [XmlIgnore] public double NO3N { get; set; }
        [XmlIgnore] public double NH4N { get; set; }
        [XmlIgnore] public double UreaN { get; set; }
        [XmlIgnore] public double MineralN { get; set; }
        [XmlIgnore] public double DltNMinRes { get; set; }
        [XmlIgnore] public double DltNMinTot { get; set; }
        
        [EventSubscribe("Commencing")]
        private void OnSimulationCommencing(object sender, EventArgs e)
        {
            InitialDay = true;
        }       
        
        [EventSubscribe("DoManagement")]
        private void OnDoManagement(object sender, EventArgs e)
        {
            //!!!!!! Nitrogen balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!
               FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            OrganicN = FomN + HumN + BiomN;
            NO3N = Utility.Math.Sum(Soil.NO3N);
            NH4N = Utility.Math.Sum(Soil.NH4N);
            UreaN = Utility.Math.Sum(Soil.SoilNitrogen.urea);
            MineralN = NO3N + NH4N + UreaN; 
            DltNMinRes = Utility.Math.Sum(Soil.SoilNitrogen.dlt_n_min_res);
            DltNMinTot = Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            int layers = Soil.Thickness.Length;
            if (InitialDay == true)
            {
                InitialSurfaceOMN = SOM.N;
                InitialSoilOMN = OrganicN;
                InitialMineralN = MineralN;
                InitialDay = false;
            }
            AccumFert += Fert.NitrogenApplied;
            DeltaSurfaceOMN = SOM.N - InitialSurfaceOMN;
            AccumLeach = AccumLeach - Soil.SoilWater.LeachNH4 - Soil.SoilWater.LeachNO3 - Soil.SoilWater.LeachUrea; //Fails
            AccumMineralisation += Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            AccumDenit -= Utility.Math.Sum(Soil.SoilNitrogen.Denitrification);
            AccumPlantN -= (double)zone.Get("Potato.Root.NUptake");
            DeltaSoilOMN = OrganicN - InitialSoilOMN;
            DeltaSoilMineralN = MineralN - InitialMineralN;
            SoilNitrogenContent = MineralN;
            
            //!!!!!! Water balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!

            AccumIrrigation += Irrig.IrrigationApplied;
            AccumRainfall += Met.Rain;
            AccumEP -= (double)zone.Get("Potato.Leaf.Transpiration");
            SoilWaterDeficit =  (SWC - DUL);
            double OutFlowLat = Utility.Math.Sum(Soil.SoilWater.outflow_lat);
            AccumOutflowLat -= OutFlowLat;
            
            //!!!!!! Thermal time calculation !!!!!!
            //!!!!!! ^^^^^^^^^^^^^^^^^^^^^^^^ !!!!!!
            if (Potato.Phenology.Stage >= 3)
            AccumTtemerg += Potato.Phenology.ThermalTime.Value;
        }
        
        [EventSubscribe("DoManagementCalculations")]
        private void OnDoManagementCalculations(object sender, EventArgs e)
        {
            FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            
            
            AccumEO -= Soil.SoilWater.Eo;
            AccumES -= Soil.SoilWater.Es; 
            AccumDrainage -= Soil.SoilWater.Drainage;
            AccumRunoff -= Soil.SoilWater.Runoff;
            SWC = Utility.Math.Sum(Soil.SoilWater.SWmm);
            DUL = Utility.Math.Sum(Soil.SoilWater.DULmm);
        }
    }
}
       
<br/>
FIELD.REPORT
------------
                                   Output variables  Output frequency
                                      [Clock].Today  [Clock].DoReport
               [ExtraVariables].Script.AccumTtemerg                  
                  Potato.Phenology.CurrentPhaseName                  
                             Potato.Phenology.Stage                  
                [ExtraVariables].Script.AccumPlantN                  
        [ExtraVariables].Script.AccumMineralisation                  
                 [ExtraVariables].Script.AccumDenit                  
                  [ExtraVariables].Script.AccumFert                  
                 [ExtraVariables].Script.AccumLeach                  
                [ExtraVariables].Script.AccumDetach                  
               [ExtraVariables].Script.DeltaSoilOMN                  
            [ExtraVariables].Script.DeltaSurfaceOMN                  
          [ExtraVariables].Script.DeltaSoilMineralN                  
                          Potato.Root.NSupplyUptake                  
                                [Soil].SoilWater.Eo                  
                                [Soil].SoilWater.Es                  
                        [ExtraVariables].Script.SWC                  
                        [ExtraVariables].Script.DUL                  
                          [Soil].SoilWater.Drainage                  
                            [Soil].SoilWater.Runoff                  
                 [ExtraVariables].Script.OutFlowLat                  
                              [Soil].SoilWater.pond                  
                    [ExtraVariables].Script.AccumEO                  
                    [ExtraVariables].Script.AccumEP                  
                    [ExtraVariables].Script.AccumES                  
              [ExtraVariables].Script.AccumDrainage                  
                [ExtraVariables].Script.AccumRunoff                  
              [ExtraVariables].Script.AccumRainfall                  
            [ExtraVariables].Script.AccumIrrigation                  
            [ExtraVariables].Script.AccumOutflowLat                  
           [ExtraVariables].Script.SoilWaterDeficit                  
                   Potato.Summariser.AboveGround.Wt                  
                   Potato.Summariser.BelowGround.Wt                  
                         Potato.Summariser.Total.Wt                  
                     Potato.Summariser.TotalDead.Wt                  
                     Potato.Summariser.TotalLive.Wt                  
                                Potato.Leaf.Dead.Wt                  
                                Potato.Leaf.Live.Wt                  
                                Potato.Stem.Dead.Wt                  
                                Potato.Stem.Live.Wt                  
                               Potato.Tuber.Dead.Wt                  
                               Potato.Tuber.Live.Wt                  
                                Potato.Root.Dead.Wt                  
                                Potato.Root.Live.Wt                  
                    Potato.Summariser.AboveGround.N                  
                    Potato.Summariser.BelowGround.N                  
                          Potato.Summariser.Total.N                  
                      Potato.Summariser.TotalLive.N                  
                      Potato.Summariser.TotalDead.N                  
                                 Potato.Leaf.Dead.N                  
                                 Potato.Leaf.Live.N                  
                                 Potato.Stem.Dead.N                  
                                 Potato.Stem.Live.N                  
                                Potato.Tuber.Dead.N                  
                                Potato.Tuber.Live.N                  
                                 Potato.Root.Live.N                  
                                 Potato.Root.Dead.N                  
                             Potato.Leaf.Live.NConc                  
                             Potato.Leaf.Dead.NConc                  
                             Potato.Stem.Live.NConc                  
                             Potato.Stem.Dead.NConc                  
                            Potato.Tuber.Live.NConc                  
                            Potato.Tuber.Dead.NConc                  
                             Potato.Root.Live.NConc                  
                             Potato.Root.Dead.NConc                  
                            Potato.Root.WaterSupply                  
                            Potato.Root.WaterUptake                  
                          Potato.Leaf.Transpiration                  
                            Potato.Leaf.WaterDemand                  
                                  Potato.Root.Depth                  
                             Potato.Leaf.CoverGreen                  
                             Potato.Leaf.CoverTotal                  
                              Potato.Leaf.CoverDead                  
                                    Potato.Leaf.LAI                  
                                Potato.Leaf.LAIDead                  
                            Potato.Structure.Height                  
                                     Potato.Leaf.Fn                  
                                     Potato.Leaf.Fw                  
                Potato.Leaf.Photosynthesis.FT.Value                  
              Potato.Leaf.Photosynthesis.FVPD.Value                  
                  Potato.Structure.PlantTotalNodeNo                  
                     Potato.Structure.TotalStemPopn                  
               Potato.Leaf.PlantAppearedGreenLeafNo                  
                      Potato.Leaf.ExpandingCohortNo                  
                       Potato.Leaf.AppearedCohortNo                  
                           Potato.Leaf.DeadCohortNo                  
                    Potato.Structure.MainStemNodeNo                  
                      Potato.Leaf.SenescingCohortNo                  
             Potato.Structure.PrimaryBudTotalNodeNo                  
Potato.Leaf.LeafCohortParameters.MinimumNConc.Value                  
                     Potato.Stem.MinimumNConc.Value                  
                    Potato.Tuber.MinimumNConc.Value                  
                     Potato.Root.MinimumNConc.Value                  
Potato.Leaf.LeafCohortParameters.MaximumNConc.Value                  
                     Potato.Stem.MaximumNConc.Value                  
                    Potato.Tuber.MaximumNConc.Value                  
                     Potato.Root.MaximumNConc.Value                  
                      Potato.Stem.Live.StructuralWt                  
                   Potato.Stem.Live.NonStructuralWt                  
                           Potato.Leaf.SpecificArea                  
                       Potato.Leaf.ExpandedCohortNo                  
                              [Soil].SoilWater.SWmm                  
                                        [Soil].NO3N                  
        [ExtraVariables].Script.SoilNitrogenContent                  
                          Potato.Arbitrator.NDemand                  
                            [MicroClimate].net_radn                  
                                [MicroClimate].peta                  
                                [MicroClimate].petr                  
                       [ExtraVariables].Script.FomN                  
                       [ExtraVariables].Script.HumN                  
                      [ExtraVariables].Script.BiomN                  
                 [ExtraVariables].Script.DltNMinRes                  
                 [ExtraVariables].Script.DltNMinTot                  
                [PotatoHarvestRule].Script.FinalTag                  
                               Potato.Tuber.LiveFWt                  
                Potato.Tuber.DryMatterContent.Value                  

<br/>
FIELD.SURFACE ORGANIC MATTER
----------------------------
Surface organic matter pool name:             wheat
Surface organic matter pool type:             wheat
 Mass of surface residue (kg/ha):      2000 (kg/ha)
         Standing fraction (0-1):           0 (0-1)
     Carbon:Nitrogen ratio (g/g):          80 (g/g)
                  Carbon content:   800.000 (kg/ha)
                Nitrogen content:    10.000 (kg/ha)
              Phosphorus content:     0.000 (kg/ha)

<br/>
FIELD.POTATOHARVESTRULE
-----------------------

        using System;
        using Models.Core;
        using Models.PMF;
        using System.Xml.Serialization;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;
               [Link] Summary Summary;
               [Description("HarvestDate Date")]
               public DateTime HarvestDate { get; set; }            
               [XmlIgnore] public string FinalTag { get; set;}
               [XmlIgnore] public bool Harvested {get; set;}
               [XmlIgnore] public bool ReadyForHarvest {get; set;}
               
               [EventSubscribe("Commencing")]
               private void OnSimulationCommencing(object sender, EventArgs e)
               {
               FinalTag = "";
               Harvested = false;
               ReadyForHarvest = false;
               }
               
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
               if (ReadyForHarvest == true)
                   {
                   Potato.Harvest();
                   ReadyForHarvest = false;
                   Harvested = true;
                   }
               FinalTag = "";    
               }
               
               [EventSubscribe("DoManagementCalculations")]
               private void OnDoManagementCalculations(object sender, EventArgs e)
               {
                if ((Clock.Today == HarvestDate)&&(Harvested == false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
                if((Potato.Phenology.Stage>=7)&&(Harvested==false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
               }
            }
        }
                
<br/>
SIMULATION LOG:
---------------


2000-05-02 Field.Potato
    A crop of Potato (cultivar = IlamHardy) was sown today at a population of 4.63821892393321 plants/m2 with 2.4 buds per plant at a row spacing of 150 and a depth of 170 mm
    


2000-05-02 Field.Fertiliser
    180 kg/ha of UreaN added at depth 10 layer 1
    


2000-05-02 Field.Potato.Summariser
    Peeping
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


2000-05-26 Field.Potato.Summariser
    Emergence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


2000-06-14 Field.Fertiliser
    57 kg/ha of UreaN added at depth 10 layer 1
    


2000-06-27 Field.Potato.Summariser
    TuberInitiation
      LAI = 0.44 (m^2/m^2)
      Above Ground Biomass = 22.73 (g/m^2)
    
    


2000-07-10 Field.Fertiliser
    57 kg/ha of UreaN added at depth 10 layer 1
    


2000-08-03 Field.Fertiliser
    57 kg/ha of UreaN added at depth 10 layer 1
    


2000-10-11 Field.Potato.Summariser
    FinalLeaf
      LAI = 0.35 (m^2/m^2)
      Above Ground Biomass = 98.45 (g/m^2)
    
    


2000-10-17 Field.Potato.Summariser
    FinalLeaf
      LAI = 0.20 (m^2/m^2)
      Above Ground Biomass = 98.45 (g/m^2)
    
    Maturity
      LAI = 0.20 (m^2/m^2)
      Above Ground Biomass = 98.45 (g/m^2)
    
    


2000-10-17 Field.Potato
    A crop of Potato was harvested today, Yeahhh
    


############################################################################
.FSPNITROGEN472
---------------
Simulation name:   FSPNitrogen472

<br/>
WEATHER
-------
Weather file name:   Pukehohe.met

<br/>
CLOCK
-----
The start date of the simulation:   2000-05-01
  The end date of the simulation:   2000-12-01

<br/>
FIELD.SOIL
----------
    Record number:       0
 Latitude (WGS84):   0.000
Longitude (WGS84):   0.000

<br/>
FIELD.SOIL.ANALYSIS
-------------------
Depth (cm)  PH (1:5 water)
      0-10             6.6
     10-30             6.2
     30-60             5.7
     60-90             5.5
    90-120             5.5
   120-150             5.5

<br/>
FIELD.SOIL.INITIAL WATER
------------------------
        Fraction full:          1.000
    Depth of wet soil:            NaN
Plant available water:   294.000 (mm)

<br/>
FIELD.SOIL.WATER
----------------
Depth (cm)  BD (g/cc)  Air dry (mm/mm)  LL15 (mm/mm)  DUL (mm/mm)  SAT (mm/mm)
      0-10       1.20             0.08          0.13         0.33         0.50
     10-30       1.20             0.08          0.13         0.33         0.50
     30-60       1.20             0.05          0.10         0.31         0.44
     60-90       1.20             0.04          0.08         0.27         0.46
    90-120       1.20             0.06          0.11         0.30         0.44
   120-150       1.20             0.06          0.11         0.30         0.44

<br/>
FIELD.SOIL.WATER.WHEATSOIL
--------------------------
wheat Depth (cm)  wheat LL (mm/mm)  wheat PAWC (mm)  wheat KL (mm/mm)  wheat XF (mm/mm)
            0-10              0.13             20.0              0.06               1.0
           10-30              0.13             40.0              0.06               1.0
           30-60               0.1             63.0              0.06               1.0
           60-90              0.08             57.0              0.06               1.0
          90-120              0.11             57.0              0.06               1.0
         120-150              0.11             57.0              0.06               1.0
                                              294.0                                    

<br/>
FIELD.SOIL.WATER.POTATOSOIL
---------------------------
Potato Depth (cm)  Potato LL (mm/mm)  Potato PAWC (mm)  Potato KL (mm/mm)  Potato XF (mm/mm)
             0-10               0.13              20.0               0.10                1.0
            10-30               0.13              40.0               0.10                1.0
            30-60                0.1              63.0               0.07                1.0
            60-90               0.08              57.0               0.05                1.0
           90-120               0.11              57.0               0.05                1.0
          120-150               0.11              57.0               0.05                1.0
                                                 294.0                                      

<br/>
FIELD.SOIL.SOILORGANICMATTER
----------------------------
                  Root C:N ratio:     30.000
             Root Weight (kg/ha):   3000.000
                  Soil C:N ratio:     11.500
Erosion enrichment coefficient A:      7.400
Erosion enrichment coefficient B:      0.200

Depth (cm)  OC (Total %)  FBiom (0-1)  FInert (0-1)
      0-10          1.82        0.025           0.6
     10-30          1.47        0.025           0.7
     30-60          1.20        0.015          0.75
     60-90          1.03         0.01           0.9
    90-120          0.47         0.01          0.96
   120-150          0.47         0.01          0.96

<br/>
FIELD.SOIL.INITIAL NITROGEN
---------------------------
Depth (cm)  NO3kgha  NH4kgha       SWmm
      0-10     18.0      0.1  999,999.0
     10-30     16.8      0.2  999,999.0
     30-60     25.2      0.4  999,999.0
     60-90      3.6      0.4  999,999.0
    90-120      3.6      0.4  999,999.0
   120-150      3.6      0.4  999,999.0

<br/>
FIELD.POTATOSOWINGRULE
----------------------

        using System;
        using Models.Core;
        using Models.PMF;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;

               [Description("Spacing (mm) between plants within rows")]
               public double RowSpace { get; set; }
               [Description("Spacing (mm) between rows")]
               public double RowWidth { get; set; }
               [Description("Depth (mm) tubers are planted")]
               public double PlantingDepth { get; set; }
               [Description("Number of stems per seed tuber")]
               public double StemNumberPerSeedTuber { get; set; }
               [Description("Cultivar")]
               [Display(DisplayType = DisplayAttribute.DisplayTypeEnum.CultivarName)]
               public string CultivarName { get; set; }
               [Description("Sowing Date")]
               public DateTime SowingDate { get; set; }

               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
                double PlantPopulation = 1/((RowWidth/1000)*(RowSpace/1000));

                if (Clock.Today.Date == SowingDate)
                    Potato.Sow(population:PlantPopulation, cultivar:CultivarName, depth:PlantingDepth, rowSpacing:150, budNumber:StemNumberPerSeedTuber);
                //Potato.Sow(... Contains the following arguements:
                //Population  double  Required  Seeds sowing/m2
                //Cultivar    string  Required  "NameOfCultivar"
                //Depth       double  Optional  Depth (mm) seed sown.   Default is 100mm 
                //MaxCover    double  Optional  Proportion (0-1) of the ground row crop will cover.   Default is 1.0
                //BudNumber   double  Optional  Number of mainstems per seed sown.  Default is 1.0
                //RowSpacing  double  Optional  Spaceing (mm) between drill rows when crop is sown.  Default is 150mm
                //CropClass   string  Optional  Crop class to instantiate when crop is sown.  Default is "Plant"
               }
            }
        }
                
<br/>
FIELD.EXTRAVARIABLES
--------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.Soils;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Clock Clock;
        [Link] Soils.Soil Soil;
        [Link] Models.SurfaceOM.SurfaceOrganicMatter SOM;
        [Link] Weather Met;   
        [Link] Fertiliser Fert;
        [Link] Irrigation Irrig;  
        [Link] Plant Potato;  
        [Link] Zone zone;
                    
        [XmlIgnore] public bool InitialDay { get; set; }
        
        [XmlIgnore] public double AccumPlantN { get; set; }
        [XmlIgnore] public double AccumMineralisation { get; set; }
        [XmlIgnore] public double AccumDenit { get; set; }
        [XmlIgnore] public double AccumFert { get; set; }
        [XmlIgnore] public double AccumLeach { get; set; }
        [XmlIgnore] public double AccumDetach { get; set; }
        [XmlIgnore] public double DeltaSoilOMN { get; set; }
        [XmlIgnore] public double DeltaSurfaceOMN { get; set; }
        [XmlIgnore] public double DeltaSoilMineralN { get; set; }
        [XmlIgnore] public double SoilNitrogenContent { get; set; }
        
        [XmlIgnore] public double AccumEO { get; set; }
        [XmlIgnore] public double AccumEP { get; set; }
        [XmlIgnore] public double AccumES { get; set; }
        [XmlIgnore] public double AccumDrainage { get; set; }
        [XmlIgnore] public double AccumRunoff { get; set; }
        [XmlIgnore] public double AccumOutflowLat { get; set; }
        [XmlIgnore] public double AccumIrrigation { get; set; }
        [XmlIgnore] public double AccumRainfall { get; set; }
        [XmlIgnore] public double SoilWaterDeficit { get; set; }
        
        [XmlIgnore] public double AccumTtemerg { get; set; }
        
        [XmlIgnore] public double  InitialSoilOMN { get; set; }
        [XmlIgnore] public double  InitialSurfaceOMN { get; set; }
        [XmlIgnore] public double  InitialMineralN { get; set; }
        
        [XmlIgnore] public double SWC { get; set; }
        [XmlIgnore] public double DUL { get; set; }
        [XmlIgnore] public double OutFlowLat { get; set; }

        [XmlIgnore] public double FomN { get; set; }
        [XmlIgnore] public double BiomN { get; set; }
        [XmlIgnore] public double HumN { get; set; }
        [XmlIgnore] public double OrganicN { get; set; }
        [XmlIgnore] public double NO3N { get; set; }
        [XmlIgnore] public double NH4N { get; set; }
        [XmlIgnore] public double UreaN { get; set; }
        [XmlIgnore] public double MineralN { get; set; }
        [XmlIgnore] public double DltNMinRes { get; set; }
        [XmlIgnore] public double DltNMinTot { get; set; }
        
        [EventSubscribe("Commencing")]
        private void OnSimulationCommencing(object sender, EventArgs e)
        {
            InitialDay = true;
        }       
        
        [EventSubscribe("DoManagement")]
        private void OnDoManagement(object sender, EventArgs e)
        {
            //!!!!!! Nitrogen balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!
               FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            OrganicN = FomN + HumN + BiomN;
            NO3N = Utility.Math.Sum(Soil.NO3N);
            NH4N = Utility.Math.Sum(Soil.NH4N);
            UreaN = Utility.Math.Sum(Soil.SoilNitrogen.urea);
            MineralN = NO3N + NH4N + UreaN; 
            DltNMinRes = Utility.Math.Sum(Soil.SoilNitrogen.dlt_n_min_res);
            DltNMinTot = Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            int layers = Soil.Thickness.Length;
            if (InitialDay == true)
            {
                InitialSurfaceOMN = SOM.N;
                InitialSoilOMN = OrganicN;
                InitialMineralN = MineralN;
                InitialDay = false;
            }
            AccumFert += Fert.NitrogenApplied;
            DeltaSurfaceOMN = SOM.N - InitialSurfaceOMN;
            AccumLeach = AccumLeach - Soil.SoilWater.LeachNH4 - Soil.SoilWater.LeachNO3 - Soil.SoilWater.LeachUrea; //Fails
            AccumMineralisation += Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            AccumDenit -= Utility.Math.Sum(Soil.SoilNitrogen.Denitrification);
            AccumPlantN -= (double)zone.Get("Potato.Root.NUptake");
            DeltaSoilOMN = OrganicN - InitialSoilOMN;
            DeltaSoilMineralN = MineralN - InitialMineralN;
            SoilNitrogenContent = MineralN;
            
            //!!!!!! Water balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!

            AccumIrrigation += Irrig.IrrigationApplied;
            AccumRainfall += Met.Rain;
            AccumEP -= (double)zone.Get("Potato.Leaf.Transpiration");
            SoilWaterDeficit =  (SWC - DUL);
            double OutFlowLat = Utility.Math.Sum(Soil.SoilWater.outflow_lat);
            AccumOutflowLat -= OutFlowLat;
            
            //!!!!!! Thermal time calculation !!!!!!
            //!!!!!! ^^^^^^^^^^^^^^^^^^^^^^^^ !!!!!!
            if (Potato.Phenology.Stage >= 3)
            AccumTtemerg += Potato.Phenology.ThermalTime.Value;
        }
        
        [EventSubscribe("DoManagementCalculations")]
        private void OnDoManagementCalculations(object sender, EventArgs e)
        {
            FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            
            
            AccumEO -= Soil.SoilWater.Eo;
            AccumES -= Soil.SoilWater.Es; 
            AccumDrainage -= Soil.SoilWater.Drainage;
            AccumRunoff -= Soil.SoilWater.Runoff;
            SWC = Utility.Math.Sum(Soil.SoilWater.SWmm);
            DUL = Utility.Math.Sum(Soil.SoilWater.DULmm);
        }
    }
}
       
<br/>
FIELD.REPORT
------------
                                   Output variables  Output frequency
                                      [Clock].Today  [Clock].DoReport
               [ExtraVariables].Script.AccumTtemerg                  
                  Potato.Phenology.CurrentPhaseName                  
                             Potato.Phenology.Stage                  
                [ExtraVariables].Script.AccumPlantN                  
        [ExtraVariables].Script.AccumMineralisation                  
                 [ExtraVariables].Script.AccumDenit                  
                  [ExtraVariables].Script.AccumFert                  
                 [ExtraVariables].Script.AccumLeach                  
                [ExtraVariables].Script.AccumDetach                  
               [ExtraVariables].Script.DeltaSoilOMN                  
            [ExtraVariables].Script.DeltaSurfaceOMN                  
          [ExtraVariables].Script.DeltaSoilMineralN                  
                          Potato.Root.NSupplyUptake                  
                                [Soil].SoilWater.Eo                  
                                [Soil].SoilWater.Es                  
                        [ExtraVariables].Script.SWC                  
                        [ExtraVariables].Script.DUL                  
                          [Soil].SoilWater.Drainage                  
                            [Soil].SoilWater.Runoff                  
                 [ExtraVariables].Script.OutFlowLat                  
                              [Soil].SoilWater.pond                  
                    [ExtraVariables].Script.AccumEO                  
                    [ExtraVariables].Script.AccumEP                  
                    [ExtraVariables].Script.AccumES                  
              [ExtraVariables].Script.AccumDrainage                  
                [ExtraVariables].Script.AccumRunoff                  
              [ExtraVariables].Script.AccumRainfall                  
            [ExtraVariables].Script.AccumIrrigation                  
            [ExtraVariables].Script.AccumOutflowLat                  
           [ExtraVariables].Script.SoilWaterDeficit                  
                   Potato.Summariser.AboveGround.Wt                  
                   Potato.Summariser.BelowGround.Wt                  
                         Potato.Summariser.Total.Wt                  
                     Potato.Summariser.TotalDead.Wt                  
                     Potato.Summariser.TotalLive.Wt                  
                                Potato.Leaf.Dead.Wt                  
                                Potato.Leaf.Live.Wt                  
                                Potato.Stem.Dead.Wt                  
                                Potato.Stem.Live.Wt                  
                               Potato.Tuber.Dead.Wt                  
                               Potato.Tuber.Live.Wt                  
                                Potato.Root.Dead.Wt                  
                                Potato.Root.Live.Wt                  
                    Potato.Summariser.AboveGround.N                  
                    Potato.Summariser.BelowGround.N                  
                          Potato.Summariser.Total.N                  
                      Potato.Summariser.TotalLive.N                  
                      Potato.Summariser.TotalDead.N                  
                                 Potato.Leaf.Dead.N                  
                                 Potato.Leaf.Live.N                  
                                 Potato.Stem.Dead.N                  
                                 Potato.Stem.Live.N                  
                                Potato.Tuber.Dead.N                  
                                Potato.Tuber.Live.N                  
                                 Potato.Root.Live.N                  
                                 Potato.Root.Dead.N                  
                             Potato.Leaf.Live.NConc                  
                             Potato.Leaf.Dead.NConc                  
                             Potato.Stem.Live.NConc                  
                             Potato.Stem.Dead.NConc                  
                            Potato.Tuber.Live.NConc                  
                            Potato.Tuber.Dead.NConc                  
                             Potato.Root.Live.NConc                  
                             Potato.Root.Dead.NConc                  
                            Potato.Root.WaterSupply                  
                            Potato.Root.WaterUptake                  
                          Potato.Leaf.Transpiration                  
                            Potato.Leaf.WaterDemand                  
                                  Potato.Root.Depth                  
                             Potato.Leaf.CoverGreen                  
                             Potato.Leaf.CoverTotal                  
                              Potato.Leaf.CoverDead                  
                                    Potato.Leaf.LAI                  
                                Potato.Leaf.LAIDead                  
                            Potato.Structure.Height                  
                                     Potato.Leaf.Fn                  
                                     Potato.Leaf.Fw                  
                Potato.Leaf.Photosynthesis.FT.Value                  
              Potato.Leaf.Photosynthesis.FVPD.Value                  
                  Potato.Structure.PlantTotalNodeNo                  
                     Potato.Structure.TotalStemPopn                  
               Potato.Leaf.PlantAppearedGreenLeafNo                  
                      Potato.Leaf.ExpandingCohortNo                  
                       Potato.Leaf.AppearedCohortNo                  
                           Potato.Leaf.DeadCohortNo                  
                    Potato.Structure.MainStemNodeNo                  
                      Potato.Leaf.SenescingCohortNo                  
             Potato.Structure.PrimaryBudTotalNodeNo                  
Potato.Leaf.LeafCohortParameters.MinimumNConc.Value                  
                     Potato.Stem.MinimumNConc.Value                  
                    Potato.Tuber.MinimumNConc.Value                  
                     Potato.Root.MinimumNConc.Value                  
Potato.Leaf.LeafCohortParameters.MaximumNConc.Value                  
                     Potato.Stem.MaximumNConc.Value                  
                    Potato.Tuber.MaximumNConc.Value                  
                     Potato.Root.MaximumNConc.Value                  
                      Potato.Stem.Live.StructuralWt                  
                   Potato.Stem.Live.NonStructuralWt                  
                           Potato.Leaf.SpecificArea                  
                       Potato.Leaf.ExpandedCohortNo                  
                              [Soil].SoilWater.SWmm                  
                                        [Soil].NO3N                  
        [ExtraVariables].Script.SoilNitrogenContent                  
                          Potato.Arbitrator.NDemand                  
                            [MicroClimate].net_radn                  
                                [MicroClimate].peta                  
                                [MicroClimate].petr                  
                       [ExtraVariables].Script.FomN                  
                       [ExtraVariables].Script.HumN                  
                      [ExtraVariables].Script.BiomN                  
                 [ExtraVariables].Script.DltNMinRes                  
                 [ExtraVariables].Script.DltNMinTot                  
                [PotatoHarvestRule].Script.FinalTag                  
                               Potato.Tuber.LiveFWt                  
                Potato.Tuber.DryMatterContent.Value                  

<br/>
FIELD.SURFACE ORGANIC MATTER
----------------------------
Surface organic matter pool name:             wheat
Surface organic matter pool type:             wheat
 Mass of surface residue (kg/ha):      2000 (kg/ha)
         Standing fraction (0-1):           0 (0-1)
     Carbon:Nitrogen ratio (g/g):          80 (g/g)
                  Carbon content:   800.000 (kg/ha)
                Nitrogen content:    10.000 (kg/ha)
              Phosphorus content:     0.000 (kg/ha)

<br/>
FIELD.POTATOHARVESTRULE
-----------------------

        using System;
        using Models.Core;
        using Models.PMF;
        using System.Xml.Serialization;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;
               [Link] Summary Summary;
               [Description("HarvestDate Date")]
               public DateTime HarvestDate { get; set; }            
               [XmlIgnore] public string FinalTag { get; set;}
               [XmlIgnore] public bool Harvested {get; set;}
               [XmlIgnore] public bool ReadyForHarvest {get; set;}
               
               [EventSubscribe("Commencing")]
               private void OnSimulationCommencing(object sender, EventArgs e)
               {
               FinalTag = "";
               Harvested = false;
               ReadyForHarvest = false;
               }
               
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
               if (ReadyForHarvest == true)
                   {
                   Potato.Harvest();
                   ReadyForHarvest = false;
                   Harvested = true;
                   }
               FinalTag = "";    
               }
               
               [EventSubscribe("DoManagementCalculations")]
               private void OnDoManagementCalculations(object sender, EventArgs e)
               {
                if ((Clock.Today == HarvestDate)&&(Harvested == false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
                if((Potato.Phenology.Stage>=7)&&(Harvested==false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
               }
            }
        }
                
<br/>
SIMULATION LOG:
---------------


2000-05-02 Field.Potato
    A crop of Potato (cultivar = IlamHardy) was sown today at a population of 4.63821892393321 plants/m2 with 2.4 buds per plant at a row spacing of 150 and a depth of 170 mm
    


2000-05-02 Field.Fertiliser
    300 kg/ha of UreaN added at depth 10 layer 1
    


2000-05-02 Field.Potato.Summariser
    Peeping
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


2000-05-26 Field.Potato.Summariser
    Emergence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


2000-06-14 Field.Fertiliser
    170 kg/ha of UreaN added at depth 10 layer 1
    


2000-06-27 Field.Potato.Summariser
    TuberInitiation
      LAI = 0.44 (m^2/m^2)
      Above Ground Biomass = 22.73 (g/m^2)
    
    


2000-10-11 Field.Potato.Summariser
    FinalLeaf
      LAI = 0.35 (m^2/m^2)
      Above Ground Biomass = 98.45 (g/m^2)
    
    


2000-10-17 Field.Potato.Summariser
    FinalLeaf
      LAI = 0.20 (m^2/m^2)
      Above Ground Biomass = 98.45 (g/m^2)
    
    Maturity
      LAI = 0.20 (m^2/m^2)
      Above Ground Biomass = 98.45 (g/m^2)
    
    


2000-10-17 Field.Potato
    A crop of Potato was harvested today, Yeahhh
    


############################################################################
.FUE_NINITROGEN0
----------------
Simulation name:   FUE_NINitrogen0

<br/>
WEATHER
-------
Weather file name:   Pukehohe.met

<br/>
CLOCK
-----
The start date of the simulation:   2004-05-10
  The end date of the simulation:   2004-12-31

<br/>
PADDOCK.SOIL
------------
    Record number:       0
 Latitude (WGS84):   0.000
Longitude (WGS84):   0.000

<br/>
PADDOCK.SOIL.ANALYSIS
---------------------
Depth (cm)  PH (1:5 water)
      0-10             6.6
     10-30             6.2
     30-60             5.7
     60-90             5.5
    90-120             5.5
   120-150             5.5

<br/>
PADDOCK.SOIL.INITIAL WATER
--------------------------
        Fraction full:          1.000
    Depth of wet soil:            NaN
Plant available water:   294.000 (mm)

<br/>
PADDOCK.SOIL.WATER
------------------
Depth (cm)  BD (g/cc)  Air dry (mm/mm)  LL15 (mm/mm)  DUL (mm/mm)  SAT (mm/mm)
      0-10       1.20             0.08          0.13         0.33         0.50
     10-30       1.20             0.08          0.13         0.33         0.50
     30-60       1.20             0.05          0.10         0.31         0.44
     60-90       1.20             0.04          0.08         0.27         0.46
    90-120       1.20             0.06          0.11         0.30         0.44
   120-150       1.20             0.06          0.11         0.30         0.44

<br/>
PADDOCK.SOIL.WATER.WHEATSOIL
----------------------------
wheat Depth (cm)  wheat LL (mm/mm)  wheat PAWC (mm)  wheat KL (mm/mm)  wheat XF (mm/mm)
            0-10              0.13             20.0              0.06               1.0
           10-30              0.13             40.0              0.06               1.0
           30-60               0.1             63.0              0.06               1.0
           60-90              0.08             57.0              0.06               1.0
          90-120              0.11             57.0              0.06               1.0
         120-150              0.11             57.0              0.06               1.0
                                              294.0                                    

<br/>
PADDOCK.SOIL.WATER.POTATO2SOIL
------------------------------
potato2 Depth (cm)  potato2 LL (mm/mm)  potato2 PAWC (mm)  potato2 KL (mm/mm)  potato2 XF (mm/mm)
              0-10                0.13               20.0                0.10                 1.0
             10-30                0.13               40.0                0.10                 1.0
             30-60                 0.1               63.0                0.07                 1.0
             60-90                0.15               36.0                0.05                 1.0
            90-120                 0.3                0.0                0.05                 0.0
           120-150                 0.3                0.0                0.05                 0.0
                                                    159.0                                        

<br/>
PADDOCK.SOIL.WATER.POTATOSOIL
-----------------------------
Potato Depth (cm)  Potato LL (mm/mm)  Potato PAWC (mm)  Potato KL (mm/mm)  Potato XF (mm/mm)
             0-10               0.13              20.0               0.10                1.0
            10-30               0.13              40.0               0.10                1.0
            30-60                0.1              63.0               0.07                1.0
            60-90               0.15              36.0               0.05                1.0
           90-120                0.3               0.0               0.05                0.0
          120-150                0.3               0.0               0.05                0.0
                                                 159.0                                      

<br/>
PADDOCK.SOIL.SOILORGANICMATTER
------------------------------
                  Root C:N ratio:     30.000
             Root Weight (kg/ha):   3000.000
                  Soil C:N ratio:     11.500
Erosion enrichment coefficient A:      7.400
Erosion enrichment coefficient B:      0.200

Depth (cm)  OC (Total %)  FBiom (0-1)  FInert (0-1)
      0-10          1.82        0.025           0.3
     10-30          1.47        0.025           0.4
     30-60          1.20        0.015          0.75
     60-90          1.03         0.01           0.9
    90-120          0.47         0.01          0.96
   120-150          0.47         0.01          0.96

<br/>
PADDOCK.SOIL.INITIAL NITROGEN
-----------------------------
Depth (cm)  NO3kgha  NH4kgha       SWmm
      0-10      6.0      0.1  999,999.0
     10-30      7.2      0.2  999,999.0
     30-60     28.8      0.4  999,999.0
     60-90     25.2      0.4  999,999.0
    90-120      5.0      0.4  999,999.0
   120-150      5.0      0.4  999,999.0

<br/>
PADDOCK.SURFACE ORGANIC MATTER
------------------------------
Surface organic matter pool name:             wheat
Surface organic matter pool type:             wheat
 Mass of surface residue (kg/ha):      2000 (kg/ha)
         Standing fraction (0-1):           0 (0-1)
     Carbon:Nitrogen ratio (g/g):          80 (g/g)
                  Carbon content:   800.000 (kg/ha)
                Nitrogen content:    10.000 (kg/ha)
              Phosphorus content:     0.000 (kg/ha)

<br/>
PADDOCK.MANAGER FOLDER.POTATOSOWINGRULE
---------------------------------------

        using System;
        using Models.Core;
        using Models.PMF;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;

               [Description("Spacing (mm) between plants within rows")]
               public double RowSpace { get; set; }
               [Description("Spacing (mm) between rows")]
               public double RowWidth { get; set; }
               [Description("Depth (mm) tubers are planted")]
               public double PlantingDepth { get; set; }
               [Description("Number of stems per seed tuber")]
               public double StemNumberPerSeedTuber { get; set; }
               [Description("Cultivar")]
               public string CultivarName { get; set; }
               [Description("Sowing Date")]
               public DateTime SowingDate { get; set; }

               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
                double PlantPopulation = 1/((RowWidth/1000)*(RowSpace/1000));

                if (Clock.Today.Date == SowingDate)
                    Potato.Sow(population:PlantPopulation, cultivar:CultivarName, depth:PlantingDepth, rowSpacing:150, budNumber:StemNumberPerSeedTuber);
                //Potato.Sow(... Contains the following arguements:
                //Population  double  Required  Seeds sowing/m2
                //Cultivar    string  Required  "NameOfCultivar"
                //Depth       double  Optional  Depth (mm) seed sown.   Default is 100mm 
                //MaxCover    double  Optional  Proportion (0-1) of the ground row crop will cover.   Default is 1.0
                //BudNumber   double  Optional  Number of mainstems per seed sown.  Default is 1.0
                //RowSpacing  double  Optional  Spaceing (mm) between drill rows when crop is sown.  Default is 150mm
                //CropClass   string  Optional  Crop class to instantiate when crop is sown.  Default is "Plant"
               }
            }
        }
                
<br/>
PADDOCK.EXTRAVARIABLES
----------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.Soils;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Clock Clock;
        [Link] Soils.Soil Soil;
        [Link] Models.SurfaceOM.SurfaceOrganicMatter SOM;
        [Link] Weather Met;   
        [Link] Fertiliser Fert;
        [Link] Irrigation Irrig;  
        [Link] Plant Potato;
        [Link] Zone zone;
                    
        [XmlIgnore] public bool InitialDay { get; set; }
        
        [XmlIgnore] public double AccumPlantN { get; set; }
        [XmlIgnore] public double AccumMineralisation { get; set; }
        [XmlIgnore] public double AccumDenit { get; set; }
        [XmlIgnore] public double AccumFert { get; set; }
        [XmlIgnore] public double AccumLeach { get; set; }
        [XmlIgnore] public double AccumDetach { get; set; }
        [XmlIgnore] public double DeltaSoilOMN { get; set; }
        [XmlIgnore] public double DeltaSurfaceOMN { get; set; }
        [XmlIgnore] public double DeltaSoilMineralN { get; set; }
        [XmlIgnore] public double SoilNitrogenContent { get; set; }
        
        [XmlIgnore] public double AccumEO { get; set; }
        [XmlIgnore] public double AccumEP { get; set; }
        [XmlIgnore] public double AccumES { get; set; }
        [XmlIgnore] public double AccumDrainage { get; set; }
        [XmlIgnore] public double AccumRunoff { get; set; }
        [XmlIgnore] public double AccumOutflowLat { get; set; }
        [XmlIgnore] public double AccumIrrigation { get; set; }
        [XmlIgnore] public double AccumRainfall { get; set; }
        [XmlIgnore] public double SoilWaterDeficit { get; set; }
        
        [XmlIgnore] public double AccumTtemerg { get; set; }
        
        [XmlIgnore] public double  InitialSoilOMN { get; set; }
        [XmlIgnore] public double  InitialSurfaceOMN { get; set; }
        [XmlIgnore] public double  InitialMineralN { get; set; }
        
        [XmlIgnore] public double SWC { get; set; }
        [XmlIgnore] public double DUL { get; set; }
        [XmlIgnore] public double OutFlowLat { get; set; }

        [XmlIgnore] public double FomN { get; set; }
        [XmlIgnore] public double BiomN { get; set; }
        [XmlIgnore] public double HumN { get; set; }
        [XmlIgnore] public double OrganicN { get; set; }
        [XmlIgnore] public double NO3N { get; set; }
        [XmlIgnore] public double NH4N { get; set; }
        [XmlIgnore] public double UreaN { get; set; }
        [XmlIgnore] public double MineralN { get; set; }
        [XmlIgnore] public double DltNMinRes { get; set; }
        [XmlIgnore] public double DltNMinTot { get; set; }
    
        [EventSubscribe("Commencing")]
        private void OnSimulationCommencing(object sender, EventArgs e)
        {
            InitialDay = true;
        }       
        
        [EventSubscribe("DoManagement")]
        private void OnDoManagement(object sender, EventArgs e)
        {
            //!!!!!! Nitrogen balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!
               FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            OrganicN = FomN + HumN + BiomN;
            NO3N = Utility.Math.Sum(Soil.NO3N);
            NH4N = Utility.Math.Sum(Soil.NH4N);
            UreaN = Utility.Math.Sum(Soil.SoilNitrogen.urea);
            MineralN = NO3N + NH4N + UreaN; 
            DltNMinRes = Utility.Math.Sum(Soil.SoilNitrogen.dlt_n_min_res);
            DltNMinTot = Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            int layers = Soil.Thickness.Length;
            if (InitialDay == true)
            {
                InitialSurfaceOMN = SOM.N;
                InitialSoilOMN = OrganicN;
                InitialMineralN = MineralN;
                InitialDay = false;
            }
            AccumFert += Fert.NitrogenApplied;
            DeltaSurfaceOMN = SOM.N - InitialSurfaceOMN;
            AccumLeach = AccumLeach - Soil.SoilWater.LeachNH4 - Soil.SoilWater.LeachNO3 - Soil.SoilWater.LeachUrea; //Fails
            AccumMineralisation += Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            AccumDenit -= Utility.Math.Sum(Soil.SoilNitrogen.Denitrification);
            AccumPlantN -= (double)zone.Get("Potato.Root.NUptake");
            DeltaSoilOMN = OrganicN - InitialSoilOMN;
            DeltaSoilMineralN = MineralN - InitialMineralN;
            SoilNitrogenContent = MineralN;
            
            //!!!!!! Water balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!

            AccumIrrigation += Irrig.IrrigationApplied;
            AccumRainfall += Met.Rain;
            AccumEP -= (double)zone.Get("Potato.Leaf.Transpiration");
            SoilWaterDeficit =  (SWC - DUL);
            double OutFlowLat = Utility.Math.Sum(Soil.SoilWater.outflow_lat);
            AccumOutflowLat -= OutFlowLat;
            
            //!!!!!! Thermal time calculation !!!!!!
            //!!!!!! ^^^^^^^^^^^^^^^^^^^^^^^^ !!!!!!
            if (Potato.Phenology.Stage >= 3)
            AccumTtemerg += Potato.Phenology.ThermalTime.Value;
        }
        
        [EventSubscribe("DoManagementCalculations")]
        private void OnDoManagementCalculations(object sender, EventArgs e)
        {
            FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            
            
            AccumEO -= Soil.SoilWater.Eo;
            AccumES -= Soil.SoilWater.Es; 
            AccumDrainage -= Soil.SoilWater.Drainage;
            AccumRunoff -= Soil.SoilWater.Runoff;
            SWC = Utility.Math.Sum(Soil.SoilWater.SWmm);
            DUL = Utility.Math.Sum(Soil.SoilWater.DULmm);
        }
    }
}
       
<br/>
PADDOCK.REPORT
--------------
                                   Output variables  Output frequency
                                      [Clock].Today  [Clock].DoReport
               [ExtraVariables].Script.AccumTtemerg                  
                  Potato.Phenology.CurrentPhaseName                  
                             Potato.Phenology.Stage                  
                [ExtraVariables].Script.AccumPlantN                  
        [ExtraVariables].Script.AccumMineralisation                  
                 [ExtraVariables].Script.AccumDenit                  
                  [ExtraVariables].Script.AccumFert                  
                 [ExtraVariables].Script.AccumLeach                  
                [ExtraVariables].Script.AccumDetach                  
               [ExtraVariables].Script.DeltaSoilOMN                  
            [ExtraVariables].Script.DeltaSurfaceOMN                  
          [ExtraVariables].Script.DeltaSoilMineralN                  
                          Potato.Root.NSupplyUptake                  
                                [Soil].SoilWater.Eo                  
                                [Soil].SoilWater.Es                  
                        [ExtraVariables].Script.SWC                  
                        [ExtraVariables].Script.DUL                  
                          [Soil].SoilWater.Drainage                  
                            [Soil].SoilWater.Runoff                  
                 [ExtraVariables].Script.OutFlowLat                  
                              [Soil].SoilWater.pond                  
                    [ExtraVariables].Script.AccumEO                  
                    [ExtraVariables].Script.AccumEP                  
                    [ExtraVariables].Script.AccumES                  
              [ExtraVariables].Script.AccumDrainage                  
                [ExtraVariables].Script.AccumRunoff                  
              [ExtraVariables].Script.AccumRainfall                  
            [ExtraVariables].Script.AccumIrrigation                  
            [ExtraVariables].Script.AccumOutflowLat                  
           [ExtraVariables].Script.SoilWaterDeficit                  
                   Potato.Summariser.AboveGround.Wt                  
                   Potato.Summariser.BelowGround.Wt                  
                         Potato.Summariser.Total.Wt                  
                     Potato.Summariser.TotalDead.Wt                  
                     Potato.Summariser.TotalLive.Wt                  
                                Potato.Leaf.Dead.Wt                  
                                Potato.Leaf.Live.Wt                  
                                Potato.Stem.Dead.Wt                  
                                Potato.Stem.Live.Wt                  
                               Potato.Tuber.Dead.Wt                  
                               Potato.Tuber.Live.Wt                  
                                Potato.Root.Dead.Wt                  
                                Potato.Root.Live.Wt                  
                    Potato.Summariser.AboveGround.N                  
                    Potato.Summariser.BelowGround.N                  
                          Potato.Summariser.Total.N                  
                      Potato.Summariser.TotalLive.N                  
                      Potato.Summariser.TotalDead.N                  
                                 Potato.Leaf.Dead.N                  
                                 Potato.Leaf.Live.N                  
                                 Potato.Stem.Dead.N                  
                                 Potato.Stem.Live.N                  
                                Potato.Tuber.Dead.N                  
                                Potato.Tuber.Live.N                  
                                 Potato.Root.Live.N                  
                                 Potato.Root.Dead.N                  
                             Potato.Leaf.Live.NConc                  
                             Potato.Leaf.Dead.NConc                  
                             Potato.Stem.Live.NConc                  
                             Potato.Stem.Dead.NConc                  
                            Potato.Tuber.Live.NConc                  
                            Potato.Tuber.Dead.NConc                  
                             Potato.Root.Live.NConc                  
                             Potato.Root.Dead.NConc                  
                            Potato.Root.WaterSupply                  
                            Potato.Root.WaterUptake                  
                          Potato.Leaf.Transpiration                  
                            Potato.Leaf.WaterDemand                  
                                  Potato.Root.Depth                  
                             Potato.Leaf.CoverGreen                  
                             Potato.Leaf.CoverTotal                  
                              Potato.Leaf.CoverDead                  
                                    Potato.Leaf.LAI                  
                                Potato.Leaf.LAIDead                  
                            Potato.Structure.Height                  
                                     Potato.Leaf.Fn                  
                                     Potato.Leaf.Fw                  
                Potato.Leaf.Photosynthesis.FT.Value                  
              Potato.Leaf.Photosynthesis.FVPD.Value                  
                  Potato.Structure.PlantTotalNodeNo                  
                     Potato.Structure.TotalStemPopn                  
               Potato.Leaf.PlantAppearedGreenLeafNo                  
                      Potato.Leaf.ExpandingCohortNo                  
                       Potato.Leaf.AppearedCohortNo                  
                           Potato.Leaf.DeadCohortNo                  
                    Potato.Structure.MainStemNodeNo                  
                      Potato.Leaf.SenescingCohortNo                  
             Potato.Structure.PrimaryBudTotalNodeNo                  
Potato.Leaf.LeafCohortParameters.MinimumNConc.Value                  
                     Potato.Stem.MinimumNConc.Value                  
                    Potato.Tuber.MinimumNConc.Value                  
                     Potato.Root.MinimumNConc.Value                  
Potato.Leaf.LeafCohortParameters.MaximumNConc.Value                  
                     Potato.Stem.MaximumNConc.Value                  
                    Potato.Tuber.MaximumNConc.Value                  
                     Potato.Root.MaximumNConc.Value                  
                      Potato.Stem.Live.StructuralWt                  
                   Potato.Stem.Live.NonStructuralWt                  
                           Potato.Leaf.SpecificArea                  
                       Potato.Leaf.ExpandedCohortNo                  
                              [Soil].SoilWater.SWmm                  
                                        [Soil].NO3N                  
        [ExtraVariables].Script.SoilNitrogenContent                  
                          Potato.Arbitrator.NDemand                  
                            [MicroClimate].net_radn                  
                                [MicroClimate].peta                  
                                [MicroClimate].petr                  
                       [ExtraVariables].Script.FomN                  
                       [ExtraVariables].Script.HumN                  
                      [ExtraVariables].Script.BiomN                  
                 [ExtraVariables].Script.DltNMinRes                  
                 [ExtraVariables].Script.DltNMinTot                  
                [PotatoHarvestRule].Script.FinalTag                  
                               Potato.Tuber.LiveFWt                  
                Potato.Tuber.DryMatterContent.Value                  

<br/>
PADDOCK.POTATOHARVESTRULE
-------------------------

        using System;
        using Models.Core;
        using Models.PMF;
        using System.Xml.Serialization;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;
               [Link] Summary Summary;
               [Description("HarvestDate Date")]
               public DateTime HarvestDate { get; set; }            
               [XmlIgnore] public string FinalTag { get; set;}
               [XmlIgnore] public bool Harvested {get; set;}
               [XmlIgnore] public bool ReadyForHarvest {get; set;}
               
               [EventSubscribe("Commencing")]
               private void OnSimulationCommencing(object sender, EventArgs e)
               {
               FinalTag = "";
               Harvested = false;
               ReadyForHarvest = false;
               }
               
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
               if (ReadyForHarvest == true)
                   {
                   Potato.Harvest();
                   ReadyForHarvest = false;
                   Harvested = true;
                   }
               FinalTag = "";    
               }
               
               [EventSubscribe("DoManagementCalculations")]
               private void OnDoManagementCalculations(object sender, EventArgs e)
               {
                if ((Clock.Today == HarvestDate)&&(Harvested == false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
               }
            }
        }
                
<br/>
PADDOCK.SETINTERGERCROPPARAMETER
--------------------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Plant Plant;          
        [Link] Zone zone;            
        [Description("Path for coefficient to be Overwritten")]
        public string OverRidePath { get; set; }
        [Description("Value for new coefficient Interger")]
        public int OverRideInterger { get; set; }
        
        [EventSubscribe("Sowing")]
        private void OnSowing(object sender, EventArgs e)
        {
            object ResetValue = OverRideInterger;
            zone.Set(OverRidePath, ResetValue);
        }
    }
}
       
<br/>
SIMULATION LOG:
---------------


2004-05-10 paddock.Potato
    A crop of Potato (cultivar = Nadine) was sown today at a population of 41.1522633744856 plants/m2 with 2.4 buds per plant at a row spacing of 150 and a depth of 170 mm
    


2004-05-10 paddock.Potato.Summariser
    Peeping
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


2004-06-07 paddock.Potato.Summariser
    Emergence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


2004-07-13 paddock.Potato.Summariser
    TuberInitiation
      LAI = 1.49 (m^2/m^2)
      Above Ground Biomass = 57.18 (g/m^2)
    
    


2004-09-05 paddock.Potato.Summariser
    FinalLeaf
      LAI = 1.43 (m^2/m^2)
      Above Ground Biomass = 59.24 (g/m^2)
    
    


2004-10-28 paddock.Potato.Summariser
    FullSenescence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 59.24 (g/m^2)
    
    


2004-11-10 paddock.Potato.Summariser
    FullSenescence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 59.24 (g/m^2)
    
    Maturity
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 59.24 (g/m^2)
    
    


2004-11-10 paddock.Potato
    A crop of Potato was harvested today, Yeahhh
    


############################################################################
.FUE_NINITROGEN253
------------------
Simulation name:   FUE_NINitrogen253

<br/>
WEATHER
-------
Weather file name:   Pukehohe.met

<br/>
CLOCK
-----
The start date of the simulation:   2004-05-10
  The end date of the simulation:   2004-12-31

<br/>
PADDOCK.SOIL
------------
    Record number:       0
 Latitude (WGS84):   0.000
Longitude (WGS84):   0.000

<br/>
PADDOCK.SOIL.ANALYSIS
---------------------
Depth (cm)  PH (1:5 water)
      0-10             6.6
     10-30             6.2
     30-60             5.7
     60-90             5.5
    90-120             5.5
   120-150             5.5

<br/>
PADDOCK.SOIL.INITIAL WATER
--------------------------
        Fraction full:          1.000
    Depth of wet soil:            NaN
Plant available water:   294.000 (mm)

<br/>
PADDOCK.SOIL.WATER
------------------
Depth (cm)  BD (g/cc)  Air dry (mm/mm)  LL15 (mm/mm)  DUL (mm/mm)  SAT (mm/mm)
      0-10       1.20             0.08          0.13         0.33         0.50
     10-30       1.20             0.08          0.13         0.33         0.50
     30-60       1.20             0.05          0.10         0.31         0.44
     60-90       1.20             0.04          0.08         0.27         0.46
    90-120       1.20             0.06          0.11         0.30         0.44
   120-150       1.20             0.06          0.11         0.30         0.44

<br/>
PADDOCK.SOIL.WATER.WHEATSOIL
----------------------------
wheat Depth (cm)  wheat LL (mm/mm)  wheat PAWC (mm)  wheat KL (mm/mm)  wheat XF (mm/mm)
            0-10              0.13             20.0              0.06               1.0
           10-30              0.13             40.0              0.06               1.0
           30-60               0.1             63.0              0.06               1.0
           60-90              0.08             57.0              0.06               1.0
          90-120              0.11             57.0              0.06               1.0
         120-150              0.11             57.0              0.06               1.0
                                              294.0                                    

<br/>
PADDOCK.SOIL.WATER.POTATO2SOIL
------------------------------
potato2 Depth (cm)  potato2 LL (mm/mm)  potato2 PAWC (mm)  potato2 KL (mm/mm)  potato2 XF (mm/mm)
              0-10                0.13               20.0                0.10                 1.0
             10-30                0.13               40.0                0.10                 1.0
             30-60                 0.1               63.0                0.07                 1.0
             60-90                0.15               36.0                0.05                 1.0
            90-120                 0.3                0.0                0.05                 0.0
           120-150                 0.3                0.0                0.05                 0.0
                                                    159.0                                        

<br/>
PADDOCK.SOIL.WATER.POTATOSOIL
-----------------------------
Potato Depth (cm)  Potato LL (mm/mm)  Potato PAWC (mm)  Potato KL (mm/mm)  Potato XF (mm/mm)
             0-10               0.13              20.0               0.10                1.0
            10-30               0.13              40.0               0.10                1.0
            30-60                0.1              63.0               0.07                1.0
            60-90               0.15              36.0               0.05                1.0
           90-120                0.3               0.0               0.05                0.0
          120-150                0.3               0.0               0.05                0.0
                                                 159.0                                      

<br/>
PADDOCK.SOIL.SOILORGANICMATTER
------------------------------
                  Root C:N ratio:     30.000
             Root Weight (kg/ha):   3000.000
                  Soil C:N ratio:     11.500
Erosion enrichment coefficient A:      7.400
Erosion enrichment coefficient B:      0.200

Depth (cm)  OC (Total %)  FBiom (0-1)  FInert (0-1)
      0-10          1.82        0.025           0.3
     10-30          1.47        0.025           0.4
     30-60          1.20        0.015          0.75
     60-90          1.03         0.01           0.9
    90-120          0.47         0.01          0.96
   120-150          0.47         0.01          0.96

<br/>
PADDOCK.SOIL.INITIAL NITROGEN
-----------------------------
Depth (cm)  NO3kgha  NH4kgha       SWmm
      0-10      6.0      0.1  999,999.0
     10-30      7.2      0.2  999,999.0
     30-60     28.8      0.4  999,999.0
     60-90     25.2      0.4  999,999.0
    90-120      5.0      0.4  999,999.0
   120-150      5.0      0.4  999,999.0

<br/>
PADDOCK.SURFACE ORGANIC MATTER
------------------------------
Surface organic matter pool name:             wheat
Surface organic matter pool type:             wheat
 Mass of surface residue (kg/ha):      2000 (kg/ha)
         Standing fraction (0-1):           0 (0-1)
     Carbon:Nitrogen ratio (g/g):          80 (g/g)
                  Carbon content:   800.000 (kg/ha)
                Nitrogen content:    10.000 (kg/ha)
              Phosphorus content:     0.000 (kg/ha)

<br/>
PADDOCK.MANAGER FOLDER.POTATOSOWINGRULE
---------------------------------------

        using System;
        using Models.Core;
        using Models.PMF;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;

               [Description("Spacing (mm) between plants within rows")]
               public double RowSpace { get; set; }
               [Description("Spacing (mm) between rows")]
               public double RowWidth { get; set; }
               [Description("Depth (mm) tubers are planted")]
               public double PlantingDepth { get; set; }
               [Description("Number of stems per seed tuber")]
               public double StemNumberPerSeedTuber { get; set; }
               [Description("Cultivar")]
               public string CultivarName { get; set; }
               [Description("Sowing Date")]
               public DateTime SowingDate { get; set; }

               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
                double PlantPopulation = 1/((RowWidth/1000)*(RowSpace/1000));

                if (Clock.Today.Date == SowingDate)
                    Potato.Sow(population:PlantPopulation, cultivar:CultivarName, depth:PlantingDepth, rowSpacing:150, budNumber:StemNumberPerSeedTuber);
                //Potato.Sow(... Contains the following arguements:
                //Population  double  Required  Seeds sowing/m2
                //Cultivar    string  Required  "NameOfCultivar"
                //Depth       double  Optional  Depth (mm) seed sown.   Default is 100mm 
                //MaxCover    double  Optional  Proportion (0-1) of the ground row crop will cover.   Default is 1.0
                //BudNumber   double  Optional  Number of mainstems per seed sown.  Default is 1.0
                //RowSpacing  double  Optional  Spaceing (mm) between drill rows when crop is sown.  Default is 150mm
                //CropClass   string  Optional  Crop class to instantiate when crop is sown.  Default is "Plant"
               }
            }
        }
                
<br/>
PADDOCK.EXTRAVARIABLES
----------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.Soils;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Clock Clock;
        [Link] Soils.Soil Soil;
        [Link] Models.SurfaceOM.SurfaceOrganicMatter SOM;
        [Link] Weather Met;   
        [Link] Fertiliser Fert;
        [Link] Irrigation Irrig;  
        [Link] Plant Potato;
        [Link] Zone zone;
                    
        [XmlIgnore] public bool InitialDay { get; set; }
        
        [XmlIgnore] public double AccumPlantN { get; set; }
        [XmlIgnore] public double AccumMineralisation { get; set; }
        [XmlIgnore] public double AccumDenit { get; set; }
        [XmlIgnore] public double AccumFert { get; set; }
        [XmlIgnore] public double AccumLeach { get; set; }
        [XmlIgnore] public double AccumDetach { get; set; }
        [XmlIgnore] public double DeltaSoilOMN { get; set; }
        [XmlIgnore] public double DeltaSurfaceOMN { get; set; }
        [XmlIgnore] public double DeltaSoilMineralN { get; set; }
        [XmlIgnore] public double SoilNitrogenContent { get; set; }
        
        [XmlIgnore] public double AccumEO { get; set; }
        [XmlIgnore] public double AccumEP { get; set; }
        [XmlIgnore] public double AccumES { get; set; }
        [XmlIgnore] public double AccumDrainage { get; set; }
        [XmlIgnore] public double AccumRunoff { get; set; }
        [XmlIgnore] public double AccumOutflowLat { get; set; }
        [XmlIgnore] public double AccumIrrigation { get; set; }
        [XmlIgnore] public double AccumRainfall { get; set; }
        [XmlIgnore] public double SoilWaterDeficit { get; set; }
        
        [XmlIgnore] public double AccumTtemerg { get; set; }
        
        [XmlIgnore] public double  InitialSoilOMN { get; set; }
        [XmlIgnore] public double  InitialSurfaceOMN { get; set; }
        [XmlIgnore] public double  InitialMineralN { get; set; }
        
        [XmlIgnore] public double SWC { get; set; }
        [XmlIgnore] public double DUL { get; set; }
        [XmlIgnore] public double OutFlowLat { get; set; }

        [XmlIgnore] public double FomN { get; set; }
        [XmlIgnore] public double BiomN { get; set; }
        [XmlIgnore] public double HumN { get; set; }
        [XmlIgnore] public double OrganicN { get; set; }
        [XmlIgnore] public double NO3N { get; set; }
        [XmlIgnore] public double NH4N { get; set; }
        [XmlIgnore] public double UreaN { get; set; }
        [XmlIgnore] public double MineralN { get; set; }
        [XmlIgnore] public double DltNMinRes { get; set; }
        [XmlIgnore] public double DltNMinTot { get; set; }
    
        [EventSubscribe("Commencing")]
        private void OnSimulationCommencing(object sender, EventArgs e)
        {
            InitialDay = true;
        }       
        
        [EventSubscribe("DoManagement")]
        private void OnDoManagement(object sender, EventArgs e)
        {
            //!!!!!! Nitrogen balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!
               FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            OrganicN = FomN + HumN + BiomN;
            NO3N = Utility.Math.Sum(Soil.NO3N);
            NH4N = Utility.Math.Sum(Soil.NH4N);
            UreaN = Utility.Math.Sum(Soil.SoilNitrogen.urea);
            MineralN = NO3N + NH4N + UreaN; 
            DltNMinRes = Utility.Math.Sum(Soil.SoilNitrogen.dlt_n_min_res);
            DltNMinTot = Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            int layers = Soil.Thickness.Length;
            if (InitialDay == true)
            {
                InitialSurfaceOMN = SOM.N;
                InitialSoilOMN = OrganicN;
                InitialMineralN = MineralN;
                InitialDay = false;
            }
            AccumFert += Fert.NitrogenApplied;
            DeltaSurfaceOMN = SOM.N - InitialSurfaceOMN;
            AccumLeach = AccumLeach - Soil.SoilWater.LeachNH4 - Soil.SoilWater.LeachNO3 - Soil.SoilWater.LeachUrea; //Fails
            AccumMineralisation += Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            AccumDenit -= Utility.Math.Sum(Soil.SoilNitrogen.Denitrification);
            AccumPlantN -= (double)zone.Get("Potato.Root.NUptake");
            DeltaSoilOMN = OrganicN - InitialSoilOMN;
            DeltaSoilMineralN = MineralN - InitialMineralN;
            SoilNitrogenContent = MineralN;
            
            //!!!!!! Water balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!

            AccumIrrigation += Irrig.IrrigationApplied;
            AccumRainfall += Met.Rain;
            AccumEP -= (double)zone.Get("Potato.Leaf.Transpiration");
            SoilWaterDeficit =  (SWC - DUL);
            double OutFlowLat = Utility.Math.Sum(Soil.SoilWater.outflow_lat);
            AccumOutflowLat -= OutFlowLat;
            
            //!!!!!! Thermal time calculation !!!!!!
            //!!!!!! ^^^^^^^^^^^^^^^^^^^^^^^^ !!!!!!
            if (Potato.Phenology.Stage >= 3)
            AccumTtemerg += Potato.Phenology.ThermalTime.Value;
        }
        
        [EventSubscribe("DoManagementCalculations")]
        private void OnDoManagementCalculations(object sender, EventArgs e)
        {
            FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            
            
            AccumEO -= Soil.SoilWater.Eo;
            AccumES -= Soil.SoilWater.Es; 
            AccumDrainage -= Soil.SoilWater.Drainage;
            AccumRunoff -= Soil.SoilWater.Runoff;
            SWC = Utility.Math.Sum(Soil.SoilWater.SWmm);
            DUL = Utility.Math.Sum(Soil.SoilWater.DULmm);
        }
    }
}
       
<br/>
PADDOCK.REPORT
--------------
                                   Output variables  Output frequency
                                      [Clock].Today  [Clock].DoReport
               [ExtraVariables].Script.AccumTtemerg                  
                  Potato.Phenology.CurrentPhaseName                  
                             Potato.Phenology.Stage                  
                [ExtraVariables].Script.AccumPlantN                  
        [ExtraVariables].Script.AccumMineralisation                  
                 [ExtraVariables].Script.AccumDenit                  
                  [ExtraVariables].Script.AccumFert                  
                 [ExtraVariables].Script.AccumLeach                  
                [ExtraVariables].Script.AccumDetach                  
               [ExtraVariables].Script.DeltaSoilOMN                  
            [ExtraVariables].Script.DeltaSurfaceOMN                  
          [ExtraVariables].Script.DeltaSoilMineralN                  
                          Potato.Root.NSupplyUptake                  
                                [Soil].SoilWater.Eo                  
                                [Soil].SoilWater.Es                  
                        [ExtraVariables].Script.SWC                  
                        [ExtraVariables].Script.DUL                  
                          [Soil].SoilWater.Drainage                  
                            [Soil].SoilWater.Runoff                  
                 [ExtraVariables].Script.OutFlowLat                  
                              [Soil].SoilWater.pond                  
                    [ExtraVariables].Script.AccumEO                  
                    [ExtraVariables].Script.AccumEP                  
                    [ExtraVariables].Script.AccumES                  
              [ExtraVariables].Script.AccumDrainage                  
                [ExtraVariables].Script.AccumRunoff                  
              [ExtraVariables].Script.AccumRainfall                  
            [ExtraVariables].Script.AccumIrrigation                  
            [ExtraVariables].Script.AccumOutflowLat                  
           [ExtraVariables].Script.SoilWaterDeficit                  
                   Potato.Summariser.AboveGround.Wt                  
                   Potato.Summariser.BelowGround.Wt                  
                         Potato.Summariser.Total.Wt                  
                     Potato.Summariser.TotalDead.Wt                  
                     Potato.Summariser.TotalLive.Wt                  
                                Potato.Leaf.Dead.Wt                  
                                Potato.Leaf.Live.Wt                  
                                Potato.Stem.Dead.Wt                  
                                Potato.Stem.Live.Wt                  
                               Potato.Tuber.Dead.Wt                  
                               Potato.Tuber.Live.Wt                  
                                Potato.Root.Dead.Wt                  
                                Potato.Root.Live.Wt                  
                    Potato.Summariser.AboveGround.N                  
                    Potato.Summariser.BelowGround.N                  
                          Potato.Summariser.Total.N                  
                      Potato.Summariser.TotalLive.N                  
                      Potato.Summariser.TotalDead.N                  
                                 Potato.Leaf.Dead.N                  
                                 Potato.Leaf.Live.N                  
                                 Potato.Stem.Dead.N                  
                                 Potato.Stem.Live.N                  
                                Potato.Tuber.Dead.N                  
                                Potato.Tuber.Live.N                  
                                 Potato.Root.Live.N                  
                                 Potato.Root.Dead.N                  
                             Potato.Leaf.Live.NConc                  
                             Potato.Leaf.Dead.NConc                  
                             Potato.Stem.Live.NConc                  
                             Potato.Stem.Dead.NConc                  
                            Potato.Tuber.Live.NConc                  
                            Potato.Tuber.Dead.NConc                  
                             Potato.Root.Live.NConc                  
                             Potato.Root.Dead.NConc                  
                            Potato.Root.WaterSupply                  
                            Potato.Root.WaterUptake                  
                          Potato.Leaf.Transpiration                  
                            Potato.Leaf.WaterDemand                  
                                  Potato.Root.Depth                  
                             Potato.Leaf.CoverGreen                  
                             Potato.Leaf.CoverTotal                  
                              Potato.Leaf.CoverDead                  
                                    Potato.Leaf.LAI                  
                                Potato.Leaf.LAIDead                  
                            Potato.Structure.Height                  
                                     Potato.Leaf.Fn                  
                                     Potato.Leaf.Fw                  
                Potato.Leaf.Photosynthesis.FT.Value                  
              Potato.Leaf.Photosynthesis.FVPD.Value                  
                  Potato.Structure.PlantTotalNodeNo                  
                     Potato.Structure.TotalStemPopn                  
               Potato.Leaf.PlantAppearedGreenLeafNo                  
                      Potato.Leaf.ExpandingCohortNo                  
                       Potato.Leaf.AppearedCohortNo                  
                           Potato.Leaf.DeadCohortNo                  
                    Potato.Structure.MainStemNodeNo                  
                      Potato.Leaf.SenescingCohortNo                  
             Potato.Structure.PrimaryBudTotalNodeNo                  
Potato.Leaf.LeafCohortParameters.MinimumNConc.Value                  
                     Potato.Stem.MinimumNConc.Value                  
                    Potato.Tuber.MinimumNConc.Value                  
                     Potato.Root.MinimumNConc.Value                  
Potato.Leaf.LeafCohortParameters.MaximumNConc.Value                  
                     Potato.Stem.MaximumNConc.Value                  
                    Potato.Tuber.MaximumNConc.Value                  
                     Potato.Root.MaximumNConc.Value                  
                      Potato.Stem.Live.StructuralWt                  
                   Potato.Stem.Live.NonStructuralWt                  
                           Potato.Leaf.SpecificArea                  
                       Potato.Leaf.ExpandedCohortNo                  
                              [Soil].SoilWater.SWmm                  
                                        [Soil].NO3N                  
        [ExtraVariables].Script.SoilNitrogenContent                  
                          Potato.Arbitrator.NDemand                  
                            [MicroClimate].net_radn                  
                                [MicroClimate].peta                  
                                [MicroClimate].petr                  
                       [ExtraVariables].Script.FomN                  
                       [ExtraVariables].Script.HumN                  
                      [ExtraVariables].Script.BiomN                  
                 [ExtraVariables].Script.DltNMinRes                  
                 [ExtraVariables].Script.DltNMinTot                  
                [PotatoHarvestRule].Script.FinalTag                  
                               Potato.Tuber.LiveFWt                  
                Potato.Tuber.DryMatterContent.Value                  

<br/>
PADDOCK.POTATOHARVESTRULE
-------------------------

        using System;
        using Models.Core;
        using Models.PMF;
        using System.Xml.Serialization;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;
               [Link] Summary Summary;
               [Description("HarvestDate Date")]
               public DateTime HarvestDate { get; set; }            
               [XmlIgnore] public string FinalTag { get; set;}
               [XmlIgnore] public bool Harvested {get; set;}
               [XmlIgnore] public bool ReadyForHarvest {get; set;}
               
               [EventSubscribe("Commencing")]
               private void OnSimulationCommencing(object sender, EventArgs e)
               {
               FinalTag = "";
               Harvested = false;
               ReadyForHarvest = false;
               }
               
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
               if (ReadyForHarvest == true)
                   {
                   Potato.Harvest();
                   ReadyForHarvest = false;
                   Harvested = true;
                   }
               FinalTag = "";    
               }
               
               [EventSubscribe("DoManagementCalculations")]
               private void OnDoManagementCalculations(object sender, EventArgs e)
               {
                if ((Clock.Today == HarvestDate)&&(Harvested == false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
               }
            }
        }
                
<br/>
PADDOCK.SETINTERGERCROPPARAMETER
--------------------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Plant Plant;          
        [Link] Zone zone;            
        [Description("Path for coefficient to be Overwritten")]
        public string OverRidePath { get; set; }
        [Description("Value for new coefficient Interger")]
        public int OverRideInterger { get; set; }
        
        [EventSubscribe("Sowing")]
        private void OnSowing(object sender, EventArgs e)
        {
            object ResetValue = OverRideInterger;
            zone.Set(OverRidePath, ResetValue);
        }
    }
}
       
<br/>
SIMULATION LOG:
---------------


2004-05-10 paddock.fertiliser
    115 kg/ha of UreaN added at depth 10 layer 1
    


2004-05-10 paddock.Potato
    A crop of Potato (cultivar = Nadine) was sown today at a population of 41.1522633744856 plants/m2 with 2.4 buds per plant at a row spacing of 150 and a depth of 170 mm
    


2004-05-10 paddock.Potato.Summariser
    Peeping
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


2004-06-07 paddock.Potato.Summariser
    Emergence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


2004-07-13 paddock.Potato.Summariser
    TuberInitiation
      LAI = 2.34 (m^2/m^2)
      Above Ground Biomass = 106.90 (g/m^2)
    
    


2004-07-17 paddock.fertiliser
    69 kg/ha of UreaN added at depth 10 layer 1
    


2004-08-26 paddock.fertiliser
    69 kg/ha of UreaN added at depth 10 layer 1
    


2004-09-05 paddock.Potato.Summariser
    FinalLeaf
      LAI = 2.33 (m^2/m^2)
      Above Ground Biomass = 126.23 (g/m^2)
    
    


2004-10-28 paddock.Potato.Summariser
    FullSenescence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 126.23 (g/m^2)
    
    


2004-11-10 paddock.Potato.Summariser
    FullSenescence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 126.23 (g/m^2)
    
    Maturity
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 126.23 (g/m^2)
    
    


2004-11-10 paddock.Potato
    A crop of Potato was harvested today, Yeahhh
    


############################################################################
.FUE_NINITROGEN368
------------------
Simulation name:   FUE_NINitrogen368

<br/>
WEATHER
-------
Weather file name:   Pukehohe.met

<br/>
CLOCK
-----
The start date of the simulation:   2004-05-10
  The end date of the simulation:   2004-12-31

<br/>
PADDOCK.SOIL
------------
    Record number:       0
 Latitude (WGS84):   0.000
Longitude (WGS84):   0.000

<br/>
PADDOCK.SOIL.ANALYSIS
---------------------
Depth (cm)  PH (1:5 water)
      0-10             6.6
     10-30             6.2
     30-60             5.7
     60-90             5.5
    90-120             5.5
   120-150             5.5

<br/>
PADDOCK.SOIL.INITIAL WATER
--------------------------
        Fraction full:          1.000
    Depth of wet soil:            NaN
Plant available water:   294.000 (mm)

<br/>
PADDOCK.SOIL.WATER
------------------
Depth (cm)  BD (g/cc)  Air dry (mm/mm)  LL15 (mm/mm)  DUL (mm/mm)  SAT (mm/mm)
      0-10       1.20             0.08          0.13         0.33         0.50
     10-30       1.20             0.08          0.13         0.33         0.50
     30-60       1.20             0.05          0.10         0.31         0.44
     60-90       1.20             0.04          0.08         0.27         0.46
    90-120       1.20             0.06          0.11         0.30         0.44
   120-150       1.20             0.06          0.11         0.30         0.44

<br/>
PADDOCK.SOIL.WATER.WHEATSOIL
----------------------------
wheat Depth (cm)  wheat LL (mm/mm)  wheat PAWC (mm)  wheat KL (mm/mm)  wheat XF (mm/mm)
            0-10              0.13             20.0              0.06               1.0
           10-30              0.13             40.0              0.06               1.0
           30-60               0.1             63.0              0.06               1.0
           60-90              0.08             57.0              0.06               1.0
          90-120              0.11             57.0              0.06               1.0
         120-150              0.11             57.0              0.06               1.0
                                              294.0                                    

<br/>
PADDOCK.SOIL.WATER.POTATO2SOIL
------------------------------
potato2 Depth (cm)  potato2 LL (mm/mm)  potato2 PAWC (mm)  potato2 KL (mm/mm)  potato2 XF (mm/mm)
              0-10                0.13               20.0                0.10                 1.0
             10-30                0.13               40.0                0.10                 1.0
             30-60                 0.1               63.0                0.07                 1.0
             60-90                0.15               36.0                0.05                 1.0
            90-120                 0.3                0.0                0.05                 0.0
           120-150                 0.3                0.0                0.05                 0.0
                                                    159.0                                        

<br/>
PADDOCK.SOIL.WATER.POTATOSOIL
-----------------------------
Potato Depth (cm)  Potato LL (mm/mm)  Potato PAWC (mm)  Potato KL (mm/mm)  Potato XF (mm/mm)
             0-10               0.13              20.0               0.10                1.0
            10-30               0.13              40.0               0.10                1.0
            30-60                0.1              63.0               0.07                1.0
            60-90               0.15              36.0               0.05                1.0
           90-120                0.3               0.0               0.05                0.0
          120-150                0.3               0.0               0.05                0.0
                                                 159.0                                      

<br/>
PADDOCK.SOIL.SOILORGANICMATTER
------------------------------
                  Root C:N ratio:     30.000
             Root Weight (kg/ha):   3000.000
                  Soil C:N ratio:     11.500
Erosion enrichment coefficient A:      7.400
Erosion enrichment coefficient B:      0.200

Depth (cm)  OC (Total %)  FBiom (0-1)  FInert (0-1)
      0-10          1.82        0.025           0.3
     10-30          1.47        0.025           0.4
     30-60          1.20        0.015          0.75
     60-90          1.03         0.01           0.9
    90-120          0.47         0.01          0.96
   120-150          0.47         0.01          0.96

<br/>
PADDOCK.SOIL.INITIAL NITROGEN
-----------------------------
Depth (cm)  NO3kgha  NH4kgha       SWmm
      0-10      6.0      0.1  999,999.0
     10-30      7.2      0.2  999,999.0
     30-60     28.8      0.4  999,999.0
     60-90     25.2      0.4  999,999.0
    90-120      5.0      0.4  999,999.0
   120-150      5.0      0.4  999,999.0

<br/>
PADDOCK.SURFACE ORGANIC MATTER
------------------------------
Surface organic matter pool name:             wheat
Surface organic matter pool type:             wheat
 Mass of surface residue (kg/ha):      2000 (kg/ha)
         Standing fraction (0-1):           0 (0-1)
     Carbon:Nitrogen ratio (g/g):          80 (g/g)
                  Carbon content:   800.000 (kg/ha)
                Nitrogen content:    10.000 (kg/ha)
              Phosphorus content:     0.000 (kg/ha)

<br/>
PADDOCK.MANAGER FOLDER.POTATOSOWINGRULE
---------------------------------------

        using System;
        using Models.Core;
        using Models.PMF;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;

               [Description("Spacing (mm) between plants within rows")]
               public double RowSpace { get; set; }
               [Description("Spacing (mm) between rows")]
               public double RowWidth { get; set; }
               [Description("Depth (mm) tubers are planted")]
               public double PlantingDepth { get; set; }
               [Description("Number of stems per seed tuber")]
               public double StemNumberPerSeedTuber { get; set; }
               [Description("Cultivar")]
               public string CultivarName { get; set; }
               [Description("Sowing Date")]
               public DateTime SowingDate { get; set; }

               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
                double PlantPopulation = 1/((RowWidth/1000)*(RowSpace/1000));

                if (Clock.Today.Date == SowingDate)
                    Potato.Sow(population:PlantPopulation, cultivar:CultivarName, depth:PlantingDepth, rowSpacing:150, budNumber:StemNumberPerSeedTuber);
                //Potato.Sow(... Contains the following arguements:
                //Population  double  Required  Seeds sowing/m2
                //Cultivar    string  Required  "NameOfCultivar"
                //Depth       double  Optional  Depth (mm) seed sown.   Default is 100mm 
                //MaxCover    double  Optional  Proportion (0-1) of the ground row crop will cover.   Default is 1.0
                //BudNumber   double  Optional  Number of mainstems per seed sown.  Default is 1.0
                //RowSpacing  double  Optional  Spaceing (mm) between drill rows when crop is sown.  Default is 150mm
                //CropClass   string  Optional  Crop class to instantiate when crop is sown.  Default is "Plant"
               }
            }
        }
                
<br/>
PADDOCK.EXTRAVARIABLES
----------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.Soils;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Clock Clock;
        [Link] Soils.Soil Soil;
        [Link] Models.SurfaceOM.SurfaceOrganicMatter SOM;
        [Link] Weather Met;   
        [Link] Fertiliser Fert;
        [Link] Irrigation Irrig;  
        [Link] Plant Potato;
        [Link] Zone zone;
                    
        [XmlIgnore] public bool InitialDay { get; set; }
        
        [XmlIgnore] public double AccumPlantN { get; set; }
        [XmlIgnore] public double AccumMineralisation { get; set; }
        [XmlIgnore] public double AccumDenit { get; set; }
        [XmlIgnore] public double AccumFert { get; set; }
        [XmlIgnore] public double AccumLeach { get; set; }
        [XmlIgnore] public double AccumDetach { get; set; }
        [XmlIgnore] public double DeltaSoilOMN { get; set; }
        [XmlIgnore] public double DeltaSurfaceOMN { get; set; }
        [XmlIgnore] public double DeltaSoilMineralN { get; set; }
        [XmlIgnore] public double SoilNitrogenContent { get; set; }
        
        [XmlIgnore] public double AccumEO { get; set; }
        [XmlIgnore] public double AccumEP { get; set; }
        [XmlIgnore] public double AccumES { get; set; }
        [XmlIgnore] public double AccumDrainage { get; set; }
        [XmlIgnore] public double AccumRunoff { get; set; }
        [XmlIgnore] public double AccumOutflowLat { get; set; }
        [XmlIgnore] public double AccumIrrigation { get; set; }
        [XmlIgnore] public double AccumRainfall { get; set; }
        [XmlIgnore] public double SoilWaterDeficit { get; set; }
        
        [XmlIgnore] public double AccumTtemerg { get; set; }
        
        [XmlIgnore] public double  InitialSoilOMN { get; set; }
        [XmlIgnore] public double  InitialSurfaceOMN { get; set; }
        [XmlIgnore] public double  InitialMineralN { get; set; }
        
        [XmlIgnore] public double SWC { get; set; }
        [XmlIgnore] public double DUL { get; set; }
        [XmlIgnore] public double OutFlowLat { get; set; }

        [XmlIgnore] public double FomN { get; set; }
        [XmlIgnore] public double BiomN { get; set; }
        [XmlIgnore] public double HumN { get; set; }
        [XmlIgnore] public double OrganicN { get; set; }
        [XmlIgnore] public double NO3N { get; set; }
        [XmlIgnore] public double NH4N { get; set; }
        [XmlIgnore] public double UreaN { get; set; }
        [XmlIgnore] public double MineralN { get; set; }
        [XmlIgnore] public double DltNMinRes { get; set; }
        [XmlIgnore] public double DltNMinTot { get; set; }
    
        [EventSubscribe("Commencing")]
        private void OnSimulationCommencing(object sender, EventArgs e)
        {
            InitialDay = true;
        }       
        
        [EventSubscribe("DoManagement")]
        private void OnDoManagement(object sender, EventArgs e)
        {
            //!!!!!! Nitrogen balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!
               FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            OrganicN = FomN + HumN + BiomN;
            NO3N = Utility.Math.Sum(Soil.NO3N);
            NH4N = Utility.Math.Sum(Soil.NH4N);
            UreaN = Utility.Math.Sum(Soil.SoilNitrogen.urea);
            MineralN = NO3N + NH4N + UreaN; 
            DltNMinRes = Utility.Math.Sum(Soil.SoilNitrogen.dlt_n_min_res);
            DltNMinTot = Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            int layers = Soil.Thickness.Length;
            if (InitialDay == true)
            {
                InitialSurfaceOMN = SOM.N;
                InitialSoilOMN = OrganicN;
                InitialMineralN = MineralN;
                InitialDay = false;
            }
            AccumFert += Fert.NitrogenApplied;
            DeltaSurfaceOMN = SOM.N - InitialSurfaceOMN;
            AccumLeach = AccumLeach - Soil.SoilWater.LeachNH4 - Soil.SoilWater.LeachNO3 - Soil.SoilWater.LeachUrea; //Fails
            AccumMineralisation += Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            AccumDenit -= Utility.Math.Sum(Soil.SoilNitrogen.Denitrification);
            AccumPlantN -= (double)zone.Get("Potato.Root.NUptake");
            DeltaSoilOMN = OrganicN - InitialSoilOMN;
            DeltaSoilMineralN = MineralN - InitialMineralN;
            SoilNitrogenContent = MineralN;
            
            //!!!!!! Water balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!

            AccumIrrigation += Irrig.IrrigationApplied;
            AccumRainfall += Met.Rain;
            AccumEP -= (double)zone.Get("Potato.Leaf.Transpiration");
            SoilWaterDeficit =  (SWC - DUL);
            double OutFlowLat = Utility.Math.Sum(Soil.SoilWater.outflow_lat);
            AccumOutflowLat -= OutFlowLat;
            
            //!!!!!! Thermal time calculation !!!!!!
            //!!!!!! ^^^^^^^^^^^^^^^^^^^^^^^^ !!!!!!
            if (Potato.Phenology.Stage >= 3)
            AccumTtemerg += Potato.Phenology.ThermalTime.Value;
        }
        
        [EventSubscribe("DoManagementCalculations")]
        private void OnDoManagementCalculations(object sender, EventArgs e)
        {
            FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            
            
            AccumEO -= Soil.SoilWater.Eo;
            AccumES -= Soil.SoilWater.Es; 
            AccumDrainage -= Soil.SoilWater.Drainage;
            AccumRunoff -= Soil.SoilWater.Runoff;
            SWC = Utility.Math.Sum(Soil.SoilWater.SWmm);
            DUL = Utility.Math.Sum(Soil.SoilWater.DULmm);
        }
    }
}
       
<br/>
PADDOCK.REPORT
--------------
                                   Output variables  Output frequency
                                      [Clock].Today  [Clock].DoReport
               [ExtraVariables].Script.AccumTtemerg                  
                  Potato.Phenology.CurrentPhaseName                  
                             Potato.Phenology.Stage                  
                [ExtraVariables].Script.AccumPlantN                  
        [ExtraVariables].Script.AccumMineralisation                  
                 [ExtraVariables].Script.AccumDenit                  
                  [ExtraVariables].Script.AccumFert                  
                 [ExtraVariables].Script.AccumLeach                  
                [ExtraVariables].Script.AccumDetach                  
               [ExtraVariables].Script.DeltaSoilOMN                  
            [ExtraVariables].Script.DeltaSurfaceOMN                  
          [ExtraVariables].Script.DeltaSoilMineralN                  
                          Potato.Root.NSupplyUptake                  
                                [Soil].SoilWater.Eo                  
                                [Soil].SoilWater.Es                  
                        [ExtraVariables].Script.SWC                  
                        [ExtraVariables].Script.DUL                  
                          [Soil].SoilWater.Drainage                  
                            [Soil].SoilWater.Runoff                  
                 [ExtraVariables].Script.OutFlowLat                  
                              [Soil].SoilWater.pond                  
                    [ExtraVariables].Script.AccumEO                  
                    [ExtraVariables].Script.AccumEP                  
                    [ExtraVariables].Script.AccumES                  
              [ExtraVariables].Script.AccumDrainage                  
                [ExtraVariables].Script.AccumRunoff                  
              [ExtraVariables].Script.AccumRainfall                  
            [ExtraVariables].Script.AccumIrrigation                  
            [ExtraVariables].Script.AccumOutflowLat                  
           [ExtraVariables].Script.SoilWaterDeficit                  
                   Potato.Summariser.AboveGround.Wt                  
                   Potato.Summariser.BelowGround.Wt                  
                         Potato.Summariser.Total.Wt                  
                     Potato.Summariser.TotalDead.Wt                  
                     Potato.Summariser.TotalLive.Wt                  
                                Potato.Leaf.Dead.Wt                  
                                Potato.Leaf.Live.Wt                  
                                Potato.Stem.Dead.Wt                  
                                Potato.Stem.Live.Wt                  
                               Potato.Tuber.Dead.Wt                  
                               Potato.Tuber.Live.Wt                  
                                Potato.Root.Dead.Wt                  
                                Potato.Root.Live.Wt                  
                    Potato.Summariser.AboveGround.N                  
                    Potato.Summariser.BelowGround.N                  
                          Potato.Summariser.Total.N                  
                      Potato.Summariser.TotalLive.N                  
                      Potato.Summariser.TotalDead.N                  
                                 Potato.Leaf.Dead.N                  
                                 Potato.Leaf.Live.N                  
                                 Potato.Stem.Dead.N                  
                                 Potato.Stem.Live.N                  
                                Potato.Tuber.Dead.N                  
                                Potato.Tuber.Live.N                  
                                 Potato.Root.Live.N                  
                                 Potato.Root.Dead.N                  
                             Potato.Leaf.Live.NConc                  
                             Potato.Leaf.Dead.NConc                  
                             Potato.Stem.Live.NConc                  
                             Potato.Stem.Dead.NConc                  
                            Potato.Tuber.Live.NConc                  
                            Potato.Tuber.Dead.NConc                  
                             Potato.Root.Live.NConc                  
                             Potato.Root.Dead.NConc                  
                            Potato.Root.WaterSupply                  
                            Potato.Root.WaterUptake                  
                          Potato.Leaf.Transpiration                  
                            Potato.Leaf.WaterDemand                  
                                  Potato.Root.Depth                  
                             Potato.Leaf.CoverGreen                  
                             Potato.Leaf.CoverTotal                  
                              Potato.Leaf.CoverDead                  
                                    Potato.Leaf.LAI                  
                                Potato.Leaf.LAIDead                  
                            Potato.Structure.Height                  
                                     Potato.Leaf.Fn                  
                                     Potato.Leaf.Fw                  
                Potato.Leaf.Photosynthesis.FT.Value                  
              Potato.Leaf.Photosynthesis.FVPD.Value                  
                  Potato.Structure.PlantTotalNodeNo                  
                     Potato.Structure.TotalStemPopn                  
               Potato.Leaf.PlantAppearedGreenLeafNo                  
                      Potato.Leaf.ExpandingCohortNo                  
                       Potato.Leaf.AppearedCohortNo                  
                           Potato.Leaf.DeadCohortNo                  
                    Potato.Structure.MainStemNodeNo                  
                      Potato.Leaf.SenescingCohortNo                  
             Potato.Structure.PrimaryBudTotalNodeNo                  
Potato.Leaf.LeafCohortParameters.MinimumNConc.Value                  
                     Potato.Stem.MinimumNConc.Value                  
                    Potato.Tuber.MinimumNConc.Value                  
                     Potato.Root.MinimumNConc.Value                  
Potato.Leaf.LeafCohortParameters.MaximumNConc.Value                  
                     Potato.Stem.MaximumNConc.Value                  
                    Potato.Tuber.MaximumNConc.Value                  
                     Potato.Root.MaximumNConc.Value                  
                      Potato.Stem.Live.StructuralWt                  
                   Potato.Stem.Live.NonStructuralWt                  
                           Potato.Leaf.SpecificArea                  
                       Potato.Leaf.ExpandedCohortNo                  
                              [Soil].SoilWater.SWmm                  
                                        [Soil].NO3N                  
        [ExtraVariables].Script.SoilNitrogenContent                  
                          Potato.Arbitrator.NDemand                  
                            [MicroClimate].net_radn                  
                                [MicroClimate].peta                  
                                [MicroClimate].petr                  
                       [ExtraVariables].Script.FomN                  
                       [ExtraVariables].Script.HumN                  
                      [ExtraVariables].Script.BiomN                  
                 [ExtraVariables].Script.DltNMinRes                  
                 [ExtraVariables].Script.DltNMinTot                  
                [PotatoHarvestRule].Script.FinalTag                  
                               Potato.Tuber.LiveFWt                  
                Potato.Tuber.DryMatterContent.Value                  

<br/>
PADDOCK.POTATOHARVESTRULE
-------------------------

        using System;
        using Models.Core;
        using Models.PMF;
        using System.Xml.Serialization;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;
               [Link] Summary Summary;
               [Description("HarvestDate Date")]
               public DateTime HarvestDate { get; set; }            
               [XmlIgnore] public string FinalTag { get; set;}
               [XmlIgnore] public bool Harvested {get; set;}
               [XmlIgnore] public bool ReadyForHarvest {get; set;}
               
               [EventSubscribe("Commencing")]
               private void OnSimulationCommencing(object sender, EventArgs e)
               {
               FinalTag = "";
               Harvested = false;
               ReadyForHarvest = false;
               }
               
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
               if (ReadyForHarvest == true)
                   {
                   Potato.Harvest();
                   ReadyForHarvest = false;
                   Harvested = true;
                   }
               FinalTag = "";    
               }
               
               [EventSubscribe("DoManagementCalculations")]
               private void OnDoManagementCalculations(object sender, EventArgs e)
               {
                if ((Clock.Today == HarvestDate)&&(Harvested == false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
               }
            }
        }
                
<br/>
PADDOCK.SETINTERGERCROPPARAMETER
--------------------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Plant Plant;          
        [Link] Zone zone;            
        [Description("Path for coefficient to be Overwritten")]
        public string OverRidePath { get; set; }
        [Description("Value for new coefficient Interger")]
        public int OverRideInterger { get; set; }
        
        [EventSubscribe("Sowing")]
        private void OnSowing(object sender, EventArgs e)
        {
            object ResetValue = OverRideInterger;
            zone.Set(OverRidePath, ResetValue);
        }
    }
}
       
<br/>
SIMULATION LOG:
---------------


2004-05-10 paddock.fertiliser
    230 kg/ha of UreaN added at depth 10 layer 1
    


2004-05-10 paddock.Potato
    A crop of Potato (cultivar = Nadine) was sown today at a population of 41.1522633744856 plants/m2 with 2.4 buds per plant at a row spacing of 150 and a depth of 170 mm
    


2004-05-10 paddock.Potato.Summariser
    Peeping
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


2004-06-07 paddock.Potato.Summariser
    Emergence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


2004-07-13 paddock.Potato.Summariser
    TuberInitiation
      LAI = 2.34 (m^2/m^2)
      Above Ground Biomass = 106.90 (g/m^2)
    
    


2004-07-17 paddock.fertiliser
    69 kg/ha of UreaN added at depth 10 layer 1
    


2004-08-26 paddock.fertiliser
    69 kg/ha of UreaN added at depth 10 layer 1
    


2004-09-05 paddock.Potato.Summariser
    FinalLeaf
      LAI = 2.33 (m^2/m^2)
      Above Ground Biomass = 126.23 (g/m^2)
    
    


2004-10-28 paddock.Potato.Summariser
    FullSenescence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 126.23 (g/m^2)
    
    


2004-11-10 paddock.Potato.Summariser
    FullSenescence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 126.23 (g/m^2)
    
    Maturity
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 126.23 (g/m^2)
    
    


2004-11-10 paddock.Potato
    A crop of Potato was harvested today, Yeahhh
    


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
.FUEFERTILISER150EARLY
----------------------
Simulation name:   FUEFertiliser150early

<br/>
WEATHER
-------
Weather file name:   lincoln.met

<br/>
CLOCK
-----
The start date of the simulation:   1999-10-19
  The end date of the simulation:   2000-06-30

<br/>
PADDOCK.SOIL
------------
    Record number:       0
 Latitude (WGS84):   0.000
Longitude (WGS84):   0.000

<br/>
PADDOCK.SOIL.ANALYSIS
---------------------
Depth (cm)  PH (1:5 water)
      0-10             6.6
     10-30             6.2
     30-60             5.7
     60-90             5.5
    90-120             5.5
   120-150             5.5

<br/>
PADDOCK.SOIL.INITIAL WATER
--------------------------
        Fraction full:          1.000
    Depth of wet soil:            NaN
Plant available water:   237.000 (mm)

<br/>
PADDOCK.SOIL.WATER
------------------
Depth (cm)  BD (g/cc)  Air dry (mm/mm)  LL15 (mm/mm)  DUL (mm/mm)  SAT (mm/mm)
      0-10       1.20             0.08          0.16         0.33         0.50
     10-30       1.20             0.16          0.16         0.33         0.50
     30-60       1.20             0.14          0.14         0.31         0.44
     60-90       1.20             0.11          0.11         0.27         0.46
    90-120       1.20             0.16          0.16         0.30         0.44
   120-150       1.20             0.15          0.15         0.30         0.44

<br/>
PADDOCK.SOIL.WATER.WHEATSOIL
----------------------------
wheat Depth (cm)  wheat LL (mm/mm)  wheat PAWC (mm)  wheat KL (mm/mm)  wheat XF (mm/mm)
            0-10              0.13             20.0              0.06               1.0
           10-30              0.13             40.0              0.06               1.0
           30-60               0.1             63.0              0.06               1.0
           60-90              0.08             57.0              0.06               1.0
          90-120              0.11             57.0              0.06               1.0
         120-150              0.11             57.0              0.06               1.0
                                              294.0                                    

<br/>
PADDOCK.SOIL.WATER.POTATOSOIL
-----------------------------
Potato Depth (cm)  Potato LL (mm/mm)  Potato PAWC (mm)  Potato KL (mm/mm)  Potato XF (mm/mm)
             0-10               0.13              20.0               0.10                1.0
            10-30               0.13              40.0               0.06                1.0
            30-60                0.1              63.0               0.04                1.0
            60-90               0.15              36.0               0.01                1.0
           90-120                0.3               0.0               0.00                0.0
          120-150                0.3               0.0               0.00                0.0
                                                 159.0                                      

<br/>
PADDOCK.SOIL.SOILORGANICMATTER
------------------------------
                  Root C:N ratio:     30.000
             Root Weight (kg/ha):   3000.000
                  Soil C:N ratio:     11.500
Erosion enrichment coefficient A:      7.400
Erosion enrichment coefficient B:      0.200

Depth (cm)  OC (Total %)  FBiom (0-1)  FInert (0-1)
      0-10          4.50        0.025           0.3
     10-30          3.50        0.025           0.3
     30-60          1.20        0.015          0.75
     60-90          1.03         0.01           0.9
    90-120          0.47         0.01          0.96
   120-150          0.47         0.01          0.96

<br/>
PADDOCK.SOIL.INITIAL NITROGEN
-----------------------------
Depth (cm)  NO3kgha  NH4kgha       SWmm
      0-10     15.0      0.1  999,999.0
     10-20     15.0      0.2  999,999.0
     20-40     41.0      0.4  999,999.0
     40-60     10.0      0.4  999,999.0
     60-80     40.0      0.4  999,999.0
    80-150      5.0      0.4  999,999.0

<br/>
PADDOCK.SURFACE ORGANIC MATTER
------------------------------
Surface organic matter pool name:           wheat
Surface organic matter pool type:           wheat
 Mass of surface residue (kg/ha):       0 (kg/ha)
         Standing fraction (0-1):         0 (0-1)
     Carbon:Nitrogen ratio (g/g):        60 (g/g)
                  Carbon content:   0.000 (kg/ha)
                Nitrogen content:   0.000 (kg/ha)
              Phosphorus content:   0.000 (kg/ha)

<br/>
PADDOCK.MANAGER FOLDER.POTATOSOWINGRULE
---------------------------------------

        using System;
        using Models.Core;
        using Models.PMF;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;

               [Description("Spacing (mm) between plants within rows")]
               public double RowSpace { get; set; }
               [Description("Spacing (mm) between rows")]
               public double RowWidth { get; set; }
               [Description("Depth (mm) tubers are planted")]
               public double PlantingDepth { get; set; }
               [Description("Number of stems per seed tuber")]
               public double StemNumberPerSeedTuber { get; set; }
               [Display(DisplayType = DisplayAttribute.DisplayTypeEnum.CultivarName)]
               [Description("Cultivar")]
               public string CultivarName { get; set; }
               [Description("Sowing Date")]
               public DateTime SowingDate { get; set; }

               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
                double PlantPopulation = 1/((RowWidth/1000)*(RowSpace/1000));

                if (Clock.Today.Date == SowingDate)
                    Potato.Sow(population:PlantPopulation, cultivar:CultivarName, depth:PlantingDepth, rowSpacing:150, budNumber:StemNumberPerSeedTuber);
                //Potato.Sow(... Contains the following arguements:
                //Population  double  Required  Seeds sowing/m2
                //Cultivar    string  Required  "NameOfCultivar"
                //Depth       double  Optional  Depth (mm) seed sown.   Default is 100mm 
                //MaxCover    double  Optional  Proportion (0-1) of the ground row crop will cover.   Default is 1.0
                //BudNumber   double  Optional  Number of mainstems per seed sown.  Default is 1.0
                //RowSpacing  double  Optional  Spaceing (mm) between drill rows when crop is sown.  Default is 150mm
                //CropClass   string  Optional  Crop class to instantiate when crop is sown.  Default is "Plant"
               }
            }
        }
                
<br/>
PADDOCK.EXTRAVARIABLES
----------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.Soils;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Clock Clock;
        [Link] Soils.Soil Soil;
        [Link] Models.SurfaceOM.SurfaceOrganicMatter SOM;
        [Link] Weather Met;   
        [Link] Fertiliser Fert;
        [Link] Irrigation Irrig;  
        [Link] Plant Potato;          
        [Link] Zone zone;
        
        [XmlIgnore] public bool InitialDay { get; set; }
        
        [XmlIgnore] public double AccumPlantN { get; set; }
        [XmlIgnore] public double AccumMineralisation { get; set; }
        [XmlIgnore] public double AccumDenit { get; set; }
        [XmlIgnore] public double AccumFert { get; set; }
        [XmlIgnore] public double AccumLeach { get; set; }
        [XmlIgnore] public double AccumDetach { get; set; }
        [XmlIgnore] public double DeltaSoilOMN { get; set; }
        [XmlIgnore] public double DeltaSurfaceOMN { get; set; }
        [XmlIgnore] public double DeltaSoilMineralN { get; set; }
        [XmlIgnore] public double SoilNitrogenContent { get; set; }
        
        [XmlIgnore] public double AccumEO { get; set; }
        [XmlIgnore] public double AccumEP { get; set; }
        [XmlIgnore] public double AccumES { get; set; }
        [XmlIgnore] public double AccumDrainage { get; set; }
        [XmlIgnore] public double AccumRunoff { get; set; }
        [XmlIgnore] public double AccumOutflowLat { get; set; }
        [XmlIgnore] public double AccumIrrigation { get; set; }
        [XmlIgnore] public double AccumRainfall { get; set; }
        [XmlIgnore] public double SoilWaterDeficit { get; set; }
        
        [XmlIgnore] public double AccumTtemerg { get; set; }
        
        [XmlIgnore] public double  InitialSoilOMN { get; set; }
        [XmlIgnore] public double  InitialSurfaceOMN { get; set; }
        [XmlIgnore] public double  InitialMineralN { get; set; }
        
        [XmlIgnore] public double SWC { get; set; }
        [XmlIgnore] public double DUL { get; set; }
        [XmlIgnore] public double OutFlowLat { get; set; }

        [XmlIgnore] public double FomN { get; set; }
        [XmlIgnore] public double BiomN { get; set; }
        [XmlIgnore] public double HumN { get; set; }
        [XmlIgnore] public double OrganicN { get; set; }
        [XmlIgnore] public double NO3N { get; set; }
        [XmlIgnore] public double NH4N { get; set; }
        [XmlIgnore] public double UreaN { get; set; }
        [XmlIgnore] public double MineralN { get; set; }
        [XmlIgnore] public double DltNMinRes { get; set; }
        [XmlIgnore] public double DltNMinTot { get; set; }
        
        [EventSubscribe("Commencing")]
        private void OnSimulationCommencing(object sender, EventArgs e)
        {
            InitialDay = true;
        }       
        
        [EventSubscribe("DoManagement")]
        private void OnDoManagement(object sender, EventArgs e)
        {
            //!!!!!! Nitrogen balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!
               FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            OrganicN = FomN + HumN + BiomN;
            NO3N = Utility.Math.Sum(Soil.NO3N);
            NH4N = Utility.Math.Sum(Soil.NH4N);
            UreaN = Utility.Math.Sum(Soil.SoilNitrogen.urea);
            MineralN = NO3N + NH4N + UreaN; 
            DltNMinRes = Utility.Math.Sum(Soil.SoilNitrogen.dlt_n_min_res);
            DltNMinTot = Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            int layers = Soil.Thickness.Length;
            if (InitialDay == true)
            {
                InitialSurfaceOMN = SOM.N;
                InitialSoilOMN = OrganicN;
                InitialMineralN = MineralN;
                InitialDay = false;
            }
            AccumFert += Fert.NitrogenApplied;
            DeltaSurfaceOMN = SOM.N - InitialSurfaceOMN;
            AccumLeach = AccumLeach - Soil.SoilWater.LeachNH4 - Soil.SoilWater.LeachNO3 - Soil.SoilWater.LeachUrea; //Fails
            AccumMineralisation += Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            AccumDenit -= Utility.Math.Sum(Soil.SoilNitrogen.Denitrification);
            AccumPlantN -= (double)zone.Get("Potato.Root.NUptake");
            DeltaSoilOMN = OrganicN - InitialSoilOMN;
            DeltaSoilMineralN = MineralN - InitialMineralN;
            SoilNitrogenContent = MineralN;
            
            //!!!!!! Water balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!

            AccumIrrigation += Irrig.IrrigationApplied;
            AccumRainfall += Met.Rain;
            AccumEP -= (double)zone.Get("Potato.Leaf.Transpiration");
            SoilWaterDeficit =  (SWC - DUL);
            double OutFlowLat = Utility.Math.Sum(Soil.SoilWater.outflow_lat);
            AccumOutflowLat -= OutFlowLat;
            
            //!!!!!! Thermal time calculation !!!!!!
            //!!!!!! ^^^^^^^^^^^^^^^^^^^^^^^^ !!!!!!
            if (Potato.Phenology.Stage >= 3)
            AccumTtemerg += Potato.Phenology.ThermalTime.Value;
        }
        
        [EventSubscribe("DoManagementCalculations")]
        private void OnDoManagementCalculations(object sender, EventArgs e)
        {
            FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            
            
            AccumEO -= Soil.SoilWater.Eo;
            AccumES -= Soil.SoilWater.Es; 
            AccumDrainage -= Soil.SoilWater.Drainage;
            AccumRunoff -= Soil.SoilWater.Runoff;
            SWC = Utility.Math.Sum(Soil.SoilWater.SWmm);
            DUL = Utility.Math.Sum(Soil.SoilWater.DULmm);

        }
    }
}
       
<br/>
PADDOCK.REPORT
--------------
                                   Output variables  Output frequency
                                      [Clock].Today  [Clock].DoReport
               [ExtraVariables].Script.AccumTtemerg                  
                  Potato.Phenology.CurrentPhaseName                  
                             Potato.Phenology.Stage                  
                [ExtraVariables].Script.AccumPlantN                  
        [ExtraVariables].Script.AccumMineralisation                  
                 [ExtraVariables].Script.AccumDenit                  
                  [ExtraVariables].Script.AccumFert                  
                 [ExtraVariables].Script.AccumLeach                  
                [ExtraVariables].Script.AccumDetach                  
               [ExtraVariables].Script.DeltaSoilOMN                  
            [ExtraVariables].Script.DeltaSurfaceOMN                  
          [ExtraVariables].Script.DeltaSoilMineralN                  
                          Potato.Root.NSupplyUptake                  
                                [Soil].SoilWater.Eo                  
                                [Soil].SoilWater.Es                  
                        [ExtraVariables].Script.SWC                  
                        [ExtraVariables].Script.DUL                  
                          [Soil].SoilWater.Drainage                  
                            [Soil].SoilWater.Runoff                  
                 [ExtraVariables].Script.OutFlowLat                  
                              [Soil].SoilWater.pond                  
                    [ExtraVariables].Script.AccumEO                  
                    [ExtraVariables].Script.AccumEP                  
                    [ExtraVariables].Script.AccumES                  
              [ExtraVariables].Script.AccumDrainage                  
                [ExtraVariables].Script.AccumRunoff                  
              [ExtraVariables].Script.AccumRainfall                  
            [ExtraVariables].Script.AccumIrrigation                  
            [ExtraVariables].Script.AccumOutflowLat                  
           [ExtraVariables].Script.SoilWaterDeficit                  
                   Potato.Summariser.AboveGround.Wt                  
                   Potato.Summariser.BelowGround.Wt                  
                         Potato.Summariser.Total.Wt                  
                     Potato.Summariser.TotalDead.Wt                  
                     Potato.Summariser.TotalLive.Wt                  
                                Potato.Leaf.Dead.Wt                  
                                Potato.Leaf.Live.Wt                  
                                Potato.Stem.Dead.Wt                  
                                Potato.Stem.Live.Wt                  
                               Potato.Tuber.Dead.Wt                  
                               Potato.Tuber.Live.Wt                  
                                Potato.Root.Dead.Wt                  
                                Potato.Root.Live.Wt                  
                    Potato.Summariser.AboveGround.N                  
                    Potato.Summariser.BelowGround.N                  
                          Potato.Summariser.Total.N                  
                      Potato.Summariser.TotalLive.N                  
                      Potato.Summariser.TotalDead.N                  
                                 Potato.Leaf.Dead.N                  
                                 Potato.Leaf.Live.N                  
                                 Potato.Stem.Dead.N                  
                                 Potato.Stem.Live.N                  
                                Potato.Tuber.Dead.N                  
                                Potato.Tuber.Live.N                  
                                 Potato.Root.Live.N                  
                                 Potato.Root.Dead.N                  
                             Potato.Leaf.Live.NConc                  
                             Potato.Leaf.Dead.NConc                  
                             Potato.Stem.Live.NConc                  
                             Potato.Stem.Dead.NConc                  
                            Potato.Tuber.Live.NConc                  
                            Potato.Tuber.Dead.NConc                  
                             Potato.Root.Live.NConc                  
                             Potato.Root.Dead.NConc                  
                            Potato.Root.WaterSupply                  
                            Potato.Root.WaterUptake                  
                          Potato.Leaf.Transpiration                  
                            Potato.Leaf.WaterDemand                  
                                  Potato.Root.Depth                  
                             Potato.Leaf.CoverGreen                  
                             Potato.Leaf.CoverTotal                  
                              Potato.Leaf.CoverDead                  
                                    Potato.Leaf.LAI                  
                                Potato.Leaf.LAIDead                  
                            Potato.Structure.Height                  
                                     Potato.Leaf.Fn                  
                                     Potato.Leaf.Fw                  
                Potato.Leaf.Photosynthesis.FT.Value                  
              Potato.Leaf.Photosynthesis.FVPD.Value                  
                  Potato.Structure.PlantTotalNodeNo                  
                     Potato.Structure.TotalStemPopn                  
               Potato.Leaf.PlantAppearedGreenLeafNo                  
                      Potato.Leaf.ExpandingCohortNo                  
                       Potato.Leaf.AppearedCohortNo                  
                           Potato.Leaf.DeadCohortNo                  
                    Potato.Structure.MainStemNodeNo                  
                      Potato.Leaf.SenescingCohortNo                  
             Potato.Structure.PrimaryBudTotalNodeNo                  
Potato.Leaf.LeafCohortParameters.MinimumNConc.Value                  
                     Potato.Stem.MinimumNConc.Value                  
                    Potato.Tuber.MinimumNConc.Value                  
                     Potato.Root.MinimumNConc.Value                  
Potato.Leaf.LeafCohortParameters.MaximumNConc.Value                  
                     Potato.Stem.MaximumNConc.Value                  
                    Potato.Tuber.MaximumNConc.Value                  
                     Potato.Root.MaximumNConc.Value                  
                      Potato.Stem.Live.StructuralWt                  
                   Potato.Stem.Live.NonStructuralWt                  
                           Potato.Leaf.SpecificArea                  
                       Potato.Leaf.ExpandedCohortNo                  
                              [Soil].SoilWater.SWmm                  
                                        [Soil].NO3N                  
        [ExtraVariables].Script.SoilNitrogenContent                  
                          Potato.Arbitrator.NDemand                  
                            [MicroClimate].net_radn                  
                                [MicroClimate].peta                  
                                [MicroClimate].petr                  
                       [ExtraVariables].Script.FomN                  
                       [ExtraVariables].Script.HumN                  
                      [ExtraVariables].Script.BiomN                  
                 [ExtraVariables].Script.DltNMinRes                  
                 [ExtraVariables].Script.DltNMinTot                  
                [PotatoHarvestRule].Script.FinalTag                  
                               Potato.Tuber.LiveFWt                  
                Potato.Tuber.DryMatterContent.Value                  

<br/>
PADDOCK.SETINTERGERCROPPARAMETER
--------------------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Plant Plant;          
        [Link] Zone zone;            
                    
        [Description("Path for coefficient to be Overwritten")]
        public string OverRidePath { get; set; }
        [Description("Value for new coefficient Interger")]
        public int OverRideInterger { get; set; }
        
        [EventSubscribe("Sowing")]
        private void OnSowing(object sender, EventArgs e)
        {
            object ResetValue = OverRideInterger;
            zone.Set(OverRidePath, ResetValue);
        }
    }
}
       
<br/>
PADDOCK.POTATOHARVESTRULE
-------------------------

        using System;
        using Models.Core;
        using Models.PMF;
        using System.Xml.Serialization;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;
               [Link] Summary Summary;
               [Description("HarvestDate Date")]
               public DateTime HarvestDate { get; set; }            
               [XmlIgnore] public string FinalTag { get; set;}
               [XmlIgnore] public bool Harvested {get; set;}
               [XmlIgnore] public bool ReadyForHarvest {get; set;}
               
               [EventSubscribe("Commencing")]
               private void OnSimulationCommencing(object sender, EventArgs e)
               {
               FinalTag = "";
               Harvested = false;
               ReadyForHarvest = false;
               }
               
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
               if (ReadyForHarvest == true)
                   {
                   Potato.Harvest();
                   ReadyForHarvest = false;
                   Harvested = true;
                   }
               FinalTag = "";    
               }
               
               [EventSubscribe("DoManagementCalculations")]
               private void OnDoManagementCalculations(object sender, EventArgs e)
               {
                if ((Clock.Today == HarvestDate)&&(Harvested == false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
                if((Potato.Phenology.Stage>=7)&&(Harvested==false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
               }
            }
        }
                
<br/>
SIMULATION LOG:
---------------


1999-10-19 paddock.Fertiliser
    150 kg/ha of UreaN added at depth 10 layer 1
    


1999-10-21 paddock.Potato
    A crop of Potato (cultivar = RussetBurbank) was sown today at a population of 4.57875457875458 plants/m2 with 5 buds per plant at a row spacing of 150 and a depth of 150 mm
    


1999-10-21 paddock.Potato.Summariser
    Peeping
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


1999-11-12 paddock.Potato.Summariser
    Emergence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


1999-12-09 paddock.Irrigation
    55.0 mm of water added at depth 0
    


1999-12-11 paddock.Potato.Summariser
    TuberInitiation
      LAI = 2.46 (m^2/m^2)
      Above Ground Biomass = 153.22 (g/m^2)
    
    


1999-12-23 paddock.Irrigation
    25.0 mm of water added at depth 0
    


1999-12-30 paddock.Irrigation
    25.0 mm of water added at depth 0
    


2000-01-21 paddock.Irrigation
    38.0 mm of water added at depth 0
    


2000-02-10 paddock.Irrigation
    50.0 mm of water added at depth 0
    


2000-02-16 paddock.Irrigation
    25.0 mm of water added at depth 0
    


2000-03-01 paddock.Irrigation
    38.0 mm of water added at depth 0
    


2000-03-08 paddock.Potato.Summariser
    FinalLeaf
      LAI = 0.42 (m^2/m^2)
      Above Ground Biomass = 357.96 (g/m^2)
    
    


2000-03-31 paddock.Potato.Summariser
    FullSenescence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 357.96 (g/m^2)
    
    


2000-04-04 paddock.Potato.Summariser
    FullSenescence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 357.96 (g/m^2)
    
    Maturity
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 357.96 (g/m^2)
    
    


2000-04-04 paddock.Potato
    A crop of Potato was harvested today, Yeahhh
    


############################################################################
.FUEFERTILISER275SPLIT
----------------------
Simulation name:   FUEFertiliser275split

<br/>
WEATHER
-------
Weather file name:   lincoln.met

<br/>
CLOCK
-----
The start date of the simulation:   1999-10-19
  The end date of the simulation:   2000-06-30

<br/>
PADDOCK.SOIL
------------
    Record number:       0
 Latitude (WGS84):   0.000
Longitude (WGS84):   0.000

<br/>
PADDOCK.SOIL.ANALYSIS
---------------------
Depth (cm)  PH (1:5 water)
      0-10             6.6
     10-30             6.2
     30-60             5.7
     60-90             5.5
    90-120             5.5
   120-150             5.5

<br/>
PADDOCK.SOIL.INITIAL WATER
--------------------------
        Fraction full:          1.000
    Depth of wet soil:            NaN
Plant available water:   237.000 (mm)

<br/>
PADDOCK.SOIL.WATER
------------------
Depth (cm)  BD (g/cc)  Air dry (mm/mm)  LL15 (mm/mm)  DUL (mm/mm)  SAT (mm/mm)
      0-10       1.20             0.08          0.16         0.33         0.50
     10-30       1.20             0.16          0.16         0.33         0.50
     30-60       1.20             0.14          0.14         0.31         0.44
     60-90       1.20             0.11          0.11         0.27         0.46
    90-120       1.20             0.16          0.16         0.30         0.44
   120-150       1.20             0.15          0.15         0.30         0.44

<br/>
PADDOCK.SOIL.WATER.WHEATSOIL
----------------------------
wheat Depth (cm)  wheat LL (mm/mm)  wheat PAWC (mm)  wheat KL (mm/mm)  wheat XF (mm/mm)
            0-10              0.13             20.0              0.06               1.0
           10-30              0.13             40.0              0.06               1.0
           30-60               0.1             63.0              0.06               1.0
           60-90              0.08             57.0              0.06               1.0
          90-120              0.11             57.0              0.06               1.0
         120-150              0.11             57.0              0.06               1.0
                                              294.0                                    

<br/>
PADDOCK.SOIL.WATER.POTATOSOIL
-----------------------------
Potato Depth (cm)  Potato LL (mm/mm)  Potato PAWC (mm)  Potato KL (mm/mm)  Potato XF (mm/mm)
             0-10               0.13              20.0               0.10                1.0
            10-30               0.13              40.0               0.06                1.0
            30-60                0.1              63.0               0.04                1.0
            60-90               0.15              36.0               0.01                1.0
           90-120                0.3               0.0               0.00                0.0
          120-150                0.3               0.0               0.00                0.0
                                                 159.0                                      

<br/>
PADDOCK.SOIL.SOILORGANICMATTER
------------------------------
                  Root C:N ratio:     30.000
             Root Weight (kg/ha):   3000.000
                  Soil C:N ratio:     11.500
Erosion enrichment coefficient A:      7.400
Erosion enrichment coefficient B:      0.200

Depth (cm)  OC (Total %)  FBiom (0-1)  FInert (0-1)
      0-10          4.50        0.025           0.3
     10-30          3.50        0.025           0.3
     30-60          1.20        0.015          0.75
     60-90          1.03         0.01           0.9
    90-120          0.47         0.01          0.96
   120-150          0.47         0.01          0.96

<br/>
PADDOCK.SOIL.INITIAL NITROGEN
-----------------------------
Depth (cm)  NO3kgha  NH4kgha       SWmm
      0-10     15.0      0.1  999,999.0
     10-20     15.0      0.2  999,999.0
     20-40     41.0      0.4  999,999.0
     40-60     10.0      0.4  999,999.0
     60-80     40.0      0.4  999,999.0
    80-150      5.0      0.4  999,999.0

<br/>
PADDOCK.SURFACE ORGANIC MATTER
------------------------------
Surface organic matter pool name:           wheat
Surface organic matter pool type:           wheat
 Mass of surface residue (kg/ha):       0 (kg/ha)
         Standing fraction (0-1):         0 (0-1)
     Carbon:Nitrogen ratio (g/g):        60 (g/g)
                  Carbon content:   0.000 (kg/ha)
                Nitrogen content:   0.000 (kg/ha)
              Phosphorus content:   0.000 (kg/ha)

<br/>
PADDOCK.MANAGER FOLDER.POTATOSOWINGRULE
---------------------------------------

        using System;
        using Models.Core;
        using Models.PMF;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;

               [Description("Spacing (mm) between plants within rows")]
               public double RowSpace { get; set; }
               [Description("Spacing (mm) between rows")]
               public double RowWidth { get; set; }
               [Description("Depth (mm) tubers are planted")]
               public double PlantingDepth { get; set; }
               [Description("Number of stems per seed tuber")]
               public double StemNumberPerSeedTuber { get; set; }
               [Display(DisplayType = DisplayAttribute.DisplayTypeEnum.CultivarName)]
               [Description("Cultivar")]
               public string CultivarName { get; set; }
               [Description("Sowing Date")]
               public DateTime SowingDate { get; set; }

               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
                double PlantPopulation = 1/((RowWidth/1000)*(RowSpace/1000));

                if (Clock.Today.Date == SowingDate)
                    Potato.Sow(population:PlantPopulation, cultivar:CultivarName, depth:PlantingDepth, rowSpacing:150, budNumber:StemNumberPerSeedTuber);
                //Potato.Sow(... Contains the following arguements:
                //Population  double  Required  Seeds sowing/m2
                //Cultivar    string  Required  "NameOfCultivar"
                //Depth       double  Optional  Depth (mm) seed sown.   Default is 100mm 
                //MaxCover    double  Optional  Proportion (0-1) of the ground row crop will cover.   Default is 1.0
                //BudNumber   double  Optional  Number of mainstems per seed sown.  Default is 1.0
                //RowSpacing  double  Optional  Spaceing (mm) between drill rows when crop is sown.  Default is 150mm
                //CropClass   string  Optional  Crop class to instantiate when crop is sown.  Default is "Plant"
               }
            }
        }
                
<br/>
PADDOCK.EXTRAVARIABLES
----------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.Soils;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Clock Clock;
        [Link] Soils.Soil Soil;
        [Link] Models.SurfaceOM.SurfaceOrganicMatter SOM;
        [Link] Weather Met;   
        [Link] Fertiliser Fert;
        [Link] Irrigation Irrig;  
        [Link] Plant Potato;          
        [Link] Zone zone;
        
        [XmlIgnore] public bool InitialDay { get; set; }
        
        [XmlIgnore] public double AccumPlantN { get; set; }
        [XmlIgnore] public double AccumMineralisation { get; set; }
        [XmlIgnore] public double AccumDenit { get; set; }
        [XmlIgnore] public double AccumFert { get; set; }
        [XmlIgnore] public double AccumLeach { get; set; }
        [XmlIgnore] public double AccumDetach { get; set; }
        [XmlIgnore] public double DeltaSoilOMN { get; set; }
        [XmlIgnore] public double DeltaSurfaceOMN { get; set; }
        [XmlIgnore] public double DeltaSoilMineralN { get; set; }
        [XmlIgnore] public double SoilNitrogenContent { get; set; }
        
        [XmlIgnore] public double AccumEO { get; set; }
        [XmlIgnore] public double AccumEP { get; set; }
        [XmlIgnore] public double AccumES { get; set; }
        [XmlIgnore] public double AccumDrainage { get; set; }
        [XmlIgnore] public double AccumRunoff { get; set; }
        [XmlIgnore] public double AccumOutflowLat { get; set; }
        [XmlIgnore] public double AccumIrrigation { get; set; }
        [XmlIgnore] public double AccumRainfall { get; set; }
        [XmlIgnore] public double SoilWaterDeficit { get; set; }
        
        [XmlIgnore] public double AccumTtemerg { get; set; }
        
        [XmlIgnore] public double  InitialSoilOMN { get; set; }
        [XmlIgnore] public double  InitialSurfaceOMN { get; set; }
        [XmlIgnore] public double  InitialMineralN { get; set; }
        
        [XmlIgnore] public double SWC { get; set; }
        [XmlIgnore] public double DUL { get; set; }
        [XmlIgnore] public double OutFlowLat { get; set; }

        [XmlIgnore] public double FomN { get; set; }
        [XmlIgnore] public double BiomN { get; set; }
        [XmlIgnore] public double HumN { get; set; }
        [XmlIgnore] public double OrganicN { get; set; }
        [XmlIgnore] public double NO3N { get; set; }
        [XmlIgnore] public double NH4N { get; set; }
        [XmlIgnore] public double UreaN { get; set; }
        [XmlIgnore] public double MineralN { get; set; }
        [XmlIgnore] public double DltNMinRes { get; set; }
        [XmlIgnore] public double DltNMinTot { get; set; }
        
        [EventSubscribe("Commencing")]
        private void OnSimulationCommencing(object sender, EventArgs e)
        {
            InitialDay = true;
        }       
        
        [EventSubscribe("DoManagement")]
        private void OnDoManagement(object sender, EventArgs e)
        {
            //!!!!!! Nitrogen balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!
               FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            OrganicN = FomN + HumN + BiomN;
            NO3N = Utility.Math.Sum(Soil.NO3N);
            NH4N = Utility.Math.Sum(Soil.NH4N);
            UreaN = Utility.Math.Sum(Soil.SoilNitrogen.urea);
            MineralN = NO3N + NH4N + UreaN; 
            DltNMinRes = Utility.Math.Sum(Soil.SoilNitrogen.dlt_n_min_res);
            DltNMinTot = Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            int layers = Soil.Thickness.Length;
            if (InitialDay == true)
            {
                InitialSurfaceOMN = SOM.N;
                InitialSoilOMN = OrganicN;
                InitialMineralN = MineralN;
                InitialDay = false;
            }
            AccumFert += Fert.NitrogenApplied;
            DeltaSurfaceOMN = SOM.N - InitialSurfaceOMN;
            AccumLeach = AccumLeach - Soil.SoilWater.LeachNH4 - Soil.SoilWater.LeachNO3 - Soil.SoilWater.LeachUrea; //Fails
            AccumMineralisation += Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            AccumDenit -= Utility.Math.Sum(Soil.SoilNitrogen.Denitrification);
            AccumPlantN -= (double)zone.Get("Potato.Root.NUptake");
            DeltaSoilOMN = OrganicN - InitialSoilOMN;
            DeltaSoilMineralN = MineralN - InitialMineralN;
            SoilNitrogenContent = MineralN;
            
            //!!!!!! Water balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!

            AccumIrrigation += Irrig.IrrigationApplied;
            AccumRainfall += Met.Rain;
            AccumEP -= (double)zone.Get("Potato.Leaf.Transpiration");
            SoilWaterDeficit =  (SWC - DUL);
            double OutFlowLat = Utility.Math.Sum(Soil.SoilWater.outflow_lat);
            AccumOutflowLat -= OutFlowLat;
            
            //!!!!!! Thermal time calculation !!!!!!
            //!!!!!! ^^^^^^^^^^^^^^^^^^^^^^^^ !!!!!!
            if (Potato.Phenology.Stage >= 3)
            AccumTtemerg += Potato.Phenology.ThermalTime.Value;
        }
        
        [EventSubscribe("DoManagementCalculations")]
        private void OnDoManagementCalculations(object sender, EventArgs e)
        {
            FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            
            
            AccumEO -= Soil.SoilWater.Eo;
            AccumES -= Soil.SoilWater.Es; 
            AccumDrainage -= Soil.SoilWater.Drainage;
            AccumRunoff -= Soil.SoilWater.Runoff;
            SWC = Utility.Math.Sum(Soil.SoilWater.SWmm);
            DUL = Utility.Math.Sum(Soil.SoilWater.DULmm);

        }
    }
}
       
<br/>
PADDOCK.REPORT
--------------
                                   Output variables  Output frequency
                                      [Clock].Today  [Clock].DoReport
               [ExtraVariables].Script.AccumTtemerg                  
                  Potato.Phenology.CurrentPhaseName                  
                             Potato.Phenology.Stage                  
                [ExtraVariables].Script.AccumPlantN                  
        [ExtraVariables].Script.AccumMineralisation                  
                 [ExtraVariables].Script.AccumDenit                  
                  [ExtraVariables].Script.AccumFert                  
                 [ExtraVariables].Script.AccumLeach                  
                [ExtraVariables].Script.AccumDetach                  
               [ExtraVariables].Script.DeltaSoilOMN                  
            [ExtraVariables].Script.DeltaSurfaceOMN                  
          [ExtraVariables].Script.DeltaSoilMineralN                  
                          Potato.Root.NSupplyUptake                  
                                [Soil].SoilWater.Eo                  
                                [Soil].SoilWater.Es                  
                        [ExtraVariables].Script.SWC                  
                        [ExtraVariables].Script.DUL                  
                          [Soil].SoilWater.Drainage                  
                            [Soil].SoilWater.Runoff                  
                 [ExtraVariables].Script.OutFlowLat                  
                              [Soil].SoilWater.pond                  
                    [ExtraVariables].Script.AccumEO                  
                    [ExtraVariables].Script.AccumEP                  
                    [ExtraVariables].Script.AccumES                  
              [ExtraVariables].Script.AccumDrainage                  
                [ExtraVariables].Script.AccumRunoff                  
              [ExtraVariables].Script.AccumRainfall                  
            [ExtraVariables].Script.AccumIrrigation                  
            [ExtraVariables].Script.AccumOutflowLat                  
           [ExtraVariables].Script.SoilWaterDeficit                  
                   Potato.Summariser.AboveGround.Wt                  
                   Potato.Summariser.BelowGround.Wt                  
                         Potato.Summariser.Total.Wt                  
                     Potato.Summariser.TotalDead.Wt                  
                     Potato.Summariser.TotalLive.Wt                  
                                Potato.Leaf.Dead.Wt                  
                                Potato.Leaf.Live.Wt                  
                                Potato.Stem.Dead.Wt                  
                                Potato.Stem.Live.Wt                  
                               Potato.Tuber.Dead.Wt                  
                               Potato.Tuber.Live.Wt                  
                                Potato.Root.Dead.Wt                  
                                Potato.Root.Live.Wt                  
                    Potato.Summariser.AboveGround.N                  
                    Potato.Summariser.BelowGround.N                  
                          Potato.Summariser.Total.N                  
                      Potato.Summariser.TotalLive.N                  
                      Potato.Summariser.TotalDead.N                  
                                 Potato.Leaf.Dead.N                  
                                 Potato.Leaf.Live.N                  
                                 Potato.Stem.Dead.N                  
                                 Potato.Stem.Live.N                  
                                Potato.Tuber.Dead.N                  
                                Potato.Tuber.Live.N                  
                                 Potato.Root.Live.N                  
                                 Potato.Root.Dead.N                  
                             Potato.Leaf.Live.NConc                  
                             Potato.Leaf.Dead.NConc                  
                             Potato.Stem.Live.NConc                  
                             Potato.Stem.Dead.NConc                  
                            Potato.Tuber.Live.NConc                  
                            Potato.Tuber.Dead.NConc                  
                             Potato.Root.Live.NConc                  
                             Potato.Root.Dead.NConc                  
                            Potato.Root.WaterSupply                  
                            Potato.Root.WaterUptake                  
                          Potato.Leaf.Transpiration                  
                            Potato.Leaf.WaterDemand                  
                                  Potato.Root.Depth                  
                             Potato.Leaf.CoverGreen                  
                             Potato.Leaf.CoverTotal                  
                              Potato.Leaf.CoverDead                  
                                    Potato.Leaf.LAI                  
                                Potato.Leaf.LAIDead                  
                            Potato.Structure.Height                  
                                     Potato.Leaf.Fn                  
                                     Potato.Leaf.Fw                  
                Potato.Leaf.Photosynthesis.FT.Value                  
              Potato.Leaf.Photosynthesis.FVPD.Value                  
                  Potato.Structure.PlantTotalNodeNo                  
                     Potato.Structure.TotalStemPopn                  
               Potato.Leaf.PlantAppearedGreenLeafNo                  
                      Potato.Leaf.ExpandingCohortNo                  
                       Potato.Leaf.AppearedCohortNo                  
                           Potato.Leaf.DeadCohortNo                  
                    Potato.Structure.MainStemNodeNo                  
                      Potato.Leaf.SenescingCohortNo                  
             Potato.Structure.PrimaryBudTotalNodeNo                  
Potato.Leaf.LeafCohortParameters.MinimumNConc.Value                  
                     Potato.Stem.MinimumNConc.Value                  
                    Potato.Tuber.MinimumNConc.Value                  
                     Potato.Root.MinimumNConc.Value                  
Potato.Leaf.LeafCohortParameters.MaximumNConc.Value                  
                     Potato.Stem.MaximumNConc.Value                  
                    Potato.Tuber.MaximumNConc.Value                  
                     Potato.Root.MaximumNConc.Value                  
                      Potato.Stem.Live.StructuralWt                  
                   Potato.Stem.Live.NonStructuralWt                  
                           Potato.Leaf.SpecificArea                  
                       Potato.Leaf.ExpandedCohortNo                  
                              [Soil].SoilWater.SWmm                  
                                        [Soil].NO3N                  
        [ExtraVariables].Script.SoilNitrogenContent                  
                          Potato.Arbitrator.NDemand                  
                            [MicroClimate].net_radn                  
                                [MicroClimate].peta                  
                                [MicroClimate].petr                  
                       [ExtraVariables].Script.FomN                  
                       [ExtraVariables].Script.HumN                  
                      [ExtraVariables].Script.BiomN                  
                 [ExtraVariables].Script.DltNMinRes                  
                 [ExtraVariables].Script.DltNMinTot                  
                [PotatoHarvestRule].Script.FinalTag                  
                               Potato.Tuber.LiveFWt                  
                Potato.Tuber.DryMatterContent.Value                  

<br/>
PADDOCK.SETINTERGERCROPPARAMETER
--------------------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Plant Plant;          
        [Link] Zone zone;            
                    
        [Description("Path for coefficient to be Overwritten")]
        public string OverRidePath { get; set; }
        [Description("Value for new coefficient Interger")]
        public int OverRideInterger { get; set; }
        
        [EventSubscribe("Sowing")]
        private void OnSowing(object sender, EventArgs e)
        {
            object ResetValue = OverRideInterger;
            zone.Set(OverRidePath, ResetValue);
        }
    }
}
       
<br/>
PADDOCK.POTATOHARVESTRULE
-------------------------

        using System;
        using Models.Core;
        using Models.PMF;
        using System.Xml.Serialization;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;
               [Link] Summary Summary;
               [Description("HarvestDate Date")]
               public DateTime HarvestDate { get; set; }            
               [XmlIgnore] public string FinalTag { get; set;}
               [XmlIgnore] public bool Harvested {get; set;}
               [XmlIgnore] public bool ReadyForHarvest {get; set;}
               
               [EventSubscribe("Commencing")]
               private void OnSimulationCommencing(object sender, EventArgs e)
               {
               FinalTag = "";
               Harvested = false;
               ReadyForHarvest = false;
               }
               
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
               if (ReadyForHarvest == true)
                   {
                   Potato.Harvest();
                   ReadyForHarvest = false;
                   Harvested = true;
                   }
               FinalTag = "";    
               }
               
               [EventSubscribe("DoManagementCalculations")]
               private void OnDoManagementCalculations(object sender, EventArgs e)
               {
                if ((Clock.Today == HarvestDate)&&(Harvested == false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
                if((Potato.Phenology.Stage>=7)&&(Harvested==false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
               }
            }
        }
                
<br/>
SIMULATION LOG:
---------------


1999-10-19 paddock.Fertiliser
    100 kg/ha of UreaN added at depth 10 layer 1
    


1999-10-21 paddock.Potato
    A crop of Potato (cultivar = RussetBurbank) was sown today at a population of 4.57875457875458 plants/m2 with 5 buds per plant at a row spacing of 150 and a depth of 150 mm
    


1999-10-21 paddock.Potato.Summariser
    Peeping
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


1999-11-12 paddock.Potato.Summariser
    Emergence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


1999-12-01 paddock.Fertiliser
    25 kg/ha of UreaN added at depth 10 layer 1
    


1999-12-09 paddock.Irrigation
    55.0 mm of water added at depth 0
    


1999-12-11 paddock.Potato.Summariser
    TuberInitiation
      LAI = 2.46 (m^2/m^2)
      Above Ground Biomass = 153.22 (g/m^2)
    
    


1999-12-13 paddock.Fertiliser
    25 kg/ha of UreaN added at depth 10 layer 1
    


1999-12-23 paddock.Irrigation
    25.0 mm of water added at depth 0
    


1999-12-30 paddock.Irrigation
    25.0 mm of water added at depth 0
    


2000-01-17 paddock.Fertiliser
    13 kg/ha of UreaN added at depth 10 layer 1
    


2000-01-21 paddock.Irrigation
    38.0 mm of water added at depth 0
    


2000-01-21 paddock.Fertiliser
    13 kg/ha of UreaN added at depth 10 layer 1
    


2000-01-24 paddock.Fertiliser
    13 kg/ha of UreaN added at depth 10 layer 1
    


2000-01-31 paddock.Fertiliser
    13 kg/ha of UreaN added at depth 10 layer 1
    


2000-02-07 paddock.Fertiliser
    13 kg/ha of UreaN added at depth 10 layer 1
    


2000-02-10 paddock.Irrigation
    50.0 mm of water added at depth 0
    


2000-02-14 paddock.Fertiliser
    13 kg/ha of UreaN added at depth 10 layer 1
    


2000-02-16 paddock.Irrigation
    25.0 mm of water added at depth 0
    


2000-02-21 paddock.Fertiliser
    13 kg/ha of UreaN added at depth 10 layer 1
    


2000-02-28 paddock.Fertiliser
    13 kg/ha of UreaN added at depth 10 layer 1
    


2000-03-01 paddock.Irrigation
    38.0 mm of water added at depth 0
    


2000-03-06 paddock.Fertiliser
    13 kg/ha of UreaN added at depth 10 layer 1
    


2000-03-08 paddock.Potato.Summariser
    FinalLeaf
      LAI = 0.42 (m^2/m^2)
      Above Ground Biomass = 357.96 (g/m^2)
    
    


2000-03-13 paddock.Fertiliser
    13 kg/ha of UreaN added at depth 10 layer 1
    


2000-03-20 paddock.Fertiliser
    13 kg/ha of UreaN added at depth 10 layer 1
    


2000-03-27 paddock.Fertiliser
    13 kg/ha of UreaN added at depth 10 layer 1
    


2000-03-31 paddock.Potato.Summariser
    FullSenescence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 357.96 (g/m^2)
    
    


2000-04-04 paddock.Potato.Summariser
    FullSenescence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 357.96 (g/m^2)
    
    Maturity
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 357.96 (g/m^2)
    
    


2000-04-04 paddock.Potato
    A crop of Potato was harvested today, Yeahhh
    


############################################################################
.FUEFERTILISER300EARLY
----------------------
Simulation name:   FUEFertiliser300early

<br/>
WEATHER
-------
Weather file name:   lincoln.met

<br/>
CLOCK
-----
The start date of the simulation:   1999-10-19
  The end date of the simulation:   2000-06-30

<br/>
PADDOCK.SOIL
------------
    Record number:       0
 Latitude (WGS84):   0.000
Longitude (WGS84):   0.000

<br/>
PADDOCK.SOIL.ANALYSIS
---------------------
Depth (cm)  PH (1:5 water)
      0-10             6.6
     10-30             6.2
     30-60             5.7
     60-90             5.5
    90-120             5.5
   120-150             5.5

<br/>
PADDOCK.SOIL.INITIAL WATER
--------------------------
        Fraction full:          1.000
    Depth of wet soil:            NaN
Plant available water:   237.000 (mm)

<br/>
PADDOCK.SOIL.WATER
------------------
Depth (cm)  BD (g/cc)  Air dry (mm/mm)  LL15 (mm/mm)  DUL (mm/mm)  SAT (mm/mm)
      0-10       1.20             0.08          0.16         0.33         0.50
     10-30       1.20             0.16          0.16         0.33         0.50
     30-60       1.20             0.14          0.14         0.31         0.44
     60-90       1.20             0.11          0.11         0.27         0.46
    90-120       1.20             0.16          0.16         0.30         0.44
   120-150       1.20             0.15          0.15         0.30         0.44

<br/>
PADDOCK.SOIL.WATER.WHEATSOIL
----------------------------
wheat Depth (cm)  wheat LL (mm/mm)  wheat PAWC (mm)  wheat KL (mm/mm)  wheat XF (mm/mm)
            0-10              0.13             20.0              0.06               1.0
           10-30              0.13             40.0              0.06               1.0
           30-60               0.1             63.0              0.06               1.0
           60-90              0.08             57.0              0.06               1.0
          90-120              0.11             57.0              0.06               1.0
         120-150              0.11             57.0              0.06               1.0
                                              294.0                                    

<br/>
PADDOCK.SOIL.WATER.POTATOSOIL
-----------------------------
Potato Depth (cm)  Potato LL (mm/mm)  Potato PAWC (mm)  Potato KL (mm/mm)  Potato XF (mm/mm)
             0-10               0.13              20.0               0.10                1.0
            10-30               0.13              40.0               0.06                1.0
            30-60                0.1              63.0               0.04                1.0
            60-90               0.15              36.0               0.01                1.0
           90-120                0.3               0.0               0.00                0.0
          120-150                0.3               0.0               0.00                0.0
                                                 159.0                                      

<br/>
PADDOCK.SOIL.SOILORGANICMATTER
------------------------------
                  Root C:N ratio:     30.000
             Root Weight (kg/ha):   3000.000
                  Soil C:N ratio:     11.500
Erosion enrichment coefficient A:      7.400
Erosion enrichment coefficient B:      0.200

Depth (cm)  OC (Total %)  FBiom (0-1)  FInert (0-1)
      0-10          4.50        0.025           0.3
     10-30          3.50        0.025           0.3
     30-60          1.20        0.015          0.75
     60-90          1.03         0.01           0.9
    90-120          0.47         0.01          0.96
   120-150          0.47         0.01          0.96

<br/>
PADDOCK.SOIL.INITIAL NITROGEN
-----------------------------
Depth (cm)  NO3kgha  NH4kgha       SWmm
      0-10     15.0      0.1  999,999.0
     10-20     15.0      0.2  999,999.0
     20-40     41.0      0.4  999,999.0
     40-60     10.0      0.4  999,999.0
     60-80     40.0      0.4  999,999.0
    80-150      5.0      0.4  999,999.0

<br/>
PADDOCK.SURFACE ORGANIC MATTER
------------------------------
Surface organic matter pool name:           wheat
Surface organic matter pool type:           wheat
 Mass of surface residue (kg/ha):       0 (kg/ha)
         Standing fraction (0-1):         0 (0-1)
     Carbon:Nitrogen ratio (g/g):        60 (g/g)
                  Carbon content:   0.000 (kg/ha)
                Nitrogen content:   0.000 (kg/ha)
              Phosphorus content:   0.000 (kg/ha)

<br/>
PADDOCK.MANAGER FOLDER.POTATOSOWINGRULE
---------------------------------------

        using System;
        using Models.Core;
        using Models.PMF;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;

               [Description("Spacing (mm) between plants within rows")]
               public double RowSpace { get; set; }
               [Description("Spacing (mm) between rows")]
               public double RowWidth { get; set; }
               [Description("Depth (mm) tubers are planted")]
               public double PlantingDepth { get; set; }
               [Description("Number of stems per seed tuber")]
               public double StemNumberPerSeedTuber { get; set; }
               [Display(DisplayType = DisplayAttribute.DisplayTypeEnum.CultivarName)]
               [Description("Cultivar")]
               public string CultivarName { get; set; }
               [Description("Sowing Date")]
               public DateTime SowingDate { get; set; }

               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
                double PlantPopulation = 1/((RowWidth/1000)*(RowSpace/1000));

                if (Clock.Today.Date == SowingDate)
                    Potato.Sow(population:PlantPopulation, cultivar:CultivarName, depth:PlantingDepth, rowSpacing:150, budNumber:StemNumberPerSeedTuber);
                //Potato.Sow(... Contains the following arguements:
                //Population  double  Required  Seeds sowing/m2
                //Cultivar    string  Required  "NameOfCultivar"
                //Depth       double  Optional  Depth (mm) seed sown.   Default is 100mm 
                //MaxCover    double  Optional  Proportion (0-1) of the ground row crop will cover.   Default is 1.0
                //BudNumber   double  Optional  Number of mainstems per seed sown.  Default is 1.0
                //RowSpacing  double  Optional  Spaceing (mm) between drill rows when crop is sown.  Default is 150mm
                //CropClass   string  Optional  Crop class to instantiate when crop is sown.  Default is "Plant"
               }
            }
        }
                
<br/>
PADDOCK.EXTRAVARIABLES
----------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.Soils;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Clock Clock;
        [Link] Soils.Soil Soil;
        [Link] Models.SurfaceOM.SurfaceOrganicMatter SOM;
        [Link] Weather Met;   
        [Link] Fertiliser Fert;
        [Link] Irrigation Irrig;  
        [Link] Plant Potato;          
        [Link] Zone zone;
        
        [XmlIgnore] public bool InitialDay { get; set; }
        
        [XmlIgnore] public double AccumPlantN { get; set; }
        [XmlIgnore] public double AccumMineralisation { get; set; }
        [XmlIgnore] public double AccumDenit { get; set; }
        [XmlIgnore] public double AccumFert { get; set; }
        [XmlIgnore] public double AccumLeach { get; set; }
        [XmlIgnore] public double AccumDetach { get; set; }
        [XmlIgnore] public double DeltaSoilOMN { get; set; }
        [XmlIgnore] public double DeltaSurfaceOMN { get; set; }
        [XmlIgnore] public double DeltaSoilMineralN { get; set; }
        [XmlIgnore] public double SoilNitrogenContent { get; set; }
        
        [XmlIgnore] public double AccumEO { get; set; }
        [XmlIgnore] public double AccumEP { get; set; }
        [XmlIgnore] public double AccumES { get; set; }
        [XmlIgnore] public double AccumDrainage { get; set; }
        [XmlIgnore] public double AccumRunoff { get; set; }
        [XmlIgnore] public double AccumOutflowLat { get; set; }
        [XmlIgnore] public double AccumIrrigation { get; set; }
        [XmlIgnore] public double AccumRainfall { get; set; }
        [XmlIgnore] public double SoilWaterDeficit { get; set; }
        
        [XmlIgnore] public double AccumTtemerg { get; set; }
        
        [XmlIgnore] public double  InitialSoilOMN { get; set; }
        [XmlIgnore] public double  InitialSurfaceOMN { get; set; }
        [XmlIgnore] public double  InitialMineralN { get; set; }
        
        [XmlIgnore] public double SWC { get; set; }
        [XmlIgnore] public double DUL { get; set; }
        [XmlIgnore] public double OutFlowLat { get; set; }

        [XmlIgnore] public double FomN { get; set; }
        [XmlIgnore] public double BiomN { get; set; }
        [XmlIgnore] public double HumN { get; set; }
        [XmlIgnore] public double OrganicN { get; set; }
        [XmlIgnore] public double NO3N { get; set; }
        [XmlIgnore] public double NH4N { get; set; }
        [XmlIgnore] public double UreaN { get; set; }
        [XmlIgnore] public double MineralN { get; set; }
        [XmlIgnore] public double DltNMinRes { get; set; }
        [XmlIgnore] public double DltNMinTot { get; set; }
        
        [EventSubscribe("Commencing")]
        private void OnSimulationCommencing(object sender, EventArgs e)
        {
            InitialDay = true;
        }       
        
        [EventSubscribe("DoManagement")]
        private void OnDoManagement(object sender, EventArgs e)
        {
            //!!!!!! Nitrogen balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!
               FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            OrganicN = FomN + HumN + BiomN;
            NO3N = Utility.Math.Sum(Soil.NO3N);
            NH4N = Utility.Math.Sum(Soil.NH4N);
            UreaN = Utility.Math.Sum(Soil.SoilNitrogen.urea);
            MineralN = NO3N + NH4N + UreaN; 
            DltNMinRes = Utility.Math.Sum(Soil.SoilNitrogen.dlt_n_min_res);
            DltNMinTot = Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            int layers = Soil.Thickness.Length;
            if (InitialDay == true)
            {
                InitialSurfaceOMN = SOM.N;
                InitialSoilOMN = OrganicN;
                InitialMineralN = MineralN;
                InitialDay = false;
            }
            AccumFert += Fert.NitrogenApplied;
            DeltaSurfaceOMN = SOM.N - InitialSurfaceOMN;
            AccumLeach = AccumLeach - Soil.SoilWater.LeachNH4 - Soil.SoilWater.LeachNO3 - Soil.SoilWater.LeachUrea; //Fails
            AccumMineralisation += Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            AccumDenit -= Utility.Math.Sum(Soil.SoilNitrogen.Denitrification);
            AccumPlantN -= (double)zone.Get("Potato.Root.NUptake");
            DeltaSoilOMN = OrganicN - InitialSoilOMN;
            DeltaSoilMineralN = MineralN - InitialMineralN;
            SoilNitrogenContent = MineralN;
            
            //!!!!!! Water balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!

            AccumIrrigation += Irrig.IrrigationApplied;
            AccumRainfall += Met.Rain;
            AccumEP -= (double)zone.Get("Potato.Leaf.Transpiration");
            SoilWaterDeficit =  (SWC - DUL);
            double OutFlowLat = Utility.Math.Sum(Soil.SoilWater.outflow_lat);
            AccumOutflowLat -= OutFlowLat;
            
            //!!!!!! Thermal time calculation !!!!!!
            //!!!!!! ^^^^^^^^^^^^^^^^^^^^^^^^ !!!!!!
            if (Potato.Phenology.Stage >= 3)
            AccumTtemerg += Potato.Phenology.ThermalTime.Value;
        }
        
        [EventSubscribe("DoManagementCalculations")]
        private void OnDoManagementCalculations(object sender, EventArgs e)
        {
            FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            
            
            AccumEO -= Soil.SoilWater.Eo;
            AccumES -= Soil.SoilWater.Es; 
            AccumDrainage -= Soil.SoilWater.Drainage;
            AccumRunoff -= Soil.SoilWater.Runoff;
            SWC = Utility.Math.Sum(Soil.SoilWater.SWmm);
            DUL = Utility.Math.Sum(Soil.SoilWater.DULmm);

        }
    }
}
       
<br/>
PADDOCK.REPORT
--------------
                                   Output variables  Output frequency
                                      [Clock].Today  [Clock].DoReport
               [ExtraVariables].Script.AccumTtemerg                  
                  Potato.Phenology.CurrentPhaseName                  
                             Potato.Phenology.Stage                  
                [ExtraVariables].Script.AccumPlantN                  
        [ExtraVariables].Script.AccumMineralisation                  
                 [ExtraVariables].Script.AccumDenit                  
                  [ExtraVariables].Script.AccumFert                  
                 [ExtraVariables].Script.AccumLeach                  
                [ExtraVariables].Script.AccumDetach                  
               [ExtraVariables].Script.DeltaSoilOMN                  
            [ExtraVariables].Script.DeltaSurfaceOMN                  
          [ExtraVariables].Script.DeltaSoilMineralN                  
                          Potato.Root.NSupplyUptake                  
                                [Soil].SoilWater.Eo                  
                                [Soil].SoilWater.Es                  
                        [ExtraVariables].Script.SWC                  
                        [ExtraVariables].Script.DUL                  
                          [Soil].SoilWater.Drainage                  
                            [Soil].SoilWater.Runoff                  
                 [ExtraVariables].Script.OutFlowLat                  
                              [Soil].SoilWater.pond                  
                    [ExtraVariables].Script.AccumEO                  
                    [ExtraVariables].Script.AccumEP                  
                    [ExtraVariables].Script.AccumES                  
              [ExtraVariables].Script.AccumDrainage                  
                [ExtraVariables].Script.AccumRunoff                  
              [ExtraVariables].Script.AccumRainfall                  
            [ExtraVariables].Script.AccumIrrigation                  
            [ExtraVariables].Script.AccumOutflowLat                  
           [ExtraVariables].Script.SoilWaterDeficit                  
                   Potato.Summariser.AboveGround.Wt                  
                   Potato.Summariser.BelowGround.Wt                  
                         Potato.Summariser.Total.Wt                  
                     Potato.Summariser.TotalDead.Wt                  
                     Potato.Summariser.TotalLive.Wt                  
                                Potato.Leaf.Dead.Wt                  
                                Potato.Leaf.Live.Wt                  
                                Potato.Stem.Dead.Wt                  
                                Potato.Stem.Live.Wt                  
                               Potato.Tuber.Dead.Wt                  
                               Potato.Tuber.Live.Wt                  
                                Potato.Root.Dead.Wt                  
                                Potato.Root.Live.Wt                  
                    Potato.Summariser.AboveGround.N                  
                    Potato.Summariser.BelowGround.N                  
                          Potato.Summariser.Total.N                  
                      Potato.Summariser.TotalLive.N                  
                      Potato.Summariser.TotalDead.N                  
                                 Potato.Leaf.Dead.N                  
                                 Potato.Leaf.Live.N                  
                                 Potato.Stem.Dead.N                  
                                 Potato.Stem.Live.N                  
                                Potato.Tuber.Dead.N                  
                                Potato.Tuber.Live.N                  
                                 Potato.Root.Live.N                  
                                 Potato.Root.Dead.N                  
                             Potato.Leaf.Live.NConc                  
                             Potato.Leaf.Dead.NConc                  
                             Potato.Stem.Live.NConc                  
                             Potato.Stem.Dead.NConc                  
                            Potato.Tuber.Live.NConc                  
                            Potato.Tuber.Dead.NConc                  
                             Potato.Root.Live.NConc                  
                             Potato.Root.Dead.NConc                  
                            Potato.Root.WaterSupply                  
                            Potato.Root.WaterUptake                  
                          Potato.Leaf.Transpiration                  
                            Potato.Leaf.WaterDemand                  
                                  Potato.Root.Depth                  
                             Potato.Leaf.CoverGreen                  
                             Potato.Leaf.CoverTotal                  
                              Potato.Leaf.CoverDead                  
                                    Potato.Leaf.LAI                  
                                Potato.Leaf.LAIDead                  
                            Potato.Structure.Height                  
                                     Potato.Leaf.Fn                  
                                     Potato.Leaf.Fw                  
                Potato.Leaf.Photosynthesis.FT.Value                  
              Potato.Leaf.Photosynthesis.FVPD.Value                  
                  Potato.Structure.PlantTotalNodeNo                  
                     Potato.Structure.TotalStemPopn                  
               Potato.Leaf.PlantAppearedGreenLeafNo                  
                      Potato.Leaf.ExpandingCohortNo                  
                       Potato.Leaf.AppearedCohortNo                  
                           Potato.Leaf.DeadCohortNo                  
                    Potato.Structure.MainStemNodeNo                  
                      Potato.Leaf.SenescingCohortNo                  
             Potato.Structure.PrimaryBudTotalNodeNo                  
Potato.Leaf.LeafCohortParameters.MinimumNConc.Value                  
                     Potato.Stem.MinimumNConc.Value                  
                    Potato.Tuber.MinimumNConc.Value                  
                     Potato.Root.MinimumNConc.Value                  
Potato.Leaf.LeafCohortParameters.MaximumNConc.Value                  
                     Potato.Stem.MaximumNConc.Value                  
                    Potato.Tuber.MaximumNConc.Value                  
                     Potato.Root.MaximumNConc.Value                  
                      Potato.Stem.Live.StructuralWt                  
                   Potato.Stem.Live.NonStructuralWt                  
                           Potato.Leaf.SpecificArea                  
                       Potato.Leaf.ExpandedCohortNo                  
                              [Soil].SoilWater.SWmm                  
                                        [Soil].NO3N                  
        [ExtraVariables].Script.SoilNitrogenContent                  
                          Potato.Arbitrator.NDemand                  
                            [MicroClimate].net_radn                  
                                [MicroClimate].peta                  
                                [MicroClimate].petr                  
                       [ExtraVariables].Script.FomN                  
                       [ExtraVariables].Script.HumN                  
                      [ExtraVariables].Script.BiomN                  
                 [ExtraVariables].Script.DltNMinRes                  
                 [ExtraVariables].Script.DltNMinTot                  
                [PotatoHarvestRule].Script.FinalTag                  
                               Potato.Tuber.LiveFWt                  
                Potato.Tuber.DryMatterContent.Value                  

<br/>
PADDOCK.SETINTERGERCROPPARAMETER
--------------------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Plant Plant;          
        [Link] Zone zone;            
                    
        [Description("Path for coefficient to be Overwritten")]
        public string OverRidePath { get; set; }
        [Description("Value for new coefficient Interger")]
        public int OverRideInterger { get; set; }
        
        [EventSubscribe("Sowing")]
        private void OnSowing(object sender, EventArgs e)
        {
            object ResetValue = OverRideInterger;
            zone.Set(OverRidePath, ResetValue);
        }
    }
}
       
<br/>
PADDOCK.POTATOHARVESTRULE
-------------------------

        using System;
        using Models.Core;
        using Models.PMF;
        using System.Xml.Serialization;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;
               [Link] Summary Summary;
               [Description("HarvestDate Date")]
               public DateTime HarvestDate { get; set; }            
               [XmlIgnore] public string FinalTag { get; set;}
               [XmlIgnore] public bool Harvested {get; set;}
               [XmlIgnore] public bool ReadyForHarvest {get; set;}
               
               [EventSubscribe("Commencing")]
               private void OnSimulationCommencing(object sender, EventArgs e)
               {
               FinalTag = "";
               Harvested = false;
               ReadyForHarvest = false;
               }
               
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
               if (ReadyForHarvest == true)
                   {
                   Potato.Harvest();
                   ReadyForHarvest = false;
                   Harvested = true;
                   }
               FinalTag = "";    
               }
               
               [EventSubscribe("DoManagementCalculations")]
               private void OnDoManagementCalculations(object sender, EventArgs e)
               {
                if ((Clock.Today == HarvestDate)&&(Harvested == false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
                if((Potato.Phenology.Stage>=7)&&(Harvested==false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
               }
            }
        }
                
<br/>
SIMULATION LOG:
---------------


1999-10-19 paddock.Fertiliser
    150 kg/ha of UreaN added at depth 10 layer 1
    


1999-10-21 paddock.Potato
    A crop of Potato (cultivar = RussetBurbank) was sown today at a population of 4.57875457875458 plants/m2 with 5 buds per plant at a row spacing of 150 and a depth of 150 mm
    


1999-10-21 paddock.Potato.Summariser
    Peeping
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


1999-11-12 paddock.Potato.Summariser
    Emergence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


1999-12-01 paddock.Fertiliser
    150 kg/ha of UreaN added at depth 10 layer 1
    


1999-12-09 paddock.Irrigation
    55.0 mm of water added at depth 0
    


1999-12-11 paddock.Potato.Summariser
    TuberInitiation
      LAI = 2.46 (m^2/m^2)
      Above Ground Biomass = 153.22 (g/m^2)
    
    


1999-12-23 paddock.Irrigation
    25.0 mm of water added at depth 0
    


1999-12-30 paddock.Irrigation
    25.0 mm of water added at depth 0
    


2000-01-21 paddock.Irrigation
    38.0 mm of water added at depth 0
    


2000-02-10 paddock.Irrigation
    50.0 mm of water added at depth 0
    


2000-02-16 paddock.Irrigation
    25.0 mm of water added at depth 0
    


2000-03-01 paddock.Irrigation
    38.0 mm of water added at depth 0
    


2000-03-08 paddock.Potato.Summariser
    FinalLeaf
      LAI = 0.42 (m^2/m^2)
      Above Ground Biomass = 357.96 (g/m^2)
    
    


2000-03-31 paddock.Potato.Summariser
    FullSenescence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 357.96 (g/m^2)
    
    


2000-04-04 paddock.Potato.Summariser
    FullSenescence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 357.96 (g/m^2)
    
    Maturity
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 357.96 (g/m^2)
    
    


2000-04-04 paddock.Potato
    A crop of Potato was harvested today, Yeahhh
    


############################################################################
.FUEFERTILISERNIL
-----------------
Simulation name:   FUEFertiliserNil

<br/>
WEATHER
-------
Weather file name:   lincoln.met

<br/>
CLOCK
-----
The start date of the simulation:   1999-10-19
  The end date of the simulation:   2000-06-30

<br/>
PADDOCK.SOIL
------------
    Record number:       0
 Latitude (WGS84):   0.000
Longitude (WGS84):   0.000

<br/>
PADDOCK.SOIL.ANALYSIS
---------------------
Depth (cm)  PH (1:5 water)
      0-10             6.6
     10-30             6.2
     30-60             5.7
     60-90             5.5
    90-120             5.5
   120-150             5.5

<br/>
PADDOCK.SOIL.INITIAL WATER
--------------------------
        Fraction full:          1.000
    Depth of wet soil:            NaN
Plant available water:   237.000 (mm)

<br/>
PADDOCK.SOIL.WATER
------------------
Depth (cm)  BD (g/cc)  Air dry (mm/mm)  LL15 (mm/mm)  DUL (mm/mm)  SAT (mm/mm)
      0-10       1.20             0.08          0.16         0.33         0.50
     10-30       1.20             0.16          0.16         0.33         0.50
     30-60       1.20             0.14          0.14         0.31         0.44
     60-90       1.20             0.11          0.11         0.27         0.46
    90-120       1.20             0.16          0.16         0.30         0.44
   120-150       1.20             0.15          0.15         0.30         0.44

<br/>
PADDOCK.SOIL.WATER.WHEATSOIL
----------------------------
wheat Depth (cm)  wheat LL (mm/mm)  wheat PAWC (mm)  wheat KL (mm/mm)  wheat XF (mm/mm)
            0-10              0.13             20.0              0.06               1.0
           10-30              0.13             40.0              0.06               1.0
           30-60               0.1             63.0              0.06               1.0
           60-90              0.08             57.0              0.06               1.0
          90-120              0.11             57.0              0.06               1.0
         120-150              0.11             57.0              0.06               1.0
                                              294.0                                    

<br/>
PADDOCK.SOIL.WATER.POTATOSOIL
-----------------------------
Potato Depth (cm)  Potato LL (mm/mm)  Potato PAWC (mm)  Potato KL (mm/mm)  Potato XF (mm/mm)
             0-10               0.13              20.0               0.10                1.0
            10-30               0.13              40.0               0.06                1.0
            30-60                0.1              63.0               0.04                1.0
            60-90               0.15              36.0               0.01                1.0
           90-120                0.3               0.0               0.00                0.0
          120-150                0.3               0.0               0.00                0.0
                                                 159.0                                      

<br/>
PADDOCK.SOIL.SOILORGANICMATTER
------------------------------
                  Root C:N ratio:     30.000
             Root Weight (kg/ha):   3000.000
                  Soil C:N ratio:     11.500
Erosion enrichment coefficient A:      7.400
Erosion enrichment coefficient B:      0.200

Depth (cm)  OC (Total %)  FBiom (0-1)  FInert (0-1)
      0-10          4.50        0.025           0.3
     10-30          3.50        0.025           0.3
     30-60          1.20        0.015          0.75
     60-90          1.03         0.01           0.9
    90-120          0.47         0.01          0.96
   120-150          0.47         0.01          0.96

<br/>
PADDOCK.SOIL.INITIAL NITROGEN
-----------------------------
Depth (cm)  NO3kgha  NH4kgha       SWmm
      0-10     15.0      0.1  999,999.0
     10-20     15.0      0.2  999,999.0
     20-40     41.0      0.4  999,999.0
     40-60     10.0      0.4  999,999.0
     60-80     40.0      0.4  999,999.0
    80-150      5.0      0.4  999,999.0

<br/>
PADDOCK.SURFACE ORGANIC MATTER
------------------------------
Surface organic matter pool name:           wheat
Surface organic matter pool type:           wheat
 Mass of surface residue (kg/ha):       0 (kg/ha)
         Standing fraction (0-1):         0 (0-1)
     Carbon:Nitrogen ratio (g/g):        60 (g/g)
                  Carbon content:   0.000 (kg/ha)
                Nitrogen content:   0.000 (kg/ha)
              Phosphorus content:   0.000 (kg/ha)

<br/>
PADDOCK.MANAGER FOLDER.POTATOSOWINGRULE
---------------------------------------

        using System;
        using Models.Core;
        using Models.PMF;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;

               [Description("Spacing (mm) between plants within rows")]
               public double RowSpace { get; set; }
               [Description("Spacing (mm) between rows")]
               public double RowWidth { get; set; }
               [Description("Depth (mm) tubers are planted")]
               public double PlantingDepth { get; set; }
               [Description("Number of stems per seed tuber")]
               public double StemNumberPerSeedTuber { get; set; }
               [Display(DisplayType = DisplayAttribute.DisplayTypeEnum.CultivarName)]
               [Description("Cultivar")]
               public string CultivarName { get; set; }
               [Description("Sowing Date")]
               public DateTime SowingDate { get; set; }

               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
                double PlantPopulation = 1/((RowWidth/1000)*(RowSpace/1000));

                if (Clock.Today.Date == SowingDate)
                    Potato.Sow(population:PlantPopulation, cultivar:CultivarName, depth:PlantingDepth, rowSpacing:150, budNumber:StemNumberPerSeedTuber);
                //Potato.Sow(... Contains the following arguements:
                //Population  double  Required  Seeds sowing/m2
                //Cultivar    string  Required  "NameOfCultivar"
                //Depth       double  Optional  Depth (mm) seed sown.   Default is 100mm 
                //MaxCover    double  Optional  Proportion (0-1) of the ground row crop will cover.   Default is 1.0
                //BudNumber   double  Optional  Number of mainstems per seed sown.  Default is 1.0
                //RowSpacing  double  Optional  Spaceing (mm) between drill rows when crop is sown.  Default is 150mm
                //CropClass   string  Optional  Crop class to instantiate when crop is sown.  Default is "Plant"
               }
            }
        }
                
<br/>
PADDOCK.EXTRAVARIABLES
----------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.Soils;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Clock Clock;
        [Link] Soils.Soil Soil;
        [Link] Models.SurfaceOM.SurfaceOrganicMatter SOM;
        [Link] Weather Met;   
        [Link] Fertiliser Fert;
        [Link] Irrigation Irrig;  
        [Link] Plant Potato;          
        [Link] Zone zone;
        
        [XmlIgnore] public bool InitialDay { get; set; }
        
        [XmlIgnore] public double AccumPlantN { get; set; }
        [XmlIgnore] public double AccumMineralisation { get; set; }
        [XmlIgnore] public double AccumDenit { get; set; }
        [XmlIgnore] public double AccumFert { get; set; }
        [XmlIgnore] public double AccumLeach { get; set; }
        [XmlIgnore] public double AccumDetach { get; set; }
        [XmlIgnore] public double DeltaSoilOMN { get; set; }
        [XmlIgnore] public double DeltaSurfaceOMN { get; set; }
        [XmlIgnore] public double DeltaSoilMineralN { get; set; }
        [XmlIgnore] public double SoilNitrogenContent { get; set; }
        
        [XmlIgnore] public double AccumEO { get; set; }
        [XmlIgnore] public double AccumEP { get; set; }
        [XmlIgnore] public double AccumES { get; set; }
        [XmlIgnore] public double AccumDrainage { get; set; }
        [XmlIgnore] public double AccumRunoff { get; set; }
        [XmlIgnore] public double AccumOutflowLat { get; set; }
        [XmlIgnore] public double AccumIrrigation { get; set; }
        [XmlIgnore] public double AccumRainfall { get; set; }
        [XmlIgnore] public double SoilWaterDeficit { get; set; }
        
        [XmlIgnore] public double AccumTtemerg { get; set; }
        
        [XmlIgnore] public double  InitialSoilOMN { get; set; }
        [XmlIgnore] public double  InitialSurfaceOMN { get; set; }
        [XmlIgnore] public double  InitialMineralN { get; set; }
        
        [XmlIgnore] public double SWC { get; set; }
        [XmlIgnore] public double DUL { get; set; }
        [XmlIgnore] public double OutFlowLat { get; set; }

        [XmlIgnore] public double FomN { get; set; }
        [XmlIgnore] public double BiomN { get; set; }
        [XmlIgnore] public double HumN { get; set; }
        [XmlIgnore] public double OrganicN { get; set; }
        [XmlIgnore] public double NO3N { get; set; }
        [XmlIgnore] public double NH4N { get; set; }
        [XmlIgnore] public double UreaN { get; set; }
        [XmlIgnore] public double MineralN { get; set; }
        [XmlIgnore] public double DltNMinRes { get; set; }
        [XmlIgnore] public double DltNMinTot { get; set; }
        
        [EventSubscribe("Commencing")]
        private void OnSimulationCommencing(object sender, EventArgs e)
        {
            InitialDay = true;
        }       
        
        [EventSubscribe("DoManagement")]
        private void OnDoManagement(object sender, EventArgs e)
        {
            //!!!!!! Nitrogen balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!
               FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            OrganicN = FomN + HumN + BiomN;
            NO3N = Utility.Math.Sum(Soil.NO3N);
            NH4N = Utility.Math.Sum(Soil.NH4N);
            UreaN = Utility.Math.Sum(Soil.SoilNitrogen.urea);
            MineralN = NO3N + NH4N + UreaN; 
            DltNMinRes = Utility.Math.Sum(Soil.SoilNitrogen.dlt_n_min_res);
            DltNMinTot = Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            int layers = Soil.Thickness.Length;
            if (InitialDay == true)
            {
                InitialSurfaceOMN = SOM.N;
                InitialSoilOMN = OrganicN;
                InitialMineralN = MineralN;
                InitialDay = false;
            }
            AccumFert += Fert.NitrogenApplied;
            DeltaSurfaceOMN = SOM.N - InitialSurfaceOMN;
            AccumLeach = AccumLeach - Soil.SoilWater.LeachNH4 - Soil.SoilWater.LeachNO3 - Soil.SoilWater.LeachUrea; //Fails
            AccumMineralisation += Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            AccumDenit -= Utility.Math.Sum(Soil.SoilNitrogen.Denitrification);
            AccumPlantN -= (double)zone.Get("Potato.Root.NUptake");
            DeltaSoilOMN = OrganicN - InitialSoilOMN;
            DeltaSoilMineralN = MineralN - InitialMineralN;
            SoilNitrogenContent = MineralN;
            
            //!!!!!! Water balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!

            AccumIrrigation += Irrig.IrrigationApplied;
            AccumRainfall += Met.Rain;
            AccumEP -= (double)zone.Get("Potato.Leaf.Transpiration");
            SoilWaterDeficit =  (SWC - DUL);
            double OutFlowLat = Utility.Math.Sum(Soil.SoilWater.outflow_lat);
            AccumOutflowLat -= OutFlowLat;
            
            //!!!!!! Thermal time calculation !!!!!!
            //!!!!!! ^^^^^^^^^^^^^^^^^^^^^^^^ !!!!!!
            if (Potato.Phenology.Stage >= 3)
            AccumTtemerg += Potato.Phenology.ThermalTime.Value;
        }
        
        [EventSubscribe("DoManagementCalculations")]
        private void OnDoManagementCalculations(object sender, EventArgs e)
        {
            FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            
            
            AccumEO -= Soil.SoilWater.Eo;
            AccumES -= Soil.SoilWater.Es; 
            AccumDrainage -= Soil.SoilWater.Drainage;
            AccumRunoff -= Soil.SoilWater.Runoff;
            SWC = Utility.Math.Sum(Soil.SoilWater.SWmm);
            DUL = Utility.Math.Sum(Soil.SoilWater.DULmm);

        }
    }
}
       
<br/>
PADDOCK.REPORT
--------------
                                   Output variables  Output frequency
                                      [Clock].Today  [Clock].DoReport
               [ExtraVariables].Script.AccumTtemerg                  
                  Potato.Phenology.CurrentPhaseName                  
                             Potato.Phenology.Stage                  
                [ExtraVariables].Script.AccumPlantN                  
        [ExtraVariables].Script.AccumMineralisation                  
                 [ExtraVariables].Script.AccumDenit                  
                  [ExtraVariables].Script.AccumFert                  
                 [ExtraVariables].Script.AccumLeach                  
                [ExtraVariables].Script.AccumDetach                  
               [ExtraVariables].Script.DeltaSoilOMN                  
            [ExtraVariables].Script.DeltaSurfaceOMN                  
          [ExtraVariables].Script.DeltaSoilMineralN                  
                          Potato.Root.NSupplyUptake                  
                                [Soil].SoilWater.Eo                  
                                [Soil].SoilWater.Es                  
                        [ExtraVariables].Script.SWC                  
                        [ExtraVariables].Script.DUL                  
                          [Soil].SoilWater.Drainage                  
                            [Soil].SoilWater.Runoff                  
                 [ExtraVariables].Script.OutFlowLat                  
                              [Soil].SoilWater.pond                  
                    [ExtraVariables].Script.AccumEO                  
                    [ExtraVariables].Script.AccumEP                  
                    [ExtraVariables].Script.AccumES                  
              [ExtraVariables].Script.AccumDrainage                  
                [ExtraVariables].Script.AccumRunoff                  
              [ExtraVariables].Script.AccumRainfall                  
            [ExtraVariables].Script.AccumIrrigation                  
            [ExtraVariables].Script.AccumOutflowLat                  
           [ExtraVariables].Script.SoilWaterDeficit                  
                   Potato.Summariser.AboveGround.Wt                  
                   Potato.Summariser.BelowGround.Wt                  
                         Potato.Summariser.Total.Wt                  
                     Potato.Summariser.TotalDead.Wt                  
                     Potato.Summariser.TotalLive.Wt                  
                                Potato.Leaf.Dead.Wt                  
                                Potato.Leaf.Live.Wt                  
                                Potato.Stem.Dead.Wt                  
                                Potato.Stem.Live.Wt                  
                               Potato.Tuber.Dead.Wt                  
                               Potato.Tuber.Live.Wt                  
                                Potato.Root.Dead.Wt                  
                                Potato.Root.Live.Wt                  
                    Potato.Summariser.AboveGround.N                  
                    Potato.Summariser.BelowGround.N                  
                          Potato.Summariser.Total.N                  
                      Potato.Summariser.TotalLive.N                  
                      Potato.Summariser.TotalDead.N                  
                                 Potato.Leaf.Dead.N                  
                                 Potato.Leaf.Live.N                  
                                 Potato.Stem.Dead.N                  
                                 Potato.Stem.Live.N                  
                                Potato.Tuber.Dead.N                  
                                Potato.Tuber.Live.N                  
                                 Potato.Root.Live.N                  
                                 Potato.Root.Dead.N                  
                             Potato.Leaf.Live.NConc                  
                             Potato.Leaf.Dead.NConc                  
                             Potato.Stem.Live.NConc                  
                             Potato.Stem.Dead.NConc                  
                            Potato.Tuber.Live.NConc                  
                            Potato.Tuber.Dead.NConc                  
                             Potato.Root.Live.NConc                  
                             Potato.Root.Dead.NConc                  
                            Potato.Root.WaterSupply                  
                            Potato.Root.WaterUptake                  
                          Potato.Leaf.Transpiration                  
                            Potato.Leaf.WaterDemand                  
                                  Potato.Root.Depth                  
                             Potato.Leaf.CoverGreen                  
                             Potato.Leaf.CoverTotal                  
                              Potato.Leaf.CoverDead                  
                                    Potato.Leaf.LAI                  
                                Potato.Leaf.LAIDead                  
                            Potato.Structure.Height                  
                                     Potato.Leaf.Fn                  
                                     Potato.Leaf.Fw                  
                Potato.Leaf.Photosynthesis.FT.Value                  
              Potato.Leaf.Photosynthesis.FVPD.Value                  
                  Potato.Structure.PlantTotalNodeNo                  
                     Potato.Structure.TotalStemPopn                  
               Potato.Leaf.PlantAppearedGreenLeafNo                  
                      Potato.Leaf.ExpandingCohortNo                  
                       Potato.Leaf.AppearedCohortNo                  
                           Potato.Leaf.DeadCohortNo                  
                    Potato.Structure.MainStemNodeNo                  
                      Potato.Leaf.SenescingCohortNo                  
             Potato.Structure.PrimaryBudTotalNodeNo                  
Potato.Leaf.LeafCohortParameters.MinimumNConc.Value                  
                     Potato.Stem.MinimumNConc.Value                  
                    Potato.Tuber.MinimumNConc.Value                  
                     Potato.Root.MinimumNConc.Value                  
Potato.Leaf.LeafCohortParameters.MaximumNConc.Value                  
                     Potato.Stem.MaximumNConc.Value                  
                    Potato.Tuber.MaximumNConc.Value                  
                     Potato.Root.MaximumNConc.Value                  
                      Potato.Stem.Live.StructuralWt                  
                   Potato.Stem.Live.NonStructuralWt                  
                           Potato.Leaf.SpecificArea                  
                       Potato.Leaf.ExpandedCohortNo                  
                              [Soil].SoilWater.SWmm                  
                                        [Soil].NO3N                  
        [ExtraVariables].Script.SoilNitrogenContent                  
                          Potato.Arbitrator.NDemand                  
                            [MicroClimate].net_radn                  
                                [MicroClimate].peta                  
                                [MicroClimate].petr                  
                       [ExtraVariables].Script.FomN                  
                       [ExtraVariables].Script.HumN                  
                      [ExtraVariables].Script.BiomN                  
                 [ExtraVariables].Script.DltNMinRes                  
                 [ExtraVariables].Script.DltNMinTot                  
                [PotatoHarvestRule].Script.FinalTag                  
                               Potato.Tuber.LiveFWt                  
                Potato.Tuber.DryMatterContent.Value                  

<br/>
PADDOCK.SETINTERGERCROPPARAMETER
--------------------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Plant Plant;          
        [Link] Zone zone;            
                    
        [Description("Path for coefficient to be Overwritten")]
        public string OverRidePath { get; set; }
        [Description("Value for new coefficient Interger")]
        public int OverRideInterger { get; set; }
        
        [EventSubscribe("Sowing")]
        private void OnSowing(object sender, EventArgs e)
        {
            object ResetValue = OverRideInterger;
            zone.Set(OverRidePath, ResetValue);
        }
    }
}
       
<br/>
PADDOCK.POTATOHARVESTRULE
-------------------------

        using System;
        using Models.Core;
        using Models.PMF;
        using System.Xml.Serialization;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;
               [Link] Summary Summary;
               [Description("HarvestDate Date")]
               public DateTime HarvestDate { get; set; }            
               [XmlIgnore] public string FinalTag { get; set;}
               [XmlIgnore] public bool Harvested {get; set;}
               [XmlIgnore] public bool ReadyForHarvest {get; set;}
               
               [EventSubscribe("Commencing")]
               private void OnSimulationCommencing(object sender, EventArgs e)
               {
               FinalTag = "";
               Harvested = false;
               ReadyForHarvest = false;
               }
               
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
               if (ReadyForHarvest == true)
                   {
                   Potato.Harvest();
                   ReadyForHarvest = false;
                   Harvested = true;
                   }
               FinalTag = "";    
               }
               
               [EventSubscribe("DoManagementCalculations")]
               private void OnDoManagementCalculations(object sender, EventArgs e)
               {
                if ((Clock.Today == HarvestDate)&&(Harvested == false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
                if((Potato.Phenology.Stage>=7)&&(Harvested==false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
               }
            }
        }
                
<br/>
SIMULATION LOG:
---------------


1999-10-21 paddock.Potato
    A crop of Potato (cultivar = RussetBurbank) was sown today at a population of 4.57875457875458 plants/m2 with 5 buds per plant at a row spacing of 150 and a depth of 150 mm
    


1999-10-21 paddock.Potato.Summariser
    Peeping
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


1999-11-12 paddock.Potato.Summariser
    Emergence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


1999-12-09 paddock.Irrigation
    55.0 mm of water added at depth 0
    


1999-12-11 paddock.Potato.Summariser
    TuberInitiation
      LAI = 2.46 (m^2/m^2)
      Above Ground Biomass = 153.22 (g/m^2)
    
    


1999-12-23 paddock.Irrigation
    25.0 mm of water added at depth 0
    


1999-12-30 paddock.Irrigation
    25.0 mm of water added at depth 0
    


2000-01-21 paddock.Irrigation
    38.0 mm of water added at depth 0
    


2000-02-10 paddock.Irrigation
    50.0 mm of water added at depth 0
    


2000-02-16 paddock.Irrigation
    25.0 mm of water added at depth 0
    


2000-03-01 paddock.Irrigation
    38.0 mm of water added at depth 0
    


2000-03-08 paddock.Potato.Summariser
    FinalLeaf
      LAI = 0.21 (m^2/m^2)
      Above Ground Biomass = 236.45 (g/m^2)
    
    


2000-03-31 paddock.Potato.Summariser
    FullSenescence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 236.45 (g/m^2)
    
    


2000-04-04 paddock.Potato.Summariser
    FullSenescence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 236.45 (g/m^2)
    
    Maturity
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 236.45 (g/m^2)
    
    


2000-04-04 paddock.Potato
    A crop of Potato was harvested today, Yeahhh
    


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
.PARILLASOWING17DECNITROGENHIGHN
--------------------------------
Simulation name:   ParillaSowing17DecNitrogenhighN

<br/>
WEATHER
-------
Weather file name:   Lameroo.met

<br/>
CLOCK
-----
The start date of the simulation:   2007-11-22
  The end date of the simulation:   2008-06-30

<br/>
PADDOCK.SOIL
------------
    Record number:       0
 Latitude (WGS84):   0.000
Longitude (WGS84):   0.000

<br/>
PADDOCK.SOIL.ANALYSIS
---------------------
Depth (cm)  PH (1:5 water)
      0-10             6.6
     10-30             6.2
     30-60             5.7
     60-90             5.5
    90-120             5.5
   120-150             5.5

<br/>
PADDOCK.SOIL.INITIAL WATER
--------------------------
        Fraction full:          1.000
    Depth of wet soil:            NaN
Plant available water:   102.000 (mm)

<br/>
PADDOCK.SOIL.WATER
------------------
Depth (cm)  BD (g/cc)  Air dry (mm/mm)  LL15 (mm/mm)  DUL (mm/mm)  SAT (mm/mm)
      0-10       1.20             0.03          0.06         0.16         0.25
     10-30       1.20             0.05          0.06         0.16         0.25
     30-60       1.20             0.06          0.06         0.12         0.25
     60-90       1.20             0.06          0.06         0.12         0.25
    90-120       1.20             0.06          0.06         0.12         0.25
   120-150       1.20             0.06          0.06         0.12         0.25

<br/>
PADDOCK.SOIL.WATER.POTATOSOIL
-----------------------------
potato Depth (cm)  potato LL (mm/mm)  potato PAWC (mm)  potato KL (mm/mm)  potato XF (mm/mm)
             0-10               0.06              10.0               0.10                1.0
            10-30               0.06              20.0               0.10                1.0
            30-60               0.12               0.0               0.07                1.0
            60-90               0.12               0.0               0.05                1.0
           90-120               0.12               0.0               0.05                1.0
          120-150               0.12               0.0               0.05                1.0
                                                  30.0                                      

<br/>
PADDOCK.SOIL.SOILORGANICMATTER
------------------------------
                  Root C:N ratio:     30.000
             Root Weight (kg/ha):   3000.000
                  Soil C:N ratio:     11.500
Erosion enrichment coefficient A:      7.400
Erosion enrichment coefficient B:      0.200

Depth (cm)  OC (Total %)  FBiom (0-1)  FInert (0-1)
      0-10          0.70        0.025           0.3
     10-30          0.50        0.025           0.4
     30-60          0.30        0.015          0.75
     60-90          0.30         0.01           0.9
    90-120          0.30         0.01          0.96
   120-150          0.30         0.01          0.96

<br/>
PADDOCK.SOIL.INITIAL NITROGEN
-----------------------------
Depth (cm)  NO3kgha  NH4kgha
      0-10     25.5      0.1
     10-30     45.9      0.2
     30-60      2.0      0.4
     60-90      2.0      0.4
    90-120      2.0      0.4
   120-150      2.0      0.4

<br/>
PADDOCK.SURFACE ORGANIC MATTER
------------------------------
Surface organic matter pool name:           wheat
Surface organic matter pool type:           wheat
 Mass of surface residue (kg/ha):       0 (kg/ha)
         Standing fraction (0-1):         0 (0-1)
     Carbon:Nitrogen ratio (g/g):        60 (g/g)
                  Carbon content:   0.000 (kg/ha)
                Nitrogen content:   0.000 (kg/ha)
              Phosphorus content:   0.000 (kg/ha)

<br/>
PADDOCK.POTATOHARVESTRULE
-------------------------

        using System;
        using Models.Core;
        using Models.PMF;
        using System.Xml.Serialization;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;
               [Link] Summary Summary;
               [Description("HarvestDate Date")]
               public DateTime HarvestDate { get; set; }            
               [XmlIgnore] public string FinalTag { get; set;}
               [XmlIgnore] public bool Harvested {get; set;}
               [XmlIgnore] public bool ReadyForHarvest {get; set;}
               
               [EventSubscribe("Commencing")]
               private void OnSimulationCommencing(object sender, EventArgs e)
               {
               FinalTag = "";
               Harvested = false;
               ReadyForHarvest = false;
               }
               
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
               if (ReadyForHarvest == true)
                   {
                   Potato.Harvest();
                   ReadyForHarvest = false;
                   Harvested = true;
                   }
               FinalTag = "";    
               }
               
               [EventSubscribe("DoManagementCalculations")]
               private void OnDoManagementCalculations(object sender, EventArgs e)
               {
                if ((Clock.Today == HarvestDate)&&(Harvested == false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
                if((Potato.Phenology.Stage>=7)&&(Harvested==false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
               }
            }
        }
                
<br/>
PADDOCK.MANAGER FOLDER.POTATOSOWINGRULE
---------------------------------------

        using System;
        using Models.Core;
        using Models.PMF;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;
               [Link] Fertiliser Fertiliser;
               [Description("Spacing (mm) between plants within rows")]
               public double RowSpace { get; set; }
               [Description("Spacing (mm) between rows")]
               public double RowWidth { get; set; }
               [Description("Depth (mm) tubers are planted")]
               public double PlantingDepth { get; set; }
               [Description("Number of stems per seed tuber")]
               public double StemNumberPerSeedTuber { get; set; }
               [Description("Cultivar")]
               [Display(DisplayType = DisplayAttribute.DisplayTypeEnum.CultivarName)]
               public string CultivarName { get; set; }
               [Description("Sowing Date")]
               public DateTime SowingDate { get; set; }
               [Description("Fertiliser applied at planting")]
               public double PlantingFertiliser { get; set;}
               
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
                double PlantPopulation = 1/((RowWidth/1000)*(RowSpace/1000));

                if (Clock.Today.Date == SowingDate)
                {
                    Potato.Sow(population:PlantPopulation, cultivar:CultivarName, depth:PlantingDepth, rowSpacing:150, budNumber:StemNumberPerSeedTuber);
                 }
                    
                //Potato.Sow(... Contains the following arguements:
                //Population  double  Required  Seeds sowing/m2
                //Cultivar    string  Required  "NameOfCultivar"
                //Depth       double  Optional  Depth (mm) seed sown.   Default is 100mm 
                //MaxCover    double  Optional  Proportion (0-1) of the ground row crop will cover.   Default is 1.0
                //BudNumber   double  Optional  Number of mainstems per seed sown.  Default is 1.0
                //RowSpacing  double  Optional  Spaceing (mm) between drill rows when crop is sown.  Default is 150mm
                //CropClass   string  Optional  Crop class to instantiate when crop is sown.  Default is "Plant"
               }
            }
        }
                
<br/>
PADDOCK.MANAGER FOLDER.FERTILISERRULE
-------------------------------------

        using System;
        using Models.Core;
        using Models.PMF;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Clock Clock;
               [Link] Fertiliser Fertiliser;
               [Description("N applied (kg/ha) on first fertiliser event")]
               public double Fert1 { get; set; }
               [Description("N applied (kg/ha) on 2nd fertiliser event")]
               public double Fert2 { get; set; }
               [Description("N applied (kg/ha) on 3rd fertiliser event")]
               public double Fert3 { get; set; }
               [Description("Days after sowing for first N application")]
               public double Day1 { get; set; }
               [Description("Days after sowing for second N application")]
               public double Day2 { get; set; }
               [Description("Days after sowing for third N application")]
               public double Day3 { get; set; }
                
                private double DaysAfterSowing = 0;
               
               [EventSubscribe("Sowing")]
               private void OnSowing(object sender, EventArgs e)
               {
               DaysAfterSowing = 0;
               }
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
                DaysAfterSowing += 1;
                if(DaysAfterSowing == Day1)
                 Fertiliser.Apply(Fert1, Fertiliser.Types.UreaN, 10);
               if(DaysAfterSowing == Day2)
                 Fertiliser.Apply(Fert2, Fertiliser.Types.UreaN, 10);
               if(DaysAfterSowing == Day3)
                 Fertiliser.Apply(Fert3, Fertiliser.Types.UreaN, 10);
               }
            }
        }
                
<br/>
PADDOCK.EXTRAVARIABLES
----------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.Soils;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Clock Clock;
        [Link] Soils.Soil Soil;
        [Link] Models.SurfaceOM.SurfaceOrganicMatter SOM;
        [Link] Weather Met;   
        [Link] Fertiliser Fert;
        [Link] Irrigation Irrig;  
        [Link] Plant Potato;
        [Link] Zone zone;
                    
        [XmlIgnore] public bool InitialDay { get; set; }
        
        [XmlIgnore] public double AccumPlantN { get; set; }
        [XmlIgnore] public double AccumMineralisation { get; set; }
        [XmlIgnore] public double AccumDenit { get; set; }
        [XmlIgnore] public double AccumFert { get; set; }
        [XmlIgnore] public double AccumLeach { get; set; }
        [XmlIgnore] public double AccumDetach { get; set; }
        [XmlIgnore] public double DeltaSoilOMN { get; set; }
        [XmlIgnore] public double DeltaSurfaceOMN { get; set; }
        [XmlIgnore] public double DeltaSoilMineralN { get; set; }
        [XmlIgnore] public double SoilNitrogenContent { get; set; }
        
        [XmlIgnore] public double AccumEO { get; set; }
        [XmlIgnore] public double AccumEP { get; set; }
        [XmlIgnore] public double AccumES { get; set; }
        [XmlIgnore] public double AccumDrainage { get; set; }
        [XmlIgnore] public double AccumRunoff { get; set; }
        [XmlIgnore] public double AccumOutflowLat { get; set; }
        [XmlIgnore] public double AccumIrrigation { get; set; }
        [XmlIgnore] public double AccumRainfall { get; set; }
        [XmlIgnore] public double SoilWaterDeficit { get; set; }
        
        [XmlIgnore] public double AccumTtemerg { get; set; }
        
        [XmlIgnore] public double  InitialSoilOMN { get; set; }
        [XmlIgnore] public double  InitialSurfaceOMN { get; set; }
        [XmlIgnore] public double  InitialMineralN { get; set; }
        
        [XmlIgnore] public double SWC { get; set; }
        [XmlIgnore] public double DUL { get; set; }
        [XmlIgnore] public double OutFlowLat { get; set; }

        [XmlIgnore] public double FomN { get; set; }
        [XmlIgnore] public double BiomN { get; set; }
        [XmlIgnore] public double HumN { get; set; }
        [XmlIgnore] public double OrganicN { get; set; }
        [XmlIgnore] public double NO3N { get; set; }
        [XmlIgnore] public double NH4N { get; set; }
        [XmlIgnore] public double UreaN { get; set; }
        [XmlIgnore] public double MineralN { get; set; }
        [XmlIgnore] public double DltNMinRes { get; set; }
        [XmlIgnore] public double DltNMinTot { get; set; }

        
        [EventSubscribe("Commencing")]
        private void OnSimulationCommencing(object sender, EventArgs e)
        {
            InitialDay = true;
        }       
        
        [EventSubscribe("DoManagement")]
        private void OnDoManagement(object sender, EventArgs e)
        {
            //!!!!!! Nitrogen balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!
               FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            OrganicN = FomN + HumN + BiomN;
            NO3N = Utility.Math.Sum(Soil.NO3N);
            NH4N = Utility.Math.Sum(Soil.NH4N);
            UreaN = Utility.Math.Sum(Soil.SoilNitrogen.urea);
            MineralN = NO3N + NH4N + UreaN; 
            DltNMinRes = Utility.Math.Sum(Soil.SoilNitrogen.dlt_n_min_res);
            DltNMinTot = Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            int layers = Soil.Thickness.Length;
            if (InitialDay == true)
            {
                InitialSurfaceOMN = SOM.N;
                InitialSoilOMN = OrganicN;
                InitialMineralN = MineralN;
                InitialDay = false;
            }
            AccumFert += Fert.NitrogenApplied;
            DeltaSurfaceOMN = SOM.N - InitialSurfaceOMN;
            AccumLeach = AccumLeach - Soil.SoilWater.LeachNH4 - Soil.SoilWater.LeachNO3 - Soil.SoilWater.LeachUrea; //Fails
            AccumMineralisation += Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            AccumDenit -= Utility.Math.Sum(Soil.SoilNitrogen.Denitrification);
            AccumPlantN -= (double)zone.Get("Potato.Root.NUptake");
            DeltaSoilOMN = OrganicN - InitialSoilOMN;
            DeltaSoilMineralN = MineralN - InitialMineralN;
            SoilNitrogenContent = MineralN;
            
            //!!!!!! Water balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!

            AccumIrrigation += Irrig.IrrigationApplied;
            AccumRainfall += Met.Rain;
            AccumEP -= (double)zone.Get("Potato.Leaf.Transpiration");
            SoilWaterDeficit =  (SWC - DUL);
            double OutFlowLat = Utility.Math.Sum(Soil.SoilWater.outflow_lat);
            AccumOutflowLat -= OutFlowLat;
            
            //!!!!!! Thermal time calculation !!!!!!
            //!!!!!! ^^^^^^^^^^^^^^^^^^^^^^^^ !!!!!!
            if (Potato.Phenology.Stage >= 3)
            AccumTtemerg += Potato.Phenology.ThermalTime.Value;
        }
        
        [EventSubscribe("DoManagementCalculations")]
        private void OnDoManagementCalculations(object sender, EventArgs e)
        {
            FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            
            
            AccumEO -= Soil.SoilWater.Eo;
            AccumES -= Soil.SoilWater.Es; 
            AccumDrainage -= Soil.SoilWater.Drainage;
            AccumRunoff -= Soil.SoilWater.Runoff;
            SWC = Utility.Math.Sum(Soil.SoilWater.SWmm);
            DUL = Utility.Math.Sum(Soil.SoilWater.DULmm);

        }
    }
}
       
<br/>
PADDOCK.REPORT
--------------
                                   Output variables  Output frequency
                                      [Clock].Today  [Clock].DoReport
               [ExtraVariables].Script.AccumTtemerg                  
                  Potato.Phenology.CurrentPhaseName                  
                             Potato.Phenology.Stage                  
                [ExtraVariables].Script.AccumPlantN                  
        [ExtraVariables].Script.AccumMineralisation                  
                 [ExtraVariables].Script.AccumDenit                  
                  [ExtraVariables].Script.AccumFert                  
                 [ExtraVariables].Script.AccumLeach                  
                [ExtraVariables].Script.AccumDetach                  
               [ExtraVariables].Script.DeltaSoilOMN                  
            [ExtraVariables].Script.DeltaSurfaceOMN                  
          [ExtraVariables].Script.DeltaSoilMineralN                  
                          Potato.Root.NSupplyUptake                  
                                [Soil].SoilWater.Eo                  
                                [Soil].SoilWater.Es                  
                        [ExtraVariables].Script.SWC                  
                        [ExtraVariables].Script.DUL                  
                          [Soil].SoilWater.Drainage                  
                            [Soil].SoilWater.Runoff                  
                 [ExtraVariables].Script.OutFlowLat                  
                              [Soil].SoilWater.pond                  
                    [ExtraVariables].Script.AccumEO                  
                    [ExtraVariables].Script.AccumEP                  
                    [ExtraVariables].Script.AccumES                  
              [ExtraVariables].Script.AccumDrainage                  
                [ExtraVariables].Script.AccumRunoff                  
              [ExtraVariables].Script.AccumRainfall                  
            [ExtraVariables].Script.AccumIrrigation                  
            [ExtraVariables].Script.AccumOutflowLat                  
           [ExtraVariables].Script.SoilWaterDeficit                  
                   Potato.Summariser.AboveGround.Wt                  
                   Potato.Summariser.BelowGround.Wt                  
                         Potato.Summariser.Total.Wt                  
                     Potato.Summariser.TotalDead.Wt                  
                     Potato.Summariser.TotalLive.Wt                  
                                Potato.Leaf.Dead.Wt                  
                                Potato.Leaf.Live.Wt                  
                                Potato.Stem.Dead.Wt                  
                                Potato.Stem.Live.Wt                  
                               Potato.Tuber.Dead.Wt                  
                               Potato.Tuber.Live.Wt                  
                                Potato.Root.Dead.Wt                  
                                Potato.Root.Live.Wt                  
                    Potato.Summariser.AboveGround.N                  
                    Potato.Summariser.BelowGround.N                  
                          Potato.Summariser.Total.N                  
                      Potato.Summariser.TotalLive.N                  
                      Potato.Summariser.TotalDead.N                  
                                 Potato.Leaf.Dead.N                  
                                 Potato.Leaf.Live.N                  
                                 Potato.Stem.Dead.N                  
                                 Potato.Stem.Live.N                  
                                Potato.Tuber.Dead.N                  
                                Potato.Tuber.Live.N                  
                                 Potato.Root.Live.N                  
                                 Potato.Root.Dead.N                  
                             Potato.Leaf.Live.NConc                  
                             Potato.Leaf.Dead.NConc                  
                             Potato.Stem.Live.NConc                  
                             Potato.Stem.Dead.NConc                  
                            Potato.Tuber.Live.NConc                  
                            Potato.Tuber.Dead.NConc                  
                             Potato.Root.Live.NConc                  
                             Potato.Root.Dead.NConc                  
                            Potato.Root.WaterSupply                  
                            Potato.Root.WaterUptake                  
                          Potato.Leaf.Transpiration                  
                            Potato.Leaf.WaterDemand                  
                                  Potato.Root.Depth                  
                             Potato.Leaf.CoverGreen                  
                             Potato.Leaf.CoverTotal                  
                              Potato.Leaf.CoverDead                  
                                    Potato.Leaf.LAI                  
                                Potato.Leaf.LAIDead                  
                            Potato.Structure.Height                  
                                     Potato.Leaf.Fn                  
                                     Potato.Leaf.Fw                  
                Potato.Leaf.Photosynthesis.FT.Value                  
              Potato.Leaf.Photosynthesis.FVPD.Value                  
                  Potato.Structure.PlantTotalNodeNo                  
                     Potato.Structure.TotalStemPopn                  
               Potato.Leaf.PlantAppearedGreenLeafNo                  
                      Potato.Leaf.ExpandingCohortNo                  
                       Potato.Leaf.AppearedCohortNo                  
                           Potato.Leaf.DeadCohortNo                  
                    Potato.Structure.MainStemNodeNo                  
                      Potato.Leaf.SenescingCohortNo                  
             Potato.Structure.PrimaryBudTotalNodeNo                  
Potato.Leaf.LeafCohortParameters.MinimumNConc.Value                  
                     Potato.Stem.MinimumNConc.Value                  
                    Potato.Tuber.MinimumNConc.Value                  
                     Potato.Root.MinimumNConc.Value                  
Potato.Leaf.LeafCohortParameters.MaximumNConc.Value                  
                     Potato.Stem.MaximumNConc.Value                  
                    Potato.Tuber.MaximumNConc.Value                  
                     Potato.Root.MaximumNConc.Value                  
                      Potato.Stem.Live.StructuralWt                  
                   Potato.Stem.Live.NonStructuralWt                  
                           Potato.Leaf.SpecificArea                  
                       Potato.Leaf.ExpandedCohortNo                  
                              [Soil].SoilWater.SWmm                  
                                        [Soil].NO3N                  
        [ExtraVariables].Script.SoilNitrogenContent                  
                          Potato.Arbitrator.NDemand                  
                            [MicroClimate].net_radn                  
                                [MicroClimate].peta                  
                                [MicroClimate].petr                  
                       [ExtraVariables].Script.FomN                  
                       [ExtraVariables].Script.HumN                  
                      [ExtraVariables].Script.BiomN                  
                 [ExtraVariables].Script.DltNMinRes                  
                 [ExtraVariables].Script.DltNMinTot                  
                [PotatoHarvestRule].Script.FinalTag                  
                               Potato.Tuber.LiveFWt                  
                Potato.Tuber.DryMatterContent.Value                  

<br/>
PADDOCK.SETINTERGERCROPPARAMETER
--------------------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Plant Plant;          
        [Link] Zone zone;            
                    
        [Description("Path for coefficient to be Overwritten")]
        public string OverRidePath { get; set; }
        [Description("Value for new coefficient Interger")]
        public int OverRideInterger { get; set; }
        
        [EventSubscribe("Sowing")]
        private void OnSowing(object sender, EventArgs e)
        {
            object ResetValue = OverRideInterger;
            zone.Set(OverRidePath, ResetValue);
        }
    }
}
       
<br/>
SIMULATION LOG:
---------------


2007-11-23 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-24 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-26 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-27 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-29 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-02 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-05 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-08 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-09 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-10 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-11 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-12 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-13 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-14 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-16 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-17 paddock.Potato
    A crop of Potato (cultivar = Coliban) was sown today at a population of 4.63821892393321 plants/m2 with 2.4 buds per plant at a row spacing of 150 and a depth of 170 mm
    


2007-12-17 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-17 paddock.Potato.Summariser
    Peeping
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


2007-12-18 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-19 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-20 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-21 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-22 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-23 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-24 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-26 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-27 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-29 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-30 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-31 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-02 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-05 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-08 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-09 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-10 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-11 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-12 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-13 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-13 paddock.Fertiliser
    75 kg/ha of UreaN added at depth 10 layer 1
    


2008-01-14 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-15 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-15 paddock.Potato.Summariser
    Emergence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


2008-01-16 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-17 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-18 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-20 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-21 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-22 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-23 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-24 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-26 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-27 paddock.Fertiliser
    44 kg/ha of UreaN added at depth 10 layer 1
    


2008-01-27 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-28 paddock.Fertiliser
    75 kg/ha of UreaN added at depth 10 layer 1
    


2008-01-29 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-30 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-31 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-02 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-05 paddock.Fertiliser
    44 kg/ha of UreaN added at depth 10 layer 1
    


2008-02-05 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-08 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-09 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-10 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-10 paddock.Potato.Summariser
    TuberInitiation
      LAI = 1.19 (m^2/m^2)
      Above Ground Biomass = 75.56 (g/m^2)
    
    


2008-02-11 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-12 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-12 paddock.Fertiliser
    50 kg/ha of UreaN added at depth 10 layer 1
    


2008-02-13 paddock.Fertiliser
    40 kg/ha of UreaN added at depth 10 layer 1
    


2008-02-13 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-14 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-15 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-16 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-17 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-18 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-19 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-20 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-21 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-22 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-23 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-24 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-26 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-27 paddock.Fertiliser
    40 kg/ha of UreaN added at depth 10 layer 1
    


2008-02-27 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-29 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-02 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-05 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-06 paddock.Fertiliser
    40 kg/ha of UreaN added at depth 10 layer 1
    


2008-03-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-08 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-09 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-10 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-11 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-12 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-13 paddock.Fertiliser
    40 kg/ha of UreaN added at depth 10 layer 1
    


2008-03-13 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-14 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-15 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-16 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-17 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-18 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-19 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-20 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-21 paddock.Fertiliser
    40 kg/ha of UreaN added at depth 10 layer 1
    


2008-03-22 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-23 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-26 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-29 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-31 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-09 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-10 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-12 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-13 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-15 paddock.Potato.Summariser
    TuberInitiation
      LAI = 1.67 (m^2/m^2)
      Above Ground Biomass = 180.62 (g/m^2)
    
    Maturity
      LAI = 1.67 (m^2/m^2)
      Above Ground Biomass = 180.62 (g/m^2)
    
    


2008-04-15 paddock.Potato
    A crop of Potato was harvested today, Yeahhh
    


2008-04-15 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-16 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-18 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-19 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-21 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-22 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-24 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-27 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-30 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-05-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-05-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-05-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-05-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-05-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


############################################################################
.PARILLASOWING17DECNITROGENLOWN
-------------------------------
Simulation name:   ParillaSowing17DecNitrogenlowN

<br/>
WEATHER
-------
Weather file name:   Lameroo.met

<br/>
CLOCK
-----
The start date of the simulation:   2007-11-22
  The end date of the simulation:   2008-06-30

<br/>
PADDOCK.SOIL
------------
    Record number:       0
 Latitude (WGS84):   0.000
Longitude (WGS84):   0.000

<br/>
PADDOCK.SOIL.ANALYSIS
---------------------
Depth (cm)  PH (1:5 water)
      0-10             6.6
     10-30             6.2
     30-60             5.7
     60-90             5.5
    90-120             5.5
   120-150             5.5

<br/>
PADDOCK.SOIL.INITIAL WATER
--------------------------
        Fraction full:          1.000
    Depth of wet soil:            NaN
Plant available water:   102.000 (mm)

<br/>
PADDOCK.SOIL.WATER
------------------
Depth (cm)  BD (g/cc)  Air dry (mm/mm)  LL15 (mm/mm)  DUL (mm/mm)  SAT (mm/mm)
      0-10       1.20             0.03          0.06         0.16         0.25
     10-30       1.20             0.05          0.06         0.16         0.25
     30-60       1.20             0.06          0.06         0.12         0.25
     60-90       1.20             0.06          0.06         0.12         0.25
    90-120       1.20             0.06          0.06         0.12         0.25
   120-150       1.20             0.06          0.06         0.12         0.25

<br/>
PADDOCK.SOIL.WATER.POTATOSOIL
-----------------------------
potato Depth (cm)  potato LL (mm/mm)  potato PAWC (mm)  potato KL (mm/mm)  potato XF (mm/mm)
             0-10               0.06              10.0               0.10                1.0
            10-30               0.06              20.0               0.10                1.0
            30-60               0.12               0.0               0.07                1.0
            60-90               0.12               0.0               0.05                1.0
           90-120               0.12               0.0               0.05                1.0
          120-150               0.12               0.0               0.05                1.0
                                                  30.0                                      

<br/>
PADDOCK.SOIL.SOILORGANICMATTER
------------------------------
                  Root C:N ratio:     30.000
             Root Weight (kg/ha):   3000.000
                  Soil C:N ratio:     11.500
Erosion enrichment coefficient A:      7.400
Erosion enrichment coefficient B:      0.200

Depth (cm)  OC (Total %)  FBiom (0-1)  FInert (0-1)
      0-10          0.70        0.025           0.3
     10-30          0.50        0.025           0.4
     30-60          0.30        0.015          0.75
     60-90          0.30         0.01           0.9
    90-120          0.30         0.01          0.96
   120-150          0.30         0.01          0.96

<br/>
PADDOCK.SOIL.INITIAL NITROGEN
-----------------------------
Depth (cm)  NO3kgha  NH4kgha
      0-10     25.5      0.1
     10-30     45.9      0.2
     30-60      2.0      0.4
     60-90      2.0      0.4
    90-120      2.0      0.4
   120-150      2.0      0.4

<br/>
PADDOCK.SURFACE ORGANIC MATTER
------------------------------
Surface organic matter pool name:           wheat
Surface organic matter pool type:           wheat
 Mass of surface residue (kg/ha):       0 (kg/ha)
         Standing fraction (0-1):         0 (0-1)
     Carbon:Nitrogen ratio (g/g):        60 (g/g)
                  Carbon content:   0.000 (kg/ha)
                Nitrogen content:   0.000 (kg/ha)
              Phosphorus content:   0.000 (kg/ha)

<br/>
PADDOCK.POTATOHARVESTRULE
-------------------------

        using System;
        using Models.Core;
        using Models.PMF;
        using System.Xml.Serialization;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;
               [Link] Summary Summary;
               [Description("HarvestDate Date")]
               public DateTime HarvestDate { get; set; }            
               [XmlIgnore] public string FinalTag { get; set;}
               [XmlIgnore] public bool Harvested {get; set;}
               [XmlIgnore] public bool ReadyForHarvest {get; set;}
               
               [EventSubscribe("Commencing")]
               private void OnSimulationCommencing(object sender, EventArgs e)
               {
               FinalTag = "";
               Harvested = false;
               ReadyForHarvest = false;
               }
               
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
               if (ReadyForHarvest == true)
                   {
                   Potato.Harvest();
                   ReadyForHarvest = false;
                   Harvested = true;
                   }
               FinalTag = "";    
               }
               
               [EventSubscribe("DoManagementCalculations")]
               private void OnDoManagementCalculations(object sender, EventArgs e)
               {
                if ((Clock.Today == HarvestDate)&&(Harvested == false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
                if((Potato.Phenology.Stage>=7)&&(Harvested==false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
               }
            }
        }
                
<br/>
PADDOCK.MANAGER FOLDER.POTATOSOWINGRULE
---------------------------------------

        using System;
        using Models.Core;
        using Models.PMF;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;
               [Link] Fertiliser Fertiliser;
               [Description("Spacing (mm) between plants within rows")]
               public double RowSpace { get; set; }
               [Description("Spacing (mm) between rows")]
               public double RowWidth { get; set; }
               [Description("Depth (mm) tubers are planted")]
               public double PlantingDepth { get; set; }
               [Description("Number of stems per seed tuber")]
               public double StemNumberPerSeedTuber { get; set; }
               [Description("Cultivar")]
               [Display(DisplayType = DisplayAttribute.DisplayTypeEnum.CultivarName)]
               public string CultivarName { get; set; }
               [Description("Sowing Date")]
               public DateTime SowingDate { get; set; }
               [Description("Fertiliser applied at planting")]
               public double PlantingFertiliser { get; set;}
               
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
                double PlantPopulation = 1/((RowWidth/1000)*(RowSpace/1000));

                if (Clock.Today.Date == SowingDate)
                {
                    Potato.Sow(population:PlantPopulation, cultivar:CultivarName, depth:PlantingDepth, rowSpacing:150, budNumber:StemNumberPerSeedTuber);
                 }
                    
                //Potato.Sow(... Contains the following arguements:
                //Population  double  Required  Seeds sowing/m2
                //Cultivar    string  Required  "NameOfCultivar"
                //Depth       double  Optional  Depth (mm) seed sown.   Default is 100mm 
                //MaxCover    double  Optional  Proportion (0-1) of the ground row crop will cover.   Default is 1.0
                //BudNumber   double  Optional  Number of mainstems per seed sown.  Default is 1.0
                //RowSpacing  double  Optional  Spaceing (mm) between drill rows when crop is sown.  Default is 150mm
                //CropClass   string  Optional  Crop class to instantiate when crop is sown.  Default is "Plant"
               }
            }
        }
                
<br/>
PADDOCK.MANAGER FOLDER.FERTILISERRULE
-------------------------------------

        using System;
        using Models.Core;
        using Models.PMF;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Clock Clock;
               [Link] Fertiliser Fertiliser;
               [Description("N applied (kg/ha) on first fertiliser event")]
               public double Fert1 { get; set; }
               [Description("N applied (kg/ha) on 2nd fertiliser event")]
               public double Fert2 { get; set; }
               [Description("N applied (kg/ha) on 3rd fertiliser event")]
               public double Fert3 { get; set; }
               [Description("Days after sowing for first N application")]
               public double Day1 { get; set; }
               [Description("Days after sowing for second N application")]
               public double Day2 { get; set; }
               [Description("Days after sowing for third N application")]
               public double Day3 { get; set; }
                
                private double DaysAfterSowing = 0;
               
               [EventSubscribe("Sowing")]
               private void OnSowing(object sender, EventArgs e)
               {
               DaysAfterSowing = 0;
               }
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
                DaysAfterSowing += 1;
                if(DaysAfterSowing == Day1)
                 Fertiliser.Apply(Fert1, Fertiliser.Types.UreaN, 10);
               if(DaysAfterSowing == Day2)
                 Fertiliser.Apply(Fert2, Fertiliser.Types.UreaN, 10);
               if(DaysAfterSowing == Day3)
                 Fertiliser.Apply(Fert3, Fertiliser.Types.UreaN, 10);
               }
            }
        }
                
<br/>
PADDOCK.EXTRAVARIABLES
----------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.Soils;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Clock Clock;
        [Link] Soils.Soil Soil;
        [Link] Models.SurfaceOM.SurfaceOrganicMatter SOM;
        [Link] Weather Met;   
        [Link] Fertiliser Fert;
        [Link] Irrigation Irrig;  
        [Link] Plant Potato;
        [Link] Zone zone;
                    
        [XmlIgnore] public bool InitialDay { get; set; }
        
        [XmlIgnore] public double AccumPlantN { get; set; }
        [XmlIgnore] public double AccumMineralisation { get; set; }
        [XmlIgnore] public double AccumDenit { get; set; }
        [XmlIgnore] public double AccumFert { get; set; }
        [XmlIgnore] public double AccumLeach { get; set; }
        [XmlIgnore] public double AccumDetach { get; set; }
        [XmlIgnore] public double DeltaSoilOMN { get; set; }
        [XmlIgnore] public double DeltaSurfaceOMN { get; set; }
        [XmlIgnore] public double DeltaSoilMineralN { get; set; }
        [XmlIgnore] public double SoilNitrogenContent { get; set; }
        
        [XmlIgnore] public double AccumEO { get; set; }
        [XmlIgnore] public double AccumEP { get; set; }
        [XmlIgnore] public double AccumES { get; set; }
        [XmlIgnore] public double AccumDrainage { get; set; }
        [XmlIgnore] public double AccumRunoff { get; set; }
        [XmlIgnore] public double AccumOutflowLat { get; set; }
        [XmlIgnore] public double AccumIrrigation { get; set; }
        [XmlIgnore] public double AccumRainfall { get; set; }
        [XmlIgnore] public double SoilWaterDeficit { get; set; }
        
        [XmlIgnore] public double AccumTtemerg { get; set; }
        
        [XmlIgnore] public double  InitialSoilOMN { get; set; }
        [XmlIgnore] public double  InitialSurfaceOMN { get; set; }
        [XmlIgnore] public double  InitialMineralN { get; set; }
        
        [XmlIgnore] public double SWC { get; set; }
        [XmlIgnore] public double DUL { get; set; }
        [XmlIgnore] public double OutFlowLat { get; set; }

        [XmlIgnore] public double FomN { get; set; }
        [XmlIgnore] public double BiomN { get; set; }
        [XmlIgnore] public double HumN { get; set; }
        [XmlIgnore] public double OrganicN { get; set; }
        [XmlIgnore] public double NO3N { get; set; }
        [XmlIgnore] public double NH4N { get; set; }
        [XmlIgnore] public double UreaN { get; set; }
        [XmlIgnore] public double MineralN { get; set; }
        [XmlIgnore] public double DltNMinRes { get; set; }
        [XmlIgnore] public double DltNMinTot { get; set; }

        
        [EventSubscribe("Commencing")]
        private void OnSimulationCommencing(object sender, EventArgs e)
        {
            InitialDay = true;
        }       
        
        [EventSubscribe("DoManagement")]
        private void OnDoManagement(object sender, EventArgs e)
        {
            //!!!!!! Nitrogen balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!
               FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            OrganicN = FomN + HumN + BiomN;
            NO3N = Utility.Math.Sum(Soil.NO3N);
            NH4N = Utility.Math.Sum(Soil.NH4N);
            UreaN = Utility.Math.Sum(Soil.SoilNitrogen.urea);
            MineralN = NO3N + NH4N + UreaN; 
            DltNMinRes = Utility.Math.Sum(Soil.SoilNitrogen.dlt_n_min_res);
            DltNMinTot = Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            int layers = Soil.Thickness.Length;
            if (InitialDay == true)
            {
                InitialSurfaceOMN = SOM.N;
                InitialSoilOMN = OrganicN;
                InitialMineralN = MineralN;
                InitialDay = false;
            }
            AccumFert += Fert.NitrogenApplied;
            DeltaSurfaceOMN = SOM.N - InitialSurfaceOMN;
            AccumLeach = AccumLeach - Soil.SoilWater.LeachNH4 - Soil.SoilWater.LeachNO3 - Soil.SoilWater.LeachUrea; //Fails
            AccumMineralisation += Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            AccumDenit -= Utility.Math.Sum(Soil.SoilNitrogen.Denitrification);
            AccumPlantN -= (double)zone.Get("Potato.Root.NUptake");
            DeltaSoilOMN = OrganicN - InitialSoilOMN;
            DeltaSoilMineralN = MineralN - InitialMineralN;
            SoilNitrogenContent = MineralN;
            
            //!!!!!! Water balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!

            AccumIrrigation += Irrig.IrrigationApplied;
            AccumRainfall += Met.Rain;
            AccumEP -= (double)zone.Get("Potato.Leaf.Transpiration");
            SoilWaterDeficit =  (SWC - DUL);
            double OutFlowLat = Utility.Math.Sum(Soil.SoilWater.outflow_lat);
            AccumOutflowLat -= OutFlowLat;
            
            //!!!!!! Thermal time calculation !!!!!!
            //!!!!!! ^^^^^^^^^^^^^^^^^^^^^^^^ !!!!!!
            if (Potato.Phenology.Stage >= 3)
            AccumTtemerg += Potato.Phenology.ThermalTime.Value;
        }
        
        [EventSubscribe("DoManagementCalculations")]
        private void OnDoManagementCalculations(object sender, EventArgs e)
        {
            FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            
            
            AccumEO -= Soil.SoilWater.Eo;
            AccumES -= Soil.SoilWater.Es; 
            AccumDrainage -= Soil.SoilWater.Drainage;
            AccumRunoff -= Soil.SoilWater.Runoff;
            SWC = Utility.Math.Sum(Soil.SoilWater.SWmm);
            DUL = Utility.Math.Sum(Soil.SoilWater.DULmm);

        }
    }
}
       
<br/>
PADDOCK.REPORT
--------------
                                   Output variables  Output frequency
                                      [Clock].Today  [Clock].DoReport
               [ExtraVariables].Script.AccumTtemerg                  
                  Potato.Phenology.CurrentPhaseName                  
                             Potato.Phenology.Stage                  
                [ExtraVariables].Script.AccumPlantN                  
        [ExtraVariables].Script.AccumMineralisation                  
                 [ExtraVariables].Script.AccumDenit                  
                  [ExtraVariables].Script.AccumFert                  
                 [ExtraVariables].Script.AccumLeach                  
                [ExtraVariables].Script.AccumDetach                  
               [ExtraVariables].Script.DeltaSoilOMN                  
            [ExtraVariables].Script.DeltaSurfaceOMN                  
          [ExtraVariables].Script.DeltaSoilMineralN                  
                          Potato.Root.NSupplyUptake                  
                                [Soil].SoilWater.Eo                  
                                [Soil].SoilWater.Es                  
                        [ExtraVariables].Script.SWC                  
                        [ExtraVariables].Script.DUL                  
                          [Soil].SoilWater.Drainage                  
                            [Soil].SoilWater.Runoff                  
                 [ExtraVariables].Script.OutFlowLat                  
                              [Soil].SoilWater.pond                  
                    [ExtraVariables].Script.AccumEO                  
                    [ExtraVariables].Script.AccumEP                  
                    [ExtraVariables].Script.AccumES                  
              [ExtraVariables].Script.AccumDrainage                  
                [ExtraVariables].Script.AccumRunoff                  
              [ExtraVariables].Script.AccumRainfall                  
            [ExtraVariables].Script.AccumIrrigation                  
            [ExtraVariables].Script.AccumOutflowLat                  
           [ExtraVariables].Script.SoilWaterDeficit                  
                   Potato.Summariser.AboveGround.Wt                  
                   Potato.Summariser.BelowGround.Wt                  
                         Potato.Summariser.Total.Wt                  
                     Potato.Summariser.TotalDead.Wt                  
                     Potato.Summariser.TotalLive.Wt                  
                                Potato.Leaf.Dead.Wt                  
                                Potato.Leaf.Live.Wt                  
                                Potato.Stem.Dead.Wt                  
                                Potato.Stem.Live.Wt                  
                               Potato.Tuber.Dead.Wt                  
                               Potato.Tuber.Live.Wt                  
                                Potato.Root.Dead.Wt                  
                                Potato.Root.Live.Wt                  
                    Potato.Summariser.AboveGround.N                  
                    Potato.Summariser.BelowGround.N                  
                          Potato.Summariser.Total.N                  
                      Potato.Summariser.TotalLive.N                  
                      Potato.Summariser.TotalDead.N                  
                                 Potato.Leaf.Dead.N                  
                                 Potato.Leaf.Live.N                  
                                 Potato.Stem.Dead.N                  
                                 Potato.Stem.Live.N                  
                                Potato.Tuber.Dead.N                  
                                Potato.Tuber.Live.N                  
                                 Potato.Root.Live.N                  
                                 Potato.Root.Dead.N                  
                             Potato.Leaf.Live.NConc                  
                             Potato.Leaf.Dead.NConc                  
                             Potato.Stem.Live.NConc                  
                             Potato.Stem.Dead.NConc                  
                            Potato.Tuber.Live.NConc                  
                            Potato.Tuber.Dead.NConc                  
                             Potato.Root.Live.NConc                  
                             Potato.Root.Dead.NConc                  
                            Potato.Root.WaterSupply                  
                            Potato.Root.WaterUptake                  
                          Potato.Leaf.Transpiration                  
                            Potato.Leaf.WaterDemand                  
                                  Potato.Root.Depth                  
                             Potato.Leaf.CoverGreen                  
                             Potato.Leaf.CoverTotal                  
                              Potato.Leaf.CoverDead                  
                                    Potato.Leaf.LAI                  
                                Potato.Leaf.LAIDead                  
                            Potato.Structure.Height                  
                                     Potato.Leaf.Fn                  
                                     Potato.Leaf.Fw                  
                Potato.Leaf.Photosynthesis.FT.Value                  
              Potato.Leaf.Photosynthesis.FVPD.Value                  
                  Potato.Structure.PlantTotalNodeNo                  
                     Potato.Structure.TotalStemPopn                  
               Potato.Leaf.PlantAppearedGreenLeafNo                  
                      Potato.Leaf.ExpandingCohortNo                  
                       Potato.Leaf.AppearedCohortNo                  
                           Potato.Leaf.DeadCohortNo                  
                    Potato.Structure.MainStemNodeNo                  
                      Potato.Leaf.SenescingCohortNo                  
             Potato.Structure.PrimaryBudTotalNodeNo                  
Potato.Leaf.LeafCohortParameters.MinimumNConc.Value                  
                     Potato.Stem.MinimumNConc.Value                  
                    Potato.Tuber.MinimumNConc.Value                  
                     Potato.Root.MinimumNConc.Value                  
Potato.Leaf.LeafCohortParameters.MaximumNConc.Value                  
                     Potato.Stem.MaximumNConc.Value                  
                    Potato.Tuber.MaximumNConc.Value                  
                     Potato.Root.MaximumNConc.Value                  
                      Potato.Stem.Live.StructuralWt                  
                   Potato.Stem.Live.NonStructuralWt                  
                           Potato.Leaf.SpecificArea                  
                       Potato.Leaf.ExpandedCohortNo                  
                              [Soil].SoilWater.SWmm                  
                                        [Soil].NO3N                  
        [ExtraVariables].Script.SoilNitrogenContent                  
                          Potato.Arbitrator.NDemand                  
                            [MicroClimate].net_radn                  
                                [MicroClimate].peta                  
                                [MicroClimate].petr                  
                       [ExtraVariables].Script.FomN                  
                       [ExtraVariables].Script.HumN                  
                      [ExtraVariables].Script.BiomN                  
                 [ExtraVariables].Script.DltNMinRes                  
                 [ExtraVariables].Script.DltNMinTot                  
                [PotatoHarvestRule].Script.FinalTag                  
                               Potato.Tuber.LiveFWt                  
                Potato.Tuber.DryMatterContent.Value                  

<br/>
PADDOCK.SETINTERGERCROPPARAMETER
--------------------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Plant Plant;          
        [Link] Zone zone;            
                    
        [Description("Path for coefficient to be Overwritten")]
        public string OverRidePath { get; set; }
        [Description("Value for new coefficient Interger")]
        public int OverRideInterger { get; set; }
        
        [EventSubscribe("Sowing")]
        private void OnSowing(object sender, EventArgs e)
        {
            object ResetValue = OverRideInterger;
            zone.Set(OverRidePath, ResetValue);
        }
    }
}
       
<br/>
SIMULATION LOG:
---------------


2007-11-23 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-24 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-26 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-27 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-29 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-02 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-05 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-08 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-09 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-10 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-11 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-12 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-13 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-14 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-16 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-17 paddock.Potato
    A crop of Potato (cultivar = Coliban) was sown today at a population of 4.63821892393321 plants/m2 with 2.4 buds per plant at a row spacing of 150 and a depth of 170 mm
    


2007-12-17 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-17 paddock.Potato.Summariser
    Peeping
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


2007-12-18 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-19 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-20 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-21 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-22 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-23 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-24 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-26 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-27 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-29 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-30 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-31 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-02 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-05 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-08 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-09 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-10 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-11 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-12 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-13 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-14 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-15 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-15 paddock.Potato.Summariser
    Emergence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


2008-01-16 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-17 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-18 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-20 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-21 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-22 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-23 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-24 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-26 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-27 paddock.Fertiliser
    44 kg/ha of UreaN added at depth 10 layer 1
    


2008-01-27 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-29 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-30 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-31 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-02 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-05 paddock.Fertiliser
    44 kg/ha of UreaN added at depth 10 layer 1
    


2008-02-05 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-08 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-09 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-10 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-10 paddock.Potato.Summariser
    TuberInitiation
      LAI = 1.14 (m^2/m^2)
      Above Ground Biomass = 70.00 (g/m^2)
    
    


2008-02-11 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-12 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-13 paddock.Fertiliser
    40 kg/ha of UreaN added at depth 10 layer 1
    


2008-02-13 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-14 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-15 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-16 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-17 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-18 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-19 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-20 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-21 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-22 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-23 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-24 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-26 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-27 paddock.Fertiliser
    40 kg/ha of UreaN added at depth 10 layer 1
    


2008-02-27 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-29 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-02 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-05 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-06 paddock.Fertiliser
    40 kg/ha of UreaN added at depth 10 layer 1
    


2008-03-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-08 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-09 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-10 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-11 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-12 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-13 paddock.Fertiliser
    40 kg/ha of UreaN added at depth 10 layer 1
    


2008-03-13 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-14 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-15 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-16 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-17 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-18 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-19 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-20 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-21 paddock.Fertiliser
    40 kg/ha of UreaN added at depth 10 layer 1
    


2008-03-22 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-23 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-26 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-29 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-31 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-09 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-10 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-12 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-13 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-15 paddock.Potato.Summariser
    TuberInitiation
      LAI = 1.70 (m^2/m^2)
      Above Ground Biomass = 176.51 (g/m^2)
    
    Maturity
      LAI = 1.70 (m^2/m^2)
      Above Ground Biomass = 176.51 (g/m^2)
    
    


2008-04-15 paddock.Potato
    A crop of Potato was harvested today, Yeahhh
    


2008-04-15 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-16 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-18 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-19 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-21 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-22 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-24 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-27 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-30 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-05-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-05-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-05-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-05-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-05-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


############################################################################
.PARILLASOWING17DECNITROGENMEDN
-------------------------------
Simulation name:   ParillaSowing17DecNitrogenmedN

<br/>
WEATHER
-------
Weather file name:   Lameroo.met

<br/>
CLOCK
-----
The start date of the simulation:   2007-11-22
  The end date of the simulation:   2008-06-30

<br/>
PADDOCK.SOIL
------------
    Record number:       0
 Latitude (WGS84):   0.000
Longitude (WGS84):   0.000

<br/>
PADDOCK.SOIL.ANALYSIS
---------------------
Depth (cm)  PH (1:5 water)
      0-10             6.6
     10-30             6.2
     30-60             5.7
     60-90             5.5
    90-120             5.5
   120-150             5.5

<br/>
PADDOCK.SOIL.INITIAL WATER
--------------------------
        Fraction full:          1.000
    Depth of wet soil:            NaN
Plant available water:   102.000 (mm)

<br/>
PADDOCK.SOIL.WATER
------------------
Depth (cm)  BD (g/cc)  Air dry (mm/mm)  LL15 (mm/mm)  DUL (mm/mm)  SAT (mm/mm)
      0-10       1.20             0.03          0.06         0.16         0.25
     10-30       1.20             0.05          0.06         0.16         0.25
     30-60       1.20             0.06          0.06         0.12         0.25
     60-90       1.20             0.06          0.06         0.12         0.25
    90-120       1.20             0.06          0.06         0.12         0.25
   120-150       1.20             0.06          0.06         0.12         0.25

<br/>
PADDOCK.SOIL.WATER.POTATOSOIL
-----------------------------
potato Depth (cm)  potato LL (mm/mm)  potato PAWC (mm)  potato KL (mm/mm)  potato XF (mm/mm)
             0-10               0.06              10.0               0.10                1.0
            10-30               0.06              20.0               0.10                1.0
            30-60               0.12               0.0               0.07                1.0
            60-90               0.12               0.0               0.05                1.0
           90-120               0.12               0.0               0.05                1.0
          120-150               0.12               0.0               0.05                1.0
                                                  30.0                                      

<br/>
PADDOCK.SOIL.SOILORGANICMATTER
------------------------------
                  Root C:N ratio:     30.000
             Root Weight (kg/ha):   3000.000
                  Soil C:N ratio:     11.500
Erosion enrichment coefficient A:      7.400
Erosion enrichment coefficient B:      0.200

Depth (cm)  OC (Total %)  FBiom (0-1)  FInert (0-1)
      0-10          0.70        0.025           0.3
     10-30          0.50        0.025           0.4
     30-60          0.30        0.015          0.75
     60-90          0.30         0.01           0.9
    90-120          0.30         0.01          0.96
   120-150          0.30         0.01          0.96

<br/>
PADDOCK.SOIL.INITIAL NITROGEN
-----------------------------
Depth (cm)  NO3kgha  NH4kgha
      0-10     25.5      0.1
     10-30     45.9      0.2
     30-60      2.0      0.4
     60-90      2.0      0.4
    90-120      2.0      0.4
   120-150      2.0      0.4

<br/>
PADDOCK.SURFACE ORGANIC MATTER
------------------------------
Surface organic matter pool name:           wheat
Surface organic matter pool type:           wheat
 Mass of surface residue (kg/ha):       0 (kg/ha)
         Standing fraction (0-1):         0 (0-1)
     Carbon:Nitrogen ratio (g/g):        60 (g/g)
                  Carbon content:   0.000 (kg/ha)
                Nitrogen content:   0.000 (kg/ha)
              Phosphorus content:   0.000 (kg/ha)

<br/>
PADDOCK.POTATOHARVESTRULE
-------------------------

        using System;
        using Models.Core;
        using Models.PMF;
        using System.Xml.Serialization;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;
               [Link] Summary Summary;
               [Description("HarvestDate Date")]
               public DateTime HarvestDate { get; set; }            
               [XmlIgnore] public string FinalTag { get; set;}
               [XmlIgnore] public bool Harvested {get; set;}
               [XmlIgnore] public bool ReadyForHarvest {get; set;}
               
               [EventSubscribe("Commencing")]
               private void OnSimulationCommencing(object sender, EventArgs e)
               {
               FinalTag = "";
               Harvested = false;
               ReadyForHarvest = false;
               }
               
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
               if (ReadyForHarvest == true)
                   {
                   Potato.Harvest();
                   ReadyForHarvest = false;
                   Harvested = true;
                   }
               FinalTag = "";    
               }
               
               [EventSubscribe("DoManagementCalculations")]
               private void OnDoManagementCalculations(object sender, EventArgs e)
               {
                if ((Clock.Today == HarvestDate)&&(Harvested == false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
                if((Potato.Phenology.Stage>=7)&&(Harvested==false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
               }
            }
        }
                
<br/>
PADDOCK.MANAGER FOLDER.POTATOSOWINGRULE
---------------------------------------

        using System;
        using Models.Core;
        using Models.PMF;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;
               [Link] Fertiliser Fertiliser;
               [Description("Spacing (mm) between plants within rows")]
               public double RowSpace { get; set; }
               [Description("Spacing (mm) between rows")]
               public double RowWidth { get; set; }
               [Description("Depth (mm) tubers are planted")]
               public double PlantingDepth { get; set; }
               [Description("Number of stems per seed tuber")]
               public double StemNumberPerSeedTuber { get; set; }
               [Description("Cultivar")]
               [Display(DisplayType = DisplayAttribute.DisplayTypeEnum.CultivarName)]
               public string CultivarName { get; set; }
               [Description("Sowing Date")]
               public DateTime SowingDate { get; set; }
               [Description("Fertiliser applied at planting")]
               public double PlantingFertiliser { get; set;}
               
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
                double PlantPopulation = 1/((RowWidth/1000)*(RowSpace/1000));

                if (Clock.Today.Date == SowingDate)
                {
                    Potato.Sow(population:PlantPopulation, cultivar:CultivarName, depth:PlantingDepth, rowSpacing:150, budNumber:StemNumberPerSeedTuber);
                 }
                    
                //Potato.Sow(... Contains the following arguements:
                //Population  double  Required  Seeds sowing/m2
                //Cultivar    string  Required  "NameOfCultivar"
                //Depth       double  Optional  Depth (mm) seed sown.   Default is 100mm 
                //MaxCover    double  Optional  Proportion (0-1) of the ground row crop will cover.   Default is 1.0
                //BudNumber   double  Optional  Number of mainstems per seed sown.  Default is 1.0
                //RowSpacing  double  Optional  Spaceing (mm) between drill rows when crop is sown.  Default is 150mm
                //CropClass   string  Optional  Crop class to instantiate when crop is sown.  Default is "Plant"
               }
            }
        }
                
<br/>
PADDOCK.MANAGER FOLDER.FERTILISERRULE
-------------------------------------

        using System;
        using Models.Core;
        using Models.PMF;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Clock Clock;
               [Link] Fertiliser Fertiliser;
               [Description("N applied (kg/ha) on first fertiliser event")]
               public double Fert1 { get; set; }
               [Description("N applied (kg/ha) on 2nd fertiliser event")]
               public double Fert2 { get; set; }
               [Description("N applied (kg/ha) on 3rd fertiliser event")]
               public double Fert3 { get; set; }
               [Description("Days after sowing for first N application")]
               public double Day1 { get; set; }
               [Description("Days after sowing for second N application")]
               public double Day2 { get; set; }
               [Description("Days after sowing for third N application")]
               public double Day3 { get; set; }
                
                private double DaysAfterSowing = 0;
               
               [EventSubscribe("Sowing")]
               private void OnSowing(object sender, EventArgs e)
               {
               DaysAfterSowing = 0;
               }
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
                DaysAfterSowing += 1;
                if(DaysAfterSowing == Day1)
                 Fertiliser.Apply(Fert1, Fertiliser.Types.UreaN, 10);
               if(DaysAfterSowing == Day2)
                 Fertiliser.Apply(Fert2, Fertiliser.Types.UreaN, 10);
               if(DaysAfterSowing == Day3)
                 Fertiliser.Apply(Fert3, Fertiliser.Types.UreaN, 10);
               }
            }
        }
                
<br/>
PADDOCK.EXTRAVARIABLES
----------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.Soils;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Clock Clock;
        [Link] Soils.Soil Soil;
        [Link] Models.SurfaceOM.SurfaceOrganicMatter SOM;
        [Link] Weather Met;   
        [Link] Fertiliser Fert;
        [Link] Irrigation Irrig;  
        [Link] Plant Potato;
        [Link] Zone zone;
                    
        [XmlIgnore] public bool InitialDay { get; set; }
        
        [XmlIgnore] public double AccumPlantN { get; set; }
        [XmlIgnore] public double AccumMineralisation { get; set; }
        [XmlIgnore] public double AccumDenit { get; set; }
        [XmlIgnore] public double AccumFert { get; set; }
        [XmlIgnore] public double AccumLeach { get; set; }
        [XmlIgnore] public double AccumDetach { get; set; }
        [XmlIgnore] public double DeltaSoilOMN { get; set; }
        [XmlIgnore] public double DeltaSurfaceOMN { get; set; }
        [XmlIgnore] public double DeltaSoilMineralN { get; set; }
        [XmlIgnore] public double SoilNitrogenContent { get; set; }
        
        [XmlIgnore] public double AccumEO { get; set; }
        [XmlIgnore] public double AccumEP { get; set; }
        [XmlIgnore] public double AccumES { get; set; }
        [XmlIgnore] public double AccumDrainage { get; set; }
        [XmlIgnore] public double AccumRunoff { get; set; }
        [XmlIgnore] public double AccumOutflowLat { get; set; }
        [XmlIgnore] public double AccumIrrigation { get; set; }
        [XmlIgnore] public double AccumRainfall { get; set; }
        [XmlIgnore] public double SoilWaterDeficit { get; set; }
        
        [XmlIgnore] public double AccumTtemerg { get; set; }
        
        [XmlIgnore] public double  InitialSoilOMN { get; set; }
        [XmlIgnore] public double  InitialSurfaceOMN { get; set; }
        [XmlIgnore] public double  InitialMineralN { get; set; }
        
        [XmlIgnore] public double SWC { get; set; }
        [XmlIgnore] public double DUL { get; set; }
        [XmlIgnore] public double OutFlowLat { get; set; }

        [XmlIgnore] public double FomN { get; set; }
        [XmlIgnore] public double BiomN { get; set; }
        [XmlIgnore] public double HumN { get; set; }
        [XmlIgnore] public double OrganicN { get; set; }
        [XmlIgnore] public double NO3N { get; set; }
        [XmlIgnore] public double NH4N { get; set; }
        [XmlIgnore] public double UreaN { get; set; }
        [XmlIgnore] public double MineralN { get; set; }
        [XmlIgnore] public double DltNMinRes { get; set; }
        [XmlIgnore] public double DltNMinTot { get; set; }

        
        [EventSubscribe("Commencing")]
        private void OnSimulationCommencing(object sender, EventArgs e)
        {
            InitialDay = true;
        }       
        
        [EventSubscribe("DoManagement")]
        private void OnDoManagement(object sender, EventArgs e)
        {
            //!!!!!! Nitrogen balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!
               FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            OrganicN = FomN + HumN + BiomN;
            NO3N = Utility.Math.Sum(Soil.NO3N);
            NH4N = Utility.Math.Sum(Soil.NH4N);
            UreaN = Utility.Math.Sum(Soil.SoilNitrogen.urea);
            MineralN = NO3N + NH4N + UreaN; 
            DltNMinRes = Utility.Math.Sum(Soil.SoilNitrogen.dlt_n_min_res);
            DltNMinTot = Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            int layers = Soil.Thickness.Length;
            if (InitialDay == true)
            {
                InitialSurfaceOMN = SOM.N;
                InitialSoilOMN = OrganicN;
                InitialMineralN = MineralN;
                InitialDay = false;
            }
            AccumFert += Fert.NitrogenApplied;
            DeltaSurfaceOMN = SOM.N - InitialSurfaceOMN;
            AccumLeach = AccumLeach - Soil.SoilWater.LeachNH4 - Soil.SoilWater.LeachNO3 - Soil.SoilWater.LeachUrea; //Fails
            AccumMineralisation += Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            AccumDenit -= Utility.Math.Sum(Soil.SoilNitrogen.Denitrification);
            AccumPlantN -= (double)zone.Get("Potato.Root.NUptake");
            DeltaSoilOMN = OrganicN - InitialSoilOMN;
            DeltaSoilMineralN = MineralN - InitialMineralN;
            SoilNitrogenContent = MineralN;
            
            //!!!!!! Water balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!

            AccumIrrigation += Irrig.IrrigationApplied;
            AccumRainfall += Met.Rain;
            AccumEP -= (double)zone.Get("Potato.Leaf.Transpiration");
            SoilWaterDeficit =  (SWC - DUL);
            double OutFlowLat = Utility.Math.Sum(Soil.SoilWater.outflow_lat);
            AccumOutflowLat -= OutFlowLat;
            
            //!!!!!! Thermal time calculation !!!!!!
            //!!!!!! ^^^^^^^^^^^^^^^^^^^^^^^^ !!!!!!
            if (Potato.Phenology.Stage >= 3)
            AccumTtemerg += Potato.Phenology.ThermalTime.Value;
        }
        
        [EventSubscribe("DoManagementCalculations")]
        private void OnDoManagementCalculations(object sender, EventArgs e)
        {
            FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            
            
            AccumEO -= Soil.SoilWater.Eo;
            AccumES -= Soil.SoilWater.Es; 
            AccumDrainage -= Soil.SoilWater.Drainage;
            AccumRunoff -= Soil.SoilWater.Runoff;
            SWC = Utility.Math.Sum(Soil.SoilWater.SWmm);
            DUL = Utility.Math.Sum(Soil.SoilWater.DULmm);

        }
    }
}
       
<br/>
PADDOCK.REPORT
--------------
                                   Output variables  Output frequency
                                      [Clock].Today  [Clock].DoReport
               [ExtraVariables].Script.AccumTtemerg                  
                  Potato.Phenology.CurrentPhaseName                  
                             Potato.Phenology.Stage                  
                [ExtraVariables].Script.AccumPlantN                  
        [ExtraVariables].Script.AccumMineralisation                  
                 [ExtraVariables].Script.AccumDenit                  
                  [ExtraVariables].Script.AccumFert                  
                 [ExtraVariables].Script.AccumLeach                  
                [ExtraVariables].Script.AccumDetach                  
               [ExtraVariables].Script.DeltaSoilOMN                  
            [ExtraVariables].Script.DeltaSurfaceOMN                  
          [ExtraVariables].Script.DeltaSoilMineralN                  
                          Potato.Root.NSupplyUptake                  
                                [Soil].SoilWater.Eo                  
                                [Soil].SoilWater.Es                  
                        [ExtraVariables].Script.SWC                  
                        [ExtraVariables].Script.DUL                  
                          [Soil].SoilWater.Drainage                  
                            [Soil].SoilWater.Runoff                  
                 [ExtraVariables].Script.OutFlowLat                  
                              [Soil].SoilWater.pond                  
                    [ExtraVariables].Script.AccumEO                  
                    [ExtraVariables].Script.AccumEP                  
                    [ExtraVariables].Script.AccumES                  
              [ExtraVariables].Script.AccumDrainage                  
                [ExtraVariables].Script.AccumRunoff                  
              [ExtraVariables].Script.AccumRainfall                  
            [ExtraVariables].Script.AccumIrrigation                  
            [ExtraVariables].Script.AccumOutflowLat                  
           [ExtraVariables].Script.SoilWaterDeficit                  
                   Potato.Summariser.AboveGround.Wt                  
                   Potato.Summariser.BelowGround.Wt                  
                         Potato.Summariser.Total.Wt                  
                     Potato.Summariser.TotalDead.Wt                  
                     Potato.Summariser.TotalLive.Wt                  
                                Potato.Leaf.Dead.Wt                  
                                Potato.Leaf.Live.Wt                  
                                Potato.Stem.Dead.Wt                  
                                Potato.Stem.Live.Wt                  
                               Potato.Tuber.Dead.Wt                  
                               Potato.Tuber.Live.Wt                  
                                Potato.Root.Dead.Wt                  
                                Potato.Root.Live.Wt                  
                    Potato.Summariser.AboveGround.N                  
                    Potato.Summariser.BelowGround.N                  
                          Potato.Summariser.Total.N                  
                      Potato.Summariser.TotalLive.N                  
                      Potato.Summariser.TotalDead.N                  
                                 Potato.Leaf.Dead.N                  
                                 Potato.Leaf.Live.N                  
                                 Potato.Stem.Dead.N                  
                                 Potato.Stem.Live.N                  
                                Potato.Tuber.Dead.N                  
                                Potato.Tuber.Live.N                  
                                 Potato.Root.Live.N                  
                                 Potato.Root.Dead.N                  
                             Potato.Leaf.Live.NConc                  
                             Potato.Leaf.Dead.NConc                  
                             Potato.Stem.Live.NConc                  
                             Potato.Stem.Dead.NConc                  
                            Potato.Tuber.Live.NConc                  
                            Potato.Tuber.Dead.NConc                  
                             Potato.Root.Live.NConc                  
                             Potato.Root.Dead.NConc                  
                            Potato.Root.WaterSupply                  
                            Potato.Root.WaterUptake                  
                          Potato.Leaf.Transpiration                  
                            Potato.Leaf.WaterDemand                  
                                  Potato.Root.Depth                  
                             Potato.Leaf.CoverGreen                  
                             Potato.Leaf.CoverTotal                  
                              Potato.Leaf.CoverDead                  
                                    Potato.Leaf.LAI                  
                                Potato.Leaf.LAIDead                  
                            Potato.Structure.Height                  
                                     Potato.Leaf.Fn                  
                                     Potato.Leaf.Fw                  
                Potato.Leaf.Photosynthesis.FT.Value                  
              Potato.Leaf.Photosynthesis.FVPD.Value                  
                  Potato.Structure.PlantTotalNodeNo                  
                     Potato.Structure.TotalStemPopn                  
               Potato.Leaf.PlantAppearedGreenLeafNo                  
                      Potato.Leaf.ExpandingCohortNo                  
                       Potato.Leaf.AppearedCohortNo                  
                           Potato.Leaf.DeadCohortNo                  
                    Potato.Structure.MainStemNodeNo                  
                      Potato.Leaf.SenescingCohortNo                  
             Potato.Structure.PrimaryBudTotalNodeNo                  
Potato.Leaf.LeafCohortParameters.MinimumNConc.Value                  
                     Potato.Stem.MinimumNConc.Value                  
                    Potato.Tuber.MinimumNConc.Value                  
                     Potato.Root.MinimumNConc.Value                  
Potato.Leaf.LeafCohortParameters.MaximumNConc.Value                  
                     Potato.Stem.MaximumNConc.Value                  
                    Potato.Tuber.MaximumNConc.Value                  
                     Potato.Root.MaximumNConc.Value                  
                      Potato.Stem.Live.StructuralWt                  
                   Potato.Stem.Live.NonStructuralWt                  
                           Potato.Leaf.SpecificArea                  
                       Potato.Leaf.ExpandedCohortNo                  
                              [Soil].SoilWater.SWmm                  
                                        [Soil].NO3N                  
        [ExtraVariables].Script.SoilNitrogenContent                  
                          Potato.Arbitrator.NDemand                  
                            [MicroClimate].net_radn                  
                                [MicroClimate].peta                  
                                [MicroClimate].petr                  
                       [ExtraVariables].Script.FomN                  
                       [ExtraVariables].Script.HumN                  
                      [ExtraVariables].Script.BiomN                  
                 [ExtraVariables].Script.DltNMinRes                  
                 [ExtraVariables].Script.DltNMinTot                  
                [PotatoHarvestRule].Script.FinalTag                  
                               Potato.Tuber.LiveFWt                  
                Potato.Tuber.DryMatterContent.Value                  

<br/>
PADDOCK.SETINTERGERCROPPARAMETER
--------------------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Plant Plant;          
        [Link] Zone zone;            
                    
        [Description("Path for coefficient to be Overwritten")]
        public string OverRidePath { get; set; }
        [Description("Value for new coefficient Interger")]
        public int OverRideInterger { get; set; }
        
        [EventSubscribe("Sowing")]
        private void OnSowing(object sender, EventArgs e)
        {
            object ResetValue = OverRideInterger;
            zone.Set(OverRidePath, ResetValue);
        }
    }
}
       
<br/>
SIMULATION LOG:
---------------


2007-11-23 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-24 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-26 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-27 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-29 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-02 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-05 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-08 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-09 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-10 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-11 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-12 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-13 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-14 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-16 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-17 paddock.Potato
    A crop of Potato (cultivar = Coliban) was sown today at a population of 4.63821892393321 plants/m2 with 2.4 buds per plant at a row spacing of 150 and a depth of 170 mm
    


2007-12-17 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-17 paddock.Potato.Summariser
    Peeping
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


2007-12-18 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-19 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-20 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-21 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-22 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-23 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-24 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-26 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-27 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-29 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-30 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-31 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-02 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-05 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-08 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-09 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-10 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-11 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-12 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-13 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-13 paddock.Fertiliser
    37 kg/ha of UreaN added at depth 10 layer 1
    


2008-01-14 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-15 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-15 paddock.Potato.Summariser
    Emergence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


2008-01-16 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-17 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-18 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-20 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-21 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-22 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-23 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-24 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-26 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-27 paddock.Fertiliser
    44 kg/ha of UreaN added at depth 10 layer 1
    


2008-01-27 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-28 paddock.Fertiliser
    38 kg/ha of UreaN added at depth 10 layer 1
    


2008-01-29 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-30 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-31 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-02 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-05 paddock.Fertiliser
    44 kg/ha of UreaN added at depth 10 layer 1
    


2008-02-05 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-08 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-09 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-10 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-10 paddock.Potato.Summariser
    TuberInitiation
      LAI = 1.19 (m^2/m^2)
      Above Ground Biomass = 75.56 (g/m^2)
    
    


2008-02-11 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-12 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-12 paddock.Fertiliser
    25 kg/ha of UreaN added at depth 10 layer 1
    


2008-02-13 paddock.Fertiliser
    40 kg/ha of UreaN added at depth 10 layer 1
    


2008-02-13 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-14 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-15 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-16 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-17 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-18 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-19 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-20 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-21 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-22 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-23 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-24 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-26 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-27 paddock.Fertiliser
    40 kg/ha of UreaN added at depth 10 layer 1
    


2008-02-27 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-29 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-02 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-05 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-06 paddock.Fertiliser
    40 kg/ha of UreaN added at depth 10 layer 1
    


2008-03-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-08 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-09 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-10 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-11 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-12 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-13 paddock.Fertiliser
    40 kg/ha of UreaN added at depth 10 layer 1
    


2008-03-13 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-14 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-15 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-16 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-17 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-18 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-19 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-20 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-21 paddock.Fertiliser
    40 kg/ha of UreaN added at depth 10 layer 1
    


2008-03-22 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-23 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-26 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-29 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-31 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-09 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-10 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-12 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-13 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-15 paddock.Potato.Summariser
    TuberInitiation
      LAI = 1.67 (m^2/m^2)
      Above Ground Biomass = 180.62 (g/m^2)
    
    Maturity
      LAI = 1.67 (m^2/m^2)
      Above Ground Biomass = 180.62 (g/m^2)
    
    


2008-04-15 paddock.Potato
    A crop of Potato was harvested today, Yeahhh
    


2008-04-15 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-16 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-18 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-19 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-21 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-22 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-24 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-27 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-30 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-05-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-05-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-05-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-05-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-05-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


############################################################################
.PARILLASOWING23NOVNITROGENHIGHN
--------------------------------
Simulation name:   ParillaSowing23NovNitrogenhighN

<br/>
WEATHER
-------
Weather file name:   Lameroo.met

<br/>
CLOCK
-----
The start date of the simulation:   2007-11-22
  The end date of the simulation:   2008-06-30

<br/>
PADDOCK.SOIL
------------
    Record number:       0
 Latitude (WGS84):   0.000
Longitude (WGS84):   0.000

<br/>
PADDOCK.SOIL.ANALYSIS
---------------------
Depth (cm)  PH (1:5 water)
      0-10             6.6
     10-30             6.2
     30-60             5.7
     60-90             5.5
    90-120             5.5
   120-150             5.5

<br/>
PADDOCK.SOIL.INITIAL WATER
--------------------------
        Fraction full:          1.000
    Depth of wet soil:            NaN
Plant available water:   102.000 (mm)

<br/>
PADDOCK.SOIL.WATER
------------------
Depth (cm)  BD (g/cc)  Air dry (mm/mm)  LL15 (mm/mm)  DUL (mm/mm)  SAT (mm/mm)
      0-10       1.20             0.03          0.06         0.16         0.25
     10-30       1.20             0.05          0.06         0.16         0.25
     30-60       1.20             0.06          0.06         0.12         0.25
     60-90       1.20             0.06          0.06         0.12         0.25
    90-120       1.20             0.06          0.06         0.12         0.25
   120-150       1.20             0.06          0.06         0.12         0.25

<br/>
PADDOCK.SOIL.WATER.POTATOSOIL
-----------------------------
potato Depth (cm)  potato LL (mm/mm)  potato PAWC (mm)  potato KL (mm/mm)  potato XF (mm/mm)
             0-10               0.06              10.0               0.10                1.0
            10-30               0.06              20.0               0.10                1.0
            30-60               0.12               0.0               0.07                1.0
            60-90               0.12               0.0               0.05                1.0
           90-120               0.12               0.0               0.05                1.0
          120-150               0.12               0.0               0.05                1.0
                                                  30.0                                      

<br/>
PADDOCK.SOIL.SOILORGANICMATTER
------------------------------
                  Root C:N ratio:     30.000
             Root Weight (kg/ha):   3000.000
                  Soil C:N ratio:     11.500
Erosion enrichment coefficient A:      7.400
Erosion enrichment coefficient B:      0.200

Depth (cm)  OC (Total %)  FBiom (0-1)  FInert (0-1)
      0-10          0.70        0.025           0.3
     10-30          0.50        0.025           0.4
     30-60          0.30        0.015          0.75
     60-90          0.30         0.01           0.9
    90-120          0.30         0.01          0.96
   120-150          0.30         0.01          0.96

<br/>
PADDOCK.SOIL.INITIAL NITROGEN
-----------------------------
Depth (cm)  NO3kgha  NH4kgha
      0-10     25.5      0.1
     10-30     45.9      0.2
     30-60      2.0      0.4
     60-90      2.0      0.4
    90-120      2.0      0.4
   120-150      2.0      0.4

<br/>
PADDOCK.SURFACE ORGANIC MATTER
------------------------------
Surface organic matter pool name:           wheat
Surface organic matter pool type:           wheat
 Mass of surface residue (kg/ha):       0 (kg/ha)
         Standing fraction (0-1):         0 (0-1)
     Carbon:Nitrogen ratio (g/g):        60 (g/g)
                  Carbon content:   0.000 (kg/ha)
                Nitrogen content:   0.000 (kg/ha)
              Phosphorus content:   0.000 (kg/ha)

<br/>
PADDOCK.POTATOHARVESTRULE
-------------------------

        using System;
        using Models.Core;
        using Models.PMF;
        using System.Xml.Serialization;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;
               [Link] Summary Summary;
               [Description("HarvestDate Date")]
               public DateTime HarvestDate { get; set; }            
               [XmlIgnore] public string FinalTag { get; set;}
               [XmlIgnore] public bool Harvested {get; set;}
               [XmlIgnore] public bool ReadyForHarvest {get; set;}
               
               [EventSubscribe("Commencing")]
               private void OnSimulationCommencing(object sender, EventArgs e)
               {
               FinalTag = "";
               Harvested = false;
               ReadyForHarvest = false;
               }
               
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
               if (ReadyForHarvest == true)
                   {
                   Potato.Harvest();
                   ReadyForHarvest = false;
                   Harvested = true;
                   }
               FinalTag = "";    
               }
               
               [EventSubscribe("DoManagementCalculations")]
               private void OnDoManagementCalculations(object sender, EventArgs e)
               {
                if ((Clock.Today == HarvestDate)&&(Harvested == false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
                if((Potato.Phenology.Stage>=7)&&(Harvested==false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
               }
            }
        }
                
<br/>
PADDOCK.MANAGER FOLDER.POTATOSOWINGRULE
---------------------------------------

        using System;
        using Models.Core;
        using Models.PMF;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;
               [Link] Fertiliser Fertiliser;
               [Description("Spacing (mm) between plants within rows")]
               public double RowSpace { get; set; }
               [Description("Spacing (mm) between rows")]
               public double RowWidth { get; set; }
               [Description("Depth (mm) tubers are planted")]
               public double PlantingDepth { get; set; }
               [Description("Number of stems per seed tuber")]
               public double StemNumberPerSeedTuber { get; set; }
               [Description("Cultivar")]
               [Display(DisplayType = DisplayAttribute.DisplayTypeEnum.CultivarName)]
               public string CultivarName { get; set; }
               [Description("Sowing Date")]
               public DateTime SowingDate { get; set; }
               [Description("Fertiliser applied at planting")]
               public double PlantingFertiliser { get; set;}
               
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
                double PlantPopulation = 1/((RowWidth/1000)*(RowSpace/1000));

                if (Clock.Today.Date == SowingDate)
                {
                    Potato.Sow(population:PlantPopulation, cultivar:CultivarName, depth:PlantingDepth, rowSpacing:150, budNumber:StemNumberPerSeedTuber);
                 }
                    
                //Potato.Sow(... Contains the following arguements:
                //Population  double  Required  Seeds sowing/m2
                //Cultivar    string  Required  "NameOfCultivar"
                //Depth       double  Optional  Depth (mm) seed sown.   Default is 100mm 
                //MaxCover    double  Optional  Proportion (0-1) of the ground row crop will cover.   Default is 1.0
                //BudNumber   double  Optional  Number of mainstems per seed sown.  Default is 1.0
                //RowSpacing  double  Optional  Spaceing (mm) between drill rows when crop is sown.  Default is 150mm
                //CropClass   string  Optional  Crop class to instantiate when crop is sown.  Default is "Plant"
               }
            }
        }
                
<br/>
PADDOCK.MANAGER FOLDER.FERTILISERRULE
-------------------------------------

        using System;
        using Models.Core;
        using Models.PMF;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Clock Clock;
               [Link] Fertiliser Fertiliser;
               [Description("N applied (kg/ha) on first fertiliser event")]
               public double Fert1 { get; set; }
               [Description("N applied (kg/ha) on 2nd fertiliser event")]
               public double Fert2 { get; set; }
               [Description("N applied (kg/ha) on 3rd fertiliser event")]
               public double Fert3 { get; set; }
               [Description("Days after sowing for first N application")]
               public double Day1 { get; set; }
               [Description("Days after sowing for second N application")]
               public double Day2 { get; set; }
               [Description("Days after sowing for third N application")]
               public double Day3 { get; set; }
                
                private double DaysAfterSowing = 0;
               
               [EventSubscribe("Sowing")]
               private void OnSowing(object sender, EventArgs e)
               {
               DaysAfterSowing = 0;
               }
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
                DaysAfterSowing += 1;
                if(DaysAfterSowing == Day1)
                 Fertiliser.Apply(Fert1, Fertiliser.Types.UreaN, 10);
               if(DaysAfterSowing == Day2)
                 Fertiliser.Apply(Fert2, Fertiliser.Types.UreaN, 10);
               if(DaysAfterSowing == Day3)
                 Fertiliser.Apply(Fert3, Fertiliser.Types.UreaN, 10);
               }
            }
        }
                
<br/>
PADDOCK.EXTRAVARIABLES
----------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.Soils;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Clock Clock;
        [Link] Soils.Soil Soil;
        [Link] Models.SurfaceOM.SurfaceOrganicMatter SOM;
        [Link] Weather Met;   
        [Link] Fertiliser Fert;
        [Link] Irrigation Irrig;  
        [Link] Plant Potato;
        [Link] Zone zone;
                    
        [XmlIgnore] public bool InitialDay { get; set; }
        
        [XmlIgnore] public double AccumPlantN { get; set; }
        [XmlIgnore] public double AccumMineralisation { get; set; }
        [XmlIgnore] public double AccumDenit { get; set; }
        [XmlIgnore] public double AccumFert { get; set; }
        [XmlIgnore] public double AccumLeach { get; set; }
        [XmlIgnore] public double AccumDetach { get; set; }
        [XmlIgnore] public double DeltaSoilOMN { get; set; }
        [XmlIgnore] public double DeltaSurfaceOMN { get; set; }
        [XmlIgnore] public double DeltaSoilMineralN { get; set; }
        [XmlIgnore] public double SoilNitrogenContent { get; set; }
        
        [XmlIgnore] public double AccumEO { get; set; }
        [XmlIgnore] public double AccumEP { get; set; }
        [XmlIgnore] public double AccumES { get; set; }
        [XmlIgnore] public double AccumDrainage { get; set; }
        [XmlIgnore] public double AccumRunoff { get; set; }
        [XmlIgnore] public double AccumOutflowLat { get; set; }
        [XmlIgnore] public double AccumIrrigation { get; set; }
        [XmlIgnore] public double AccumRainfall { get; set; }
        [XmlIgnore] public double SoilWaterDeficit { get; set; }
        
        [XmlIgnore] public double AccumTtemerg { get; set; }
        
        [XmlIgnore] public double  InitialSoilOMN { get; set; }
        [XmlIgnore] public double  InitialSurfaceOMN { get; set; }
        [XmlIgnore] public double  InitialMineralN { get; set; }
        
        [XmlIgnore] public double SWC { get; set; }
        [XmlIgnore] public double DUL { get; set; }
        [XmlIgnore] public double OutFlowLat { get; set; }

        [XmlIgnore] public double FomN { get; set; }
        [XmlIgnore] public double BiomN { get; set; }
        [XmlIgnore] public double HumN { get; set; }
        [XmlIgnore] public double OrganicN { get; set; }
        [XmlIgnore] public double NO3N { get; set; }
        [XmlIgnore] public double NH4N { get; set; }
        [XmlIgnore] public double UreaN { get; set; }
        [XmlIgnore] public double MineralN { get; set; }
        [XmlIgnore] public double DltNMinRes { get; set; }
        [XmlIgnore] public double DltNMinTot { get; set; }

        
        [EventSubscribe("Commencing")]
        private void OnSimulationCommencing(object sender, EventArgs e)
        {
            InitialDay = true;
        }       
        
        [EventSubscribe("DoManagement")]
        private void OnDoManagement(object sender, EventArgs e)
        {
            //!!!!!! Nitrogen balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!
               FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            OrganicN = FomN + HumN + BiomN;
            NO3N = Utility.Math.Sum(Soil.NO3N);
            NH4N = Utility.Math.Sum(Soil.NH4N);
            UreaN = Utility.Math.Sum(Soil.SoilNitrogen.urea);
            MineralN = NO3N + NH4N + UreaN; 
            DltNMinRes = Utility.Math.Sum(Soil.SoilNitrogen.dlt_n_min_res);
            DltNMinTot = Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            int layers = Soil.Thickness.Length;
            if (InitialDay == true)
            {
                InitialSurfaceOMN = SOM.N;
                InitialSoilOMN = OrganicN;
                InitialMineralN = MineralN;
                InitialDay = false;
            }
            AccumFert += Fert.NitrogenApplied;
            DeltaSurfaceOMN = SOM.N - InitialSurfaceOMN;
            AccumLeach = AccumLeach - Soil.SoilWater.LeachNH4 - Soil.SoilWater.LeachNO3 - Soil.SoilWater.LeachUrea; //Fails
            AccumMineralisation += Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            AccumDenit -= Utility.Math.Sum(Soil.SoilNitrogen.Denitrification);
            AccumPlantN -= (double)zone.Get("Potato.Root.NUptake");
            DeltaSoilOMN = OrganicN - InitialSoilOMN;
            DeltaSoilMineralN = MineralN - InitialMineralN;
            SoilNitrogenContent = MineralN;
            
            //!!!!!! Water balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!

            AccumIrrigation += Irrig.IrrigationApplied;
            AccumRainfall += Met.Rain;
            AccumEP -= (double)zone.Get("Potato.Leaf.Transpiration");
            SoilWaterDeficit =  (SWC - DUL);
            double OutFlowLat = Utility.Math.Sum(Soil.SoilWater.outflow_lat);
            AccumOutflowLat -= OutFlowLat;
            
            //!!!!!! Thermal time calculation !!!!!!
            //!!!!!! ^^^^^^^^^^^^^^^^^^^^^^^^ !!!!!!
            if (Potato.Phenology.Stage >= 3)
            AccumTtemerg += Potato.Phenology.ThermalTime.Value;
        }
        
        [EventSubscribe("DoManagementCalculations")]
        private void OnDoManagementCalculations(object sender, EventArgs e)
        {
            FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            
            
            AccumEO -= Soil.SoilWater.Eo;
            AccumES -= Soil.SoilWater.Es; 
            AccumDrainage -= Soil.SoilWater.Drainage;
            AccumRunoff -= Soil.SoilWater.Runoff;
            SWC = Utility.Math.Sum(Soil.SoilWater.SWmm);
            DUL = Utility.Math.Sum(Soil.SoilWater.DULmm);

        }
    }
}
       
<br/>
PADDOCK.REPORT
--------------
                                   Output variables  Output frequency
                                      [Clock].Today  [Clock].DoReport
               [ExtraVariables].Script.AccumTtemerg                  
                  Potato.Phenology.CurrentPhaseName                  
                             Potato.Phenology.Stage                  
                [ExtraVariables].Script.AccumPlantN                  
        [ExtraVariables].Script.AccumMineralisation                  
                 [ExtraVariables].Script.AccumDenit                  
                  [ExtraVariables].Script.AccumFert                  
                 [ExtraVariables].Script.AccumLeach                  
                [ExtraVariables].Script.AccumDetach                  
               [ExtraVariables].Script.DeltaSoilOMN                  
            [ExtraVariables].Script.DeltaSurfaceOMN                  
          [ExtraVariables].Script.DeltaSoilMineralN                  
                          Potato.Root.NSupplyUptake                  
                                [Soil].SoilWater.Eo                  
                                [Soil].SoilWater.Es                  
                        [ExtraVariables].Script.SWC                  
                        [ExtraVariables].Script.DUL                  
                          [Soil].SoilWater.Drainage                  
                            [Soil].SoilWater.Runoff                  
                 [ExtraVariables].Script.OutFlowLat                  
                              [Soil].SoilWater.pond                  
                    [ExtraVariables].Script.AccumEO                  
                    [ExtraVariables].Script.AccumEP                  
                    [ExtraVariables].Script.AccumES                  
              [ExtraVariables].Script.AccumDrainage                  
                [ExtraVariables].Script.AccumRunoff                  
              [ExtraVariables].Script.AccumRainfall                  
            [ExtraVariables].Script.AccumIrrigation                  
            [ExtraVariables].Script.AccumOutflowLat                  
           [ExtraVariables].Script.SoilWaterDeficit                  
                   Potato.Summariser.AboveGround.Wt                  
                   Potato.Summariser.BelowGround.Wt                  
                         Potato.Summariser.Total.Wt                  
                     Potato.Summariser.TotalDead.Wt                  
                     Potato.Summariser.TotalLive.Wt                  
                                Potato.Leaf.Dead.Wt                  
                                Potato.Leaf.Live.Wt                  
                                Potato.Stem.Dead.Wt                  
                                Potato.Stem.Live.Wt                  
                               Potato.Tuber.Dead.Wt                  
                               Potato.Tuber.Live.Wt                  
                                Potato.Root.Dead.Wt                  
                                Potato.Root.Live.Wt                  
                    Potato.Summariser.AboveGround.N                  
                    Potato.Summariser.BelowGround.N                  
                          Potato.Summariser.Total.N                  
                      Potato.Summariser.TotalLive.N                  
                      Potato.Summariser.TotalDead.N                  
                                 Potato.Leaf.Dead.N                  
                                 Potato.Leaf.Live.N                  
                                 Potato.Stem.Dead.N                  
                                 Potato.Stem.Live.N                  
                                Potato.Tuber.Dead.N                  
                                Potato.Tuber.Live.N                  
                                 Potato.Root.Live.N                  
                                 Potato.Root.Dead.N                  
                             Potato.Leaf.Live.NConc                  
                             Potato.Leaf.Dead.NConc                  
                             Potato.Stem.Live.NConc                  
                             Potato.Stem.Dead.NConc                  
                            Potato.Tuber.Live.NConc                  
                            Potato.Tuber.Dead.NConc                  
                             Potato.Root.Live.NConc                  
                             Potato.Root.Dead.NConc                  
                            Potato.Root.WaterSupply                  
                            Potato.Root.WaterUptake                  
                          Potato.Leaf.Transpiration                  
                            Potato.Leaf.WaterDemand                  
                                  Potato.Root.Depth                  
                             Potato.Leaf.CoverGreen                  
                             Potato.Leaf.CoverTotal                  
                              Potato.Leaf.CoverDead                  
                                    Potato.Leaf.LAI                  
                                Potato.Leaf.LAIDead                  
                            Potato.Structure.Height                  
                                     Potato.Leaf.Fn                  
                                     Potato.Leaf.Fw                  
                Potato.Leaf.Photosynthesis.FT.Value                  
              Potato.Leaf.Photosynthesis.FVPD.Value                  
                  Potato.Structure.PlantTotalNodeNo                  
                     Potato.Structure.TotalStemPopn                  
               Potato.Leaf.PlantAppearedGreenLeafNo                  
                      Potato.Leaf.ExpandingCohortNo                  
                       Potato.Leaf.AppearedCohortNo                  
                           Potato.Leaf.DeadCohortNo                  
                    Potato.Structure.MainStemNodeNo                  
                      Potato.Leaf.SenescingCohortNo                  
             Potato.Structure.PrimaryBudTotalNodeNo                  
Potato.Leaf.LeafCohortParameters.MinimumNConc.Value                  
                     Potato.Stem.MinimumNConc.Value                  
                    Potato.Tuber.MinimumNConc.Value                  
                     Potato.Root.MinimumNConc.Value                  
Potato.Leaf.LeafCohortParameters.MaximumNConc.Value                  
                     Potato.Stem.MaximumNConc.Value                  
                    Potato.Tuber.MaximumNConc.Value                  
                     Potato.Root.MaximumNConc.Value                  
                      Potato.Stem.Live.StructuralWt                  
                   Potato.Stem.Live.NonStructuralWt                  
                           Potato.Leaf.SpecificArea                  
                       Potato.Leaf.ExpandedCohortNo                  
                              [Soil].SoilWater.SWmm                  
                                        [Soil].NO3N                  
        [ExtraVariables].Script.SoilNitrogenContent                  
                          Potato.Arbitrator.NDemand                  
                            [MicroClimate].net_radn                  
                                [MicroClimate].peta                  
                                [MicroClimate].petr                  
                       [ExtraVariables].Script.FomN                  
                       [ExtraVariables].Script.HumN                  
                      [ExtraVariables].Script.BiomN                  
                 [ExtraVariables].Script.DltNMinRes                  
                 [ExtraVariables].Script.DltNMinTot                  
                [PotatoHarvestRule].Script.FinalTag                  
                               Potato.Tuber.LiveFWt                  
                Potato.Tuber.DryMatterContent.Value                  

<br/>
PADDOCK.SETINTERGERCROPPARAMETER
--------------------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Plant Plant;          
        [Link] Zone zone;            
                    
        [Description("Path for coefficient to be Overwritten")]
        public string OverRidePath { get; set; }
        [Description("Value for new coefficient Interger")]
        public int OverRideInterger { get; set; }
        
        [EventSubscribe("Sowing")]
        private void OnSowing(object sender, EventArgs e)
        {
            object ResetValue = OverRideInterger;
            zone.Set(OverRidePath, ResetValue);
        }
    }
}
       
<br/>
SIMULATION LOG:
---------------


2007-11-23 paddock.Potato
    A crop of Potato (cultivar = Coliban) was sown today at a population of 4.63821892393321 plants/m2 with 2.4 buds per plant at a row spacing of 150 and a depth of 170 mm
    


2007-11-23 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-23 paddock.Potato.Summariser
    Peeping
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


2007-11-24 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-26 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-27 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-29 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-02 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-05 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-08 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-09 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-10 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-11 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-12 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-13 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-14 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-16 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-17 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-18 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-19 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-19 paddock.Fertiliser
    75 kg/ha of UreaN added at depth 10 layer 1
    


2007-12-19 paddock.Potato.Summariser
    Emergence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


2007-12-20 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-21 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-22 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-23 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-24 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-26 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-27 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-29 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-30 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-31 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-02 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-05 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-08 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-09 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-10 paddock.Fertiliser
    48 kg/ha of UreaN added at depth 10 layer 1
    


2008-01-10 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-11 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-12 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-13 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-13 paddock.Fertiliser
    75 kg/ha of UreaN added at depth 10 layer 1
    


2008-01-14 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-15 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-16 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-17 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-17 paddock.Potato.Summariser
    TuberInitiation
      LAI = 0.85 (m^2/m^2)
      Above Ground Biomass = 61.45 (g/m^2)
    
    


2008-01-18 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-20 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-21 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-22 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-23 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-24 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-26 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-27 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-28 paddock.Fertiliser
    50 kg/ha of UreaN added at depth 10 layer 1
    


2008-01-29 paddock.Fertiliser
    40 kg/ha of UreaN added at depth 10 layer 1
    


2008-01-29 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-30 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-31 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-02 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-05 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-08 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-09 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-10 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-11 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-12 paddock.Fertiliser
    40 kg/ha of UreaN added at depth 10 layer 1
    


2008-02-12 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-13 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-14 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-15 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-16 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-17 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-18 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-19 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-20 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-21 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-22 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-23 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-24 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-26 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-27 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-28 paddock.Fertiliser
    40 kg/ha of UreaN added at depth 10 layer 1
    


2008-02-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-29 paddock.Fertiliser
    20 kg/ha of UreaN added at depth 10 layer 1
    


2008-02-29 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-02 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-05 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-06 paddock.Potato.Summariser
    TuberInitiation
      LAI = 2.01 (m^2/m^2)
      Above Ground Biomass = 160.53 (g/m^2)
    
    Maturity
      LAI = 2.01 (m^2/m^2)
      Above Ground Biomass = 160.53 (g/m^2)
    
    


2008-03-06 paddock.Potato
    A crop of Potato was harvested today, Yeahhh
    


2008-03-06 paddock.Fertiliser
    40 kg/ha of UreaN added at depth 10 layer 1
    


2008-03-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-08 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-09 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-10 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-11 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-12 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-13 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-14 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-15 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-16 paddock.Fertiliser
    40 kg/ha of UreaN added at depth 10 layer 1
    


2008-03-16 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-17 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-18 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-19 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-20 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-22 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-23 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-26 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-29 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-31 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-09 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-10 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-12 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-13 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-15 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-16 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-18 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-19 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-21 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-22 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-24 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-27 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-30 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-05-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-05-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-05-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-05-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-05-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


############################################################################
.PARILLASOWING23NOVNITROGENLOWN
-------------------------------
Simulation name:   ParillaSowing23NovNitrogenlowN

<br/>
WEATHER
-------
Weather file name:   Lameroo.met

<br/>
CLOCK
-----
The start date of the simulation:   2007-11-22
  The end date of the simulation:   2008-06-30

<br/>
PADDOCK.SOIL
------------
    Record number:       0
 Latitude (WGS84):   0.000
Longitude (WGS84):   0.000

<br/>
PADDOCK.SOIL.ANALYSIS
---------------------
Depth (cm)  PH (1:5 water)
      0-10             6.6
     10-30             6.2
     30-60             5.7
     60-90             5.5
    90-120             5.5
   120-150             5.5

<br/>
PADDOCK.SOIL.INITIAL WATER
--------------------------
        Fraction full:          1.000
    Depth of wet soil:            NaN
Plant available water:   102.000 (mm)

<br/>
PADDOCK.SOIL.WATER
------------------
Depth (cm)  BD (g/cc)  Air dry (mm/mm)  LL15 (mm/mm)  DUL (mm/mm)  SAT (mm/mm)
      0-10       1.20             0.03          0.06         0.16         0.25
     10-30       1.20             0.05          0.06         0.16         0.25
     30-60       1.20             0.06          0.06         0.12         0.25
     60-90       1.20             0.06          0.06         0.12         0.25
    90-120       1.20             0.06          0.06         0.12         0.25
   120-150       1.20             0.06          0.06         0.12         0.25

<br/>
PADDOCK.SOIL.WATER.POTATOSOIL
-----------------------------
potato Depth (cm)  potato LL (mm/mm)  potato PAWC (mm)  potato KL (mm/mm)  potato XF (mm/mm)
             0-10               0.06              10.0               0.10                1.0
            10-30               0.06              20.0               0.10                1.0
            30-60               0.12               0.0               0.07                1.0
            60-90               0.12               0.0               0.05                1.0
           90-120               0.12               0.0               0.05                1.0
          120-150               0.12               0.0               0.05                1.0
                                                  30.0                                      

<br/>
PADDOCK.SOIL.SOILORGANICMATTER
------------------------------
                  Root C:N ratio:     30.000
             Root Weight (kg/ha):   3000.000
                  Soil C:N ratio:     11.500
Erosion enrichment coefficient A:      7.400
Erosion enrichment coefficient B:      0.200

Depth (cm)  OC (Total %)  FBiom (0-1)  FInert (0-1)
      0-10          0.70        0.025           0.3
     10-30          0.50        0.025           0.4
     30-60          0.30        0.015          0.75
     60-90          0.30         0.01           0.9
    90-120          0.30         0.01          0.96
   120-150          0.30         0.01          0.96

<br/>
PADDOCK.SOIL.INITIAL NITROGEN
-----------------------------
Depth (cm)  NO3kgha  NH4kgha
      0-10     25.5      0.1
     10-30     45.9      0.2
     30-60      2.0      0.4
     60-90      2.0      0.4
    90-120      2.0      0.4
   120-150      2.0      0.4

<br/>
PADDOCK.SURFACE ORGANIC MATTER
------------------------------
Surface organic matter pool name:           wheat
Surface organic matter pool type:           wheat
 Mass of surface residue (kg/ha):       0 (kg/ha)
         Standing fraction (0-1):         0 (0-1)
     Carbon:Nitrogen ratio (g/g):        60 (g/g)
                  Carbon content:   0.000 (kg/ha)
                Nitrogen content:   0.000 (kg/ha)
              Phosphorus content:   0.000 (kg/ha)

<br/>
PADDOCK.POTATOHARVESTRULE
-------------------------

        using System;
        using Models.Core;
        using Models.PMF;
        using System.Xml.Serialization;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;
               [Link] Summary Summary;
               [Description("HarvestDate Date")]
               public DateTime HarvestDate { get; set; }            
               [XmlIgnore] public string FinalTag { get; set;}
               [XmlIgnore] public bool Harvested {get; set;}
               [XmlIgnore] public bool ReadyForHarvest {get; set;}
               
               [EventSubscribe("Commencing")]
               private void OnSimulationCommencing(object sender, EventArgs e)
               {
               FinalTag = "";
               Harvested = false;
               ReadyForHarvest = false;
               }
               
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
               if (ReadyForHarvest == true)
                   {
                   Potato.Harvest();
                   ReadyForHarvest = false;
                   Harvested = true;
                   }
               FinalTag = "";    
               }
               
               [EventSubscribe("DoManagementCalculations")]
               private void OnDoManagementCalculations(object sender, EventArgs e)
               {
                if ((Clock.Today == HarvestDate)&&(Harvested == false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
                if((Potato.Phenology.Stage>=7)&&(Harvested==false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
               }
            }
        }
                
<br/>
PADDOCK.MANAGER FOLDER.POTATOSOWINGRULE
---------------------------------------

        using System;
        using Models.Core;
        using Models.PMF;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;
               [Link] Fertiliser Fertiliser;
               [Description("Spacing (mm) between plants within rows")]
               public double RowSpace { get; set; }
               [Description("Spacing (mm) between rows")]
               public double RowWidth { get; set; }
               [Description("Depth (mm) tubers are planted")]
               public double PlantingDepth { get; set; }
               [Description("Number of stems per seed tuber")]
               public double StemNumberPerSeedTuber { get; set; }
               [Description("Cultivar")]
               [Display(DisplayType = DisplayAttribute.DisplayTypeEnum.CultivarName)]
               public string CultivarName { get; set; }
               [Description("Sowing Date")]
               public DateTime SowingDate { get; set; }
               [Description("Fertiliser applied at planting")]
               public double PlantingFertiliser { get; set;}
               
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
                double PlantPopulation = 1/((RowWidth/1000)*(RowSpace/1000));

                if (Clock.Today.Date == SowingDate)
                {
                    Potato.Sow(population:PlantPopulation, cultivar:CultivarName, depth:PlantingDepth, rowSpacing:150, budNumber:StemNumberPerSeedTuber);
                 }
                    
                //Potato.Sow(... Contains the following arguements:
                //Population  double  Required  Seeds sowing/m2
                //Cultivar    string  Required  "NameOfCultivar"
                //Depth       double  Optional  Depth (mm) seed sown.   Default is 100mm 
                //MaxCover    double  Optional  Proportion (0-1) of the ground row crop will cover.   Default is 1.0
                //BudNumber   double  Optional  Number of mainstems per seed sown.  Default is 1.0
                //RowSpacing  double  Optional  Spaceing (mm) between drill rows when crop is sown.  Default is 150mm
                //CropClass   string  Optional  Crop class to instantiate when crop is sown.  Default is "Plant"
               }
            }
        }
                
<br/>
PADDOCK.MANAGER FOLDER.FERTILISERRULE
-------------------------------------

        using System;
        using Models.Core;
        using Models.PMF;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Clock Clock;
               [Link] Fertiliser Fertiliser;
               [Description("N applied (kg/ha) on first fertiliser event")]
               public double Fert1 { get; set; }
               [Description("N applied (kg/ha) on 2nd fertiliser event")]
               public double Fert2 { get; set; }
               [Description("N applied (kg/ha) on 3rd fertiliser event")]
               public double Fert3 { get; set; }
               [Description("Days after sowing for first N application")]
               public double Day1 { get; set; }
               [Description("Days after sowing for second N application")]
               public double Day2 { get; set; }
               [Description("Days after sowing for third N application")]
               public double Day3 { get; set; }
                
                private double DaysAfterSowing = 0;
               
               [EventSubscribe("Sowing")]
               private void OnSowing(object sender, EventArgs e)
               {
               DaysAfterSowing = 0;
               }
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
                DaysAfterSowing += 1;
                if(DaysAfterSowing == Day1)
                 Fertiliser.Apply(Fert1, Fertiliser.Types.UreaN, 10);
               if(DaysAfterSowing == Day2)
                 Fertiliser.Apply(Fert2, Fertiliser.Types.UreaN, 10);
               if(DaysAfterSowing == Day3)
                 Fertiliser.Apply(Fert3, Fertiliser.Types.UreaN, 10);
               }
            }
        }
                
<br/>
PADDOCK.EXTRAVARIABLES
----------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.Soils;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Clock Clock;
        [Link] Soils.Soil Soil;
        [Link] Models.SurfaceOM.SurfaceOrganicMatter SOM;
        [Link] Weather Met;   
        [Link] Fertiliser Fert;
        [Link] Irrigation Irrig;  
        [Link] Plant Potato;
        [Link] Zone zone;
                    
        [XmlIgnore] public bool InitialDay { get; set; }
        
        [XmlIgnore] public double AccumPlantN { get; set; }
        [XmlIgnore] public double AccumMineralisation { get; set; }
        [XmlIgnore] public double AccumDenit { get; set; }
        [XmlIgnore] public double AccumFert { get; set; }
        [XmlIgnore] public double AccumLeach { get; set; }
        [XmlIgnore] public double AccumDetach { get; set; }
        [XmlIgnore] public double DeltaSoilOMN { get; set; }
        [XmlIgnore] public double DeltaSurfaceOMN { get; set; }
        [XmlIgnore] public double DeltaSoilMineralN { get; set; }
        [XmlIgnore] public double SoilNitrogenContent { get; set; }
        
        [XmlIgnore] public double AccumEO { get; set; }
        [XmlIgnore] public double AccumEP { get; set; }
        [XmlIgnore] public double AccumES { get; set; }
        [XmlIgnore] public double AccumDrainage { get; set; }
        [XmlIgnore] public double AccumRunoff { get; set; }
        [XmlIgnore] public double AccumOutflowLat { get; set; }
        [XmlIgnore] public double AccumIrrigation { get; set; }
        [XmlIgnore] public double AccumRainfall { get; set; }
        [XmlIgnore] public double SoilWaterDeficit { get; set; }
        
        [XmlIgnore] public double AccumTtemerg { get; set; }
        
        [XmlIgnore] public double  InitialSoilOMN { get; set; }
        [XmlIgnore] public double  InitialSurfaceOMN { get; set; }
        [XmlIgnore] public double  InitialMineralN { get; set; }
        
        [XmlIgnore] public double SWC { get; set; }
        [XmlIgnore] public double DUL { get; set; }
        [XmlIgnore] public double OutFlowLat { get; set; }

        [XmlIgnore] public double FomN { get; set; }
        [XmlIgnore] public double BiomN { get; set; }
        [XmlIgnore] public double HumN { get; set; }
        [XmlIgnore] public double OrganicN { get; set; }
        [XmlIgnore] public double NO3N { get; set; }
        [XmlIgnore] public double NH4N { get; set; }
        [XmlIgnore] public double UreaN { get; set; }
        [XmlIgnore] public double MineralN { get; set; }
        [XmlIgnore] public double DltNMinRes { get; set; }
        [XmlIgnore] public double DltNMinTot { get; set; }

        
        [EventSubscribe("Commencing")]
        private void OnSimulationCommencing(object sender, EventArgs e)
        {
            InitialDay = true;
        }       
        
        [EventSubscribe("DoManagement")]
        private void OnDoManagement(object sender, EventArgs e)
        {
            //!!!!!! Nitrogen balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!
               FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            OrganicN = FomN + HumN + BiomN;
            NO3N = Utility.Math.Sum(Soil.NO3N);
            NH4N = Utility.Math.Sum(Soil.NH4N);
            UreaN = Utility.Math.Sum(Soil.SoilNitrogen.urea);
            MineralN = NO3N + NH4N + UreaN; 
            DltNMinRes = Utility.Math.Sum(Soil.SoilNitrogen.dlt_n_min_res);
            DltNMinTot = Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            int layers = Soil.Thickness.Length;
            if (InitialDay == true)
            {
                InitialSurfaceOMN = SOM.N;
                InitialSoilOMN = OrganicN;
                InitialMineralN = MineralN;
                InitialDay = false;
            }
            AccumFert += Fert.NitrogenApplied;
            DeltaSurfaceOMN = SOM.N - InitialSurfaceOMN;
            AccumLeach = AccumLeach - Soil.SoilWater.LeachNH4 - Soil.SoilWater.LeachNO3 - Soil.SoilWater.LeachUrea; //Fails
            AccumMineralisation += Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            AccumDenit -= Utility.Math.Sum(Soil.SoilNitrogen.Denitrification);
            AccumPlantN -= (double)zone.Get("Potato.Root.NUptake");
            DeltaSoilOMN = OrganicN - InitialSoilOMN;
            DeltaSoilMineralN = MineralN - InitialMineralN;
            SoilNitrogenContent = MineralN;
            
            //!!!!!! Water balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!

            AccumIrrigation += Irrig.IrrigationApplied;
            AccumRainfall += Met.Rain;
            AccumEP -= (double)zone.Get("Potato.Leaf.Transpiration");
            SoilWaterDeficit =  (SWC - DUL);
            double OutFlowLat = Utility.Math.Sum(Soil.SoilWater.outflow_lat);
            AccumOutflowLat -= OutFlowLat;
            
            //!!!!!! Thermal time calculation !!!!!!
            //!!!!!! ^^^^^^^^^^^^^^^^^^^^^^^^ !!!!!!
            if (Potato.Phenology.Stage >= 3)
            AccumTtemerg += Potato.Phenology.ThermalTime.Value;
        }
        
        [EventSubscribe("DoManagementCalculations")]
        private void OnDoManagementCalculations(object sender, EventArgs e)
        {
            FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            
            
            AccumEO -= Soil.SoilWater.Eo;
            AccumES -= Soil.SoilWater.Es; 
            AccumDrainage -= Soil.SoilWater.Drainage;
            AccumRunoff -= Soil.SoilWater.Runoff;
            SWC = Utility.Math.Sum(Soil.SoilWater.SWmm);
            DUL = Utility.Math.Sum(Soil.SoilWater.DULmm);

        }
    }
}
       
<br/>
PADDOCK.REPORT
--------------
                                   Output variables  Output frequency
                                      [Clock].Today  [Clock].DoReport
               [ExtraVariables].Script.AccumTtemerg                  
                  Potato.Phenology.CurrentPhaseName                  
                             Potato.Phenology.Stage                  
                [ExtraVariables].Script.AccumPlantN                  
        [ExtraVariables].Script.AccumMineralisation                  
                 [ExtraVariables].Script.AccumDenit                  
                  [ExtraVariables].Script.AccumFert                  
                 [ExtraVariables].Script.AccumLeach                  
                [ExtraVariables].Script.AccumDetach                  
               [ExtraVariables].Script.DeltaSoilOMN                  
            [ExtraVariables].Script.DeltaSurfaceOMN                  
          [ExtraVariables].Script.DeltaSoilMineralN                  
                          Potato.Root.NSupplyUptake                  
                                [Soil].SoilWater.Eo                  
                                [Soil].SoilWater.Es                  
                        [ExtraVariables].Script.SWC                  
                        [ExtraVariables].Script.DUL                  
                          [Soil].SoilWater.Drainage                  
                            [Soil].SoilWater.Runoff                  
                 [ExtraVariables].Script.OutFlowLat                  
                              [Soil].SoilWater.pond                  
                    [ExtraVariables].Script.AccumEO                  
                    [ExtraVariables].Script.AccumEP                  
                    [ExtraVariables].Script.AccumES                  
              [ExtraVariables].Script.AccumDrainage                  
                [ExtraVariables].Script.AccumRunoff                  
              [ExtraVariables].Script.AccumRainfall                  
            [ExtraVariables].Script.AccumIrrigation                  
            [ExtraVariables].Script.AccumOutflowLat                  
           [ExtraVariables].Script.SoilWaterDeficit                  
                   Potato.Summariser.AboveGround.Wt                  
                   Potato.Summariser.BelowGround.Wt                  
                         Potato.Summariser.Total.Wt                  
                     Potato.Summariser.TotalDead.Wt                  
                     Potato.Summariser.TotalLive.Wt                  
                                Potato.Leaf.Dead.Wt                  
                                Potato.Leaf.Live.Wt                  
                                Potato.Stem.Dead.Wt                  
                                Potato.Stem.Live.Wt                  
                               Potato.Tuber.Dead.Wt                  
                               Potato.Tuber.Live.Wt                  
                                Potato.Root.Dead.Wt                  
                                Potato.Root.Live.Wt                  
                    Potato.Summariser.AboveGround.N                  
                    Potato.Summariser.BelowGround.N                  
                          Potato.Summariser.Total.N                  
                      Potato.Summariser.TotalLive.N                  
                      Potato.Summariser.TotalDead.N                  
                                 Potato.Leaf.Dead.N                  
                                 Potato.Leaf.Live.N                  
                                 Potato.Stem.Dead.N                  
                                 Potato.Stem.Live.N                  
                                Potato.Tuber.Dead.N                  
                                Potato.Tuber.Live.N                  
                                 Potato.Root.Live.N                  
                                 Potato.Root.Dead.N                  
                             Potato.Leaf.Live.NConc                  
                             Potato.Leaf.Dead.NConc                  
                             Potato.Stem.Live.NConc                  
                             Potato.Stem.Dead.NConc                  
                            Potato.Tuber.Live.NConc                  
                            Potato.Tuber.Dead.NConc                  
                             Potato.Root.Live.NConc                  
                             Potato.Root.Dead.NConc                  
                            Potato.Root.WaterSupply                  
                            Potato.Root.WaterUptake                  
                          Potato.Leaf.Transpiration                  
                            Potato.Leaf.WaterDemand                  
                                  Potato.Root.Depth                  
                             Potato.Leaf.CoverGreen                  
                             Potato.Leaf.CoverTotal                  
                              Potato.Leaf.CoverDead                  
                                    Potato.Leaf.LAI                  
                                Potato.Leaf.LAIDead                  
                            Potato.Structure.Height                  
                                     Potato.Leaf.Fn                  
                                     Potato.Leaf.Fw                  
                Potato.Leaf.Photosynthesis.FT.Value                  
              Potato.Leaf.Photosynthesis.FVPD.Value                  
                  Potato.Structure.PlantTotalNodeNo                  
                     Potato.Structure.TotalStemPopn                  
               Potato.Leaf.PlantAppearedGreenLeafNo                  
                      Potato.Leaf.ExpandingCohortNo                  
                       Potato.Leaf.AppearedCohortNo                  
                           Potato.Leaf.DeadCohortNo                  
                    Potato.Structure.MainStemNodeNo                  
                      Potato.Leaf.SenescingCohortNo                  
             Potato.Structure.PrimaryBudTotalNodeNo                  
Potato.Leaf.LeafCohortParameters.MinimumNConc.Value                  
                     Potato.Stem.MinimumNConc.Value                  
                    Potato.Tuber.MinimumNConc.Value                  
                     Potato.Root.MinimumNConc.Value                  
Potato.Leaf.LeafCohortParameters.MaximumNConc.Value                  
                     Potato.Stem.MaximumNConc.Value                  
                    Potato.Tuber.MaximumNConc.Value                  
                     Potato.Root.MaximumNConc.Value                  
                      Potato.Stem.Live.StructuralWt                  
                   Potato.Stem.Live.NonStructuralWt                  
                           Potato.Leaf.SpecificArea                  
                       Potato.Leaf.ExpandedCohortNo                  
                              [Soil].SoilWater.SWmm                  
                                        [Soil].NO3N                  
        [ExtraVariables].Script.SoilNitrogenContent                  
                          Potato.Arbitrator.NDemand                  
                            [MicroClimate].net_radn                  
                                [MicroClimate].peta                  
                                [MicroClimate].petr                  
                       [ExtraVariables].Script.FomN                  
                       [ExtraVariables].Script.HumN                  
                      [ExtraVariables].Script.BiomN                  
                 [ExtraVariables].Script.DltNMinRes                  
                 [ExtraVariables].Script.DltNMinTot                  
                [PotatoHarvestRule].Script.FinalTag                  
                               Potato.Tuber.LiveFWt                  
                Potato.Tuber.DryMatterContent.Value                  

<br/>
PADDOCK.SETINTERGERCROPPARAMETER
--------------------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Plant Plant;          
        [Link] Zone zone;            
                    
        [Description("Path for coefficient to be Overwritten")]
        public string OverRidePath { get; set; }
        [Description("Value for new coefficient Interger")]
        public int OverRideInterger { get; set; }
        
        [EventSubscribe("Sowing")]
        private void OnSowing(object sender, EventArgs e)
        {
            object ResetValue = OverRideInterger;
            zone.Set(OverRidePath, ResetValue);
        }
    }
}
       
<br/>
SIMULATION LOG:
---------------


2007-11-23 paddock.Potato
    A crop of Potato (cultivar = Coliban) was sown today at a population of 4.63821892393321 plants/m2 with 2.4 buds per plant at a row spacing of 150 and a depth of 170 mm
    


2007-11-23 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-23 paddock.Potato.Summariser
    Peeping
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


2007-11-24 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-26 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-27 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-29 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-02 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-05 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-08 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-09 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-10 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-11 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-12 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-13 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-14 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-16 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-17 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-18 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-19 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-19 paddock.Potato.Summariser
    Emergence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


2007-12-20 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-21 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-22 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-23 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-24 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-26 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-27 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-29 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-30 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-31 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-02 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-05 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-08 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-09 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-10 paddock.Fertiliser
    48 kg/ha of UreaN added at depth 10 layer 1
    


2008-01-10 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-11 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-12 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-13 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-14 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-15 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-16 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-17 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-17 paddock.Potato.Summariser
    TuberInitiation
      LAI = 0.82 (m^2/m^2)
      Above Ground Biomass = 53.97 (g/m^2)
    
    


2008-01-18 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-20 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-21 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-22 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-23 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-24 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-26 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-27 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-29 paddock.Fertiliser
    40 kg/ha of UreaN added at depth 10 layer 1
    


2008-01-29 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-30 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-31 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-02 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-05 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-08 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-09 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-10 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-11 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-12 paddock.Fertiliser
    40 kg/ha of UreaN added at depth 10 layer 1
    


2008-02-12 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-13 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-14 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-15 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-16 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-17 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-18 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-19 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-20 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-21 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-22 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-23 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-24 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-26 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-27 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-28 paddock.Fertiliser
    40 kg/ha of UreaN added at depth 10 layer 1
    


2008-02-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-29 paddock.Fertiliser
    20 kg/ha of UreaN added at depth 10 layer 1
    


2008-02-29 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-02 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-05 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-06 paddock.Potato.Summariser
    TuberInitiation
      LAI = 1.95 (m^2/m^2)
      Above Ground Biomass = 135.43 (g/m^2)
    
    Maturity
      LAI = 1.95 (m^2/m^2)
      Above Ground Biomass = 135.43 (g/m^2)
    
    


2008-03-06 paddock.Potato
    A crop of Potato was harvested today, Yeahhh
    


2008-03-06 paddock.Fertiliser
    40 kg/ha of UreaN added at depth 10 layer 1
    


2008-03-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-08 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-09 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-10 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-11 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-12 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-13 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-14 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-15 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-16 paddock.Fertiliser
    40 kg/ha of UreaN added at depth 10 layer 1
    


2008-03-16 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-17 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-18 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-19 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-20 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-22 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-23 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-26 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-29 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-31 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-09 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-10 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-12 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-13 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-15 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-16 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-18 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-19 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-21 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-22 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-24 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-27 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-30 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-05-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-05-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-05-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-05-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-05-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


############################################################################
.PARILLASOWING23NOVNITROGENMEDN
-------------------------------
Simulation name:   ParillaSowing23NovNitrogenmedN

<br/>
WEATHER
-------
Weather file name:   Lameroo.met

<br/>
CLOCK
-----
The start date of the simulation:   2007-11-22
  The end date of the simulation:   2008-06-30

<br/>
PADDOCK.SOIL
------------
    Record number:       0
 Latitude (WGS84):   0.000
Longitude (WGS84):   0.000

<br/>
PADDOCK.SOIL.ANALYSIS
---------------------
Depth (cm)  PH (1:5 water)
      0-10             6.6
     10-30             6.2
     30-60             5.7
     60-90             5.5
    90-120             5.5
   120-150             5.5

<br/>
PADDOCK.SOIL.INITIAL WATER
--------------------------
        Fraction full:          1.000
    Depth of wet soil:            NaN
Plant available water:   102.000 (mm)

<br/>
PADDOCK.SOIL.WATER
------------------
Depth (cm)  BD (g/cc)  Air dry (mm/mm)  LL15 (mm/mm)  DUL (mm/mm)  SAT (mm/mm)
      0-10       1.20             0.03          0.06         0.16         0.25
     10-30       1.20             0.05          0.06         0.16         0.25
     30-60       1.20             0.06          0.06         0.12         0.25
     60-90       1.20             0.06          0.06         0.12         0.25
    90-120       1.20             0.06          0.06         0.12         0.25
   120-150       1.20             0.06          0.06         0.12         0.25

<br/>
PADDOCK.SOIL.WATER.POTATOSOIL
-----------------------------
potato Depth (cm)  potato LL (mm/mm)  potato PAWC (mm)  potato KL (mm/mm)  potato XF (mm/mm)
             0-10               0.06              10.0               0.10                1.0
            10-30               0.06              20.0               0.10                1.0
            30-60               0.12               0.0               0.07                1.0
            60-90               0.12               0.0               0.05                1.0
           90-120               0.12               0.0               0.05                1.0
          120-150               0.12               0.0               0.05                1.0
                                                  30.0                                      

<br/>
PADDOCK.SOIL.SOILORGANICMATTER
------------------------------
                  Root C:N ratio:     30.000
             Root Weight (kg/ha):   3000.000
                  Soil C:N ratio:     11.500
Erosion enrichment coefficient A:      7.400
Erosion enrichment coefficient B:      0.200

Depth (cm)  OC (Total %)  FBiom (0-1)  FInert (0-1)
      0-10          0.70        0.025           0.3
     10-30          0.50        0.025           0.4
     30-60          0.30        0.015          0.75
     60-90          0.30         0.01           0.9
    90-120          0.30         0.01          0.96
   120-150          0.30         0.01          0.96

<br/>
PADDOCK.SOIL.INITIAL NITROGEN
-----------------------------
Depth (cm)  NO3kgha  NH4kgha
      0-10     25.5      0.1
     10-30     45.9      0.2
     30-60      2.0      0.4
     60-90      2.0      0.4
    90-120      2.0      0.4
   120-150      2.0      0.4

<br/>
PADDOCK.SURFACE ORGANIC MATTER
------------------------------
Surface organic matter pool name:           wheat
Surface organic matter pool type:           wheat
 Mass of surface residue (kg/ha):       0 (kg/ha)
         Standing fraction (0-1):         0 (0-1)
     Carbon:Nitrogen ratio (g/g):        60 (g/g)
                  Carbon content:   0.000 (kg/ha)
                Nitrogen content:   0.000 (kg/ha)
              Phosphorus content:   0.000 (kg/ha)

<br/>
PADDOCK.POTATOHARVESTRULE
-------------------------

        using System;
        using Models.Core;
        using Models.PMF;
        using System.Xml.Serialization;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;
               [Link] Summary Summary;
               [Description("HarvestDate Date")]
               public DateTime HarvestDate { get; set; }            
               [XmlIgnore] public string FinalTag { get; set;}
               [XmlIgnore] public bool Harvested {get; set;}
               [XmlIgnore] public bool ReadyForHarvest {get; set;}
               
               [EventSubscribe("Commencing")]
               private void OnSimulationCommencing(object sender, EventArgs e)
               {
               FinalTag = "";
               Harvested = false;
               ReadyForHarvest = false;
               }
               
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
               if (ReadyForHarvest == true)
                   {
                   Potato.Harvest();
                   ReadyForHarvest = false;
                   Harvested = true;
                   }
               FinalTag = "";    
               }
               
               [EventSubscribe("DoManagementCalculations")]
               private void OnDoManagementCalculations(object sender, EventArgs e)
               {
                if ((Clock.Today == HarvestDate)&&(Harvested == false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
                if((Potato.Phenology.Stage>=7)&&(Harvested==false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
               }
            }
        }
                
<br/>
PADDOCK.MANAGER FOLDER.POTATOSOWINGRULE
---------------------------------------

        using System;
        using Models.Core;
        using Models.PMF;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;
               [Link] Fertiliser Fertiliser;
               [Description("Spacing (mm) between plants within rows")]
               public double RowSpace { get; set; }
               [Description("Spacing (mm) between rows")]
               public double RowWidth { get; set; }
               [Description("Depth (mm) tubers are planted")]
               public double PlantingDepth { get; set; }
               [Description("Number of stems per seed tuber")]
               public double StemNumberPerSeedTuber { get; set; }
               [Description("Cultivar")]
               [Display(DisplayType = DisplayAttribute.DisplayTypeEnum.CultivarName)]
               public string CultivarName { get; set; }
               [Description("Sowing Date")]
               public DateTime SowingDate { get; set; }
               [Description("Fertiliser applied at planting")]
               public double PlantingFertiliser { get; set;}
               
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
                double PlantPopulation = 1/((RowWidth/1000)*(RowSpace/1000));

                if (Clock.Today.Date == SowingDate)
                {
                    Potato.Sow(population:PlantPopulation, cultivar:CultivarName, depth:PlantingDepth, rowSpacing:150, budNumber:StemNumberPerSeedTuber);
                 }
                    
                //Potato.Sow(... Contains the following arguements:
                //Population  double  Required  Seeds sowing/m2
                //Cultivar    string  Required  "NameOfCultivar"
                //Depth       double  Optional  Depth (mm) seed sown.   Default is 100mm 
                //MaxCover    double  Optional  Proportion (0-1) of the ground row crop will cover.   Default is 1.0
                //BudNumber   double  Optional  Number of mainstems per seed sown.  Default is 1.0
                //RowSpacing  double  Optional  Spaceing (mm) between drill rows when crop is sown.  Default is 150mm
                //CropClass   string  Optional  Crop class to instantiate when crop is sown.  Default is "Plant"
               }
            }
        }
                
<br/>
PADDOCK.MANAGER FOLDER.FERTILISERRULE
-------------------------------------

        using System;
        using Models.Core;
        using Models.PMF;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Clock Clock;
               [Link] Fertiliser Fertiliser;
               [Description("N applied (kg/ha) on first fertiliser event")]
               public double Fert1 { get; set; }
               [Description("N applied (kg/ha) on 2nd fertiliser event")]
               public double Fert2 { get; set; }
               [Description("N applied (kg/ha) on 3rd fertiliser event")]
               public double Fert3 { get; set; }
               [Description("Days after sowing for first N application")]
               public double Day1 { get; set; }
               [Description("Days after sowing for second N application")]
               public double Day2 { get; set; }
               [Description("Days after sowing for third N application")]
               public double Day3 { get; set; }
                
                private double DaysAfterSowing = 0;
               
               [EventSubscribe("Sowing")]
               private void OnSowing(object sender, EventArgs e)
               {
               DaysAfterSowing = 0;
               }
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
                DaysAfterSowing += 1;
                if(DaysAfterSowing == Day1)
                 Fertiliser.Apply(Fert1, Fertiliser.Types.UreaN, 10);
               if(DaysAfterSowing == Day2)
                 Fertiliser.Apply(Fert2, Fertiliser.Types.UreaN, 10);
               if(DaysAfterSowing == Day3)
                 Fertiliser.Apply(Fert3, Fertiliser.Types.UreaN, 10);
               }
            }
        }
                
<br/>
PADDOCK.EXTRAVARIABLES
----------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.Soils;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Clock Clock;
        [Link] Soils.Soil Soil;
        [Link] Models.SurfaceOM.SurfaceOrganicMatter SOM;
        [Link] Weather Met;   
        [Link] Fertiliser Fert;
        [Link] Irrigation Irrig;  
        [Link] Plant Potato;
        [Link] Zone zone;
                    
        [XmlIgnore] public bool InitialDay { get; set; }
        
        [XmlIgnore] public double AccumPlantN { get; set; }
        [XmlIgnore] public double AccumMineralisation { get; set; }
        [XmlIgnore] public double AccumDenit { get; set; }
        [XmlIgnore] public double AccumFert { get; set; }
        [XmlIgnore] public double AccumLeach { get; set; }
        [XmlIgnore] public double AccumDetach { get; set; }
        [XmlIgnore] public double DeltaSoilOMN { get; set; }
        [XmlIgnore] public double DeltaSurfaceOMN { get; set; }
        [XmlIgnore] public double DeltaSoilMineralN { get; set; }
        [XmlIgnore] public double SoilNitrogenContent { get; set; }
        
        [XmlIgnore] public double AccumEO { get; set; }
        [XmlIgnore] public double AccumEP { get; set; }
        [XmlIgnore] public double AccumES { get; set; }
        [XmlIgnore] public double AccumDrainage { get; set; }
        [XmlIgnore] public double AccumRunoff { get; set; }
        [XmlIgnore] public double AccumOutflowLat { get; set; }
        [XmlIgnore] public double AccumIrrigation { get; set; }
        [XmlIgnore] public double AccumRainfall { get; set; }
        [XmlIgnore] public double SoilWaterDeficit { get; set; }
        
        [XmlIgnore] public double AccumTtemerg { get; set; }
        
        [XmlIgnore] public double  InitialSoilOMN { get; set; }
        [XmlIgnore] public double  InitialSurfaceOMN { get; set; }
        [XmlIgnore] public double  InitialMineralN { get; set; }
        
        [XmlIgnore] public double SWC { get; set; }
        [XmlIgnore] public double DUL { get; set; }
        [XmlIgnore] public double OutFlowLat { get; set; }

        [XmlIgnore] public double FomN { get; set; }
        [XmlIgnore] public double BiomN { get; set; }
        [XmlIgnore] public double HumN { get; set; }
        [XmlIgnore] public double OrganicN { get; set; }
        [XmlIgnore] public double NO3N { get; set; }
        [XmlIgnore] public double NH4N { get; set; }
        [XmlIgnore] public double UreaN { get; set; }
        [XmlIgnore] public double MineralN { get; set; }
        [XmlIgnore] public double DltNMinRes { get; set; }
        [XmlIgnore] public double DltNMinTot { get; set; }

        
        [EventSubscribe("Commencing")]
        private void OnSimulationCommencing(object sender, EventArgs e)
        {
            InitialDay = true;
        }       
        
        [EventSubscribe("DoManagement")]
        private void OnDoManagement(object sender, EventArgs e)
        {
            //!!!!!! Nitrogen balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!
               FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            OrganicN = FomN + HumN + BiomN;
            NO3N = Utility.Math.Sum(Soil.NO3N);
            NH4N = Utility.Math.Sum(Soil.NH4N);
            UreaN = Utility.Math.Sum(Soil.SoilNitrogen.urea);
            MineralN = NO3N + NH4N + UreaN; 
            DltNMinRes = Utility.Math.Sum(Soil.SoilNitrogen.dlt_n_min_res);
            DltNMinTot = Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            int layers = Soil.Thickness.Length;
            if (InitialDay == true)
            {
                InitialSurfaceOMN = SOM.N;
                InitialSoilOMN = OrganicN;
                InitialMineralN = MineralN;
                InitialDay = false;
            }
            AccumFert += Fert.NitrogenApplied;
            DeltaSurfaceOMN = SOM.N - InitialSurfaceOMN;
            AccumLeach = AccumLeach - Soil.SoilWater.LeachNH4 - Soil.SoilWater.LeachNO3 - Soil.SoilWater.LeachUrea; //Fails
            AccumMineralisation += Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            AccumDenit -= Utility.Math.Sum(Soil.SoilNitrogen.Denitrification);
            AccumPlantN -= (double)zone.Get("Potato.Root.NUptake");
            DeltaSoilOMN = OrganicN - InitialSoilOMN;
            DeltaSoilMineralN = MineralN - InitialMineralN;
            SoilNitrogenContent = MineralN;
            
            //!!!!!! Water balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!

            AccumIrrigation += Irrig.IrrigationApplied;
            AccumRainfall += Met.Rain;
            AccumEP -= (double)zone.Get("Potato.Leaf.Transpiration");
            SoilWaterDeficit =  (SWC - DUL);
            double OutFlowLat = Utility.Math.Sum(Soil.SoilWater.outflow_lat);
            AccumOutflowLat -= OutFlowLat;
            
            //!!!!!! Thermal time calculation !!!!!!
            //!!!!!! ^^^^^^^^^^^^^^^^^^^^^^^^ !!!!!!
            if (Potato.Phenology.Stage >= 3)
            AccumTtemerg += Potato.Phenology.ThermalTime.Value;
        }
        
        [EventSubscribe("DoManagementCalculations")]
        private void OnDoManagementCalculations(object sender, EventArgs e)
        {
            FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            
            
            AccumEO -= Soil.SoilWater.Eo;
            AccumES -= Soil.SoilWater.Es; 
            AccumDrainage -= Soil.SoilWater.Drainage;
            AccumRunoff -= Soil.SoilWater.Runoff;
            SWC = Utility.Math.Sum(Soil.SoilWater.SWmm);
            DUL = Utility.Math.Sum(Soil.SoilWater.DULmm);

        }
    }
}
       
<br/>
PADDOCK.REPORT
--------------
                                   Output variables  Output frequency
                                      [Clock].Today  [Clock].DoReport
               [ExtraVariables].Script.AccumTtemerg                  
                  Potato.Phenology.CurrentPhaseName                  
                             Potato.Phenology.Stage                  
                [ExtraVariables].Script.AccumPlantN                  
        [ExtraVariables].Script.AccumMineralisation                  
                 [ExtraVariables].Script.AccumDenit                  
                  [ExtraVariables].Script.AccumFert                  
                 [ExtraVariables].Script.AccumLeach                  
                [ExtraVariables].Script.AccumDetach                  
               [ExtraVariables].Script.DeltaSoilOMN                  
            [ExtraVariables].Script.DeltaSurfaceOMN                  
          [ExtraVariables].Script.DeltaSoilMineralN                  
                          Potato.Root.NSupplyUptake                  
                                [Soil].SoilWater.Eo                  
                                [Soil].SoilWater.Es                  
                        [ExtraVariables].Script.SWC                  
                        [ExtraVariables].Script.DUL                  
                          [Soil].SoilWater.Drainage                  
                            [Soil].SoilWater.Runoff                  
                 [ExtraVariables].Script.OutFlowLat                  
                              [Soil].SoilWater.pond                  
                    [ExtraVariables].Script.AccumEO                  
                    [ExtraVariables].Script.AccumEP                  
                    [ExtraVariables].Script.AccumES                  
              [ExtraVariables].Script.AccumDrainage                  
                [ExtraVariables].Script.AccumRunoff                  
              [ExtraVariables].Script.AccumRainfall                  
            [ExtraVariables].Script.AccumIrrigation                  
            [ExtraVariables].Script.AccumOutflowLat                  
           [ExtraVariables].Script.SoilWaterDeficit                  
                   Potato.Summariser.AboveGround.Wt                  
                   Potato.Summariser.BelowGround.Wt                  
                         Potato.Summariser.Total.Wt                  
                     Potato.Summariser.TotalDead.Wt                  
                     Potato.Summariser.TotalLive.Wt                  
                                Potato.Leaf.Dead.Wt                  
                                Potato.Leaf.Live.Wt                  
                                Potato.Stem.Dead.Wt                  
                                Potato.Stem.Live.Wt                  
                               Potato.Tuber.Dead.Wt                  
                               Potato.Tuber.Live.Wt                  
                                Potato.Root.Dead.Wt                  
                                Potato.Root.Live.Wt                  
                    Potato.Summariser.AboveGround.N                  
                    Potato.Summariser.BelowGround.N                  
                          Potato.Summariser.Total.N                  
                      Potato.Summariser.TotalLive.N                  
                      Potato.Summariser.TotalDead.N                  
                                 Potato.Leaf.Dead.N                  
                                 Potato.Leaf.Live.N                  
                                 Potato.Stem.Dead.N                  
                                 Potato.Stem.Live.N                  
                                Potato.Tuber.Dead.N                  
                                Potato.Tuber.Live.N                  
                                 Potato.Root.Live.N                  
                                 Potato.Root.Dead.N                  
                             Potato.Leaf.Live.NConc                  
                             Potato.Leaf.Dead.NConc                  
                             Potato.Stem.Live.NConc                  
                             Potato.Stem.Dead.NConc                  
                            Potato.Tuber.Live.NConc                  
                            Potato.Tuber.Dead.NConc                  
                             Potato.Root.Live.NConc                  
                             Potato.Root.Dead.NConc                  
                            Potato.Root.WaterSupply                  
                            Potato.Root.WaterUptake                  
                          Potato.Leaf.Transpiration                  
                            Potato.Leaf.WaterDemand                  
                                  Potato.Root.Depth                  
                             Potato.Leaf.CoverGreen                  
                             Potato.Leaf.CoverTotal                  
                              Potato.Leaf.CoverDead                  
                                    Potato.Leaf.LAI                  
                                Potato.Leaf.LAIDead                  
                            Potato.Structure.Height                  
                                     Potato.Leaf.Fn                  
                                     Potato.Leaf.Fw                  
                Potato.Leaf.Photosynthesis.FT.Value                  
              Potato.Leaf.Photosynthesis.FVPD.Value                  
                  Potato.Structure.PlantTotalNodeNo                  
                     Potato.Structure.TotalStemPopn                  
               Potato.Leaf.PlantAppearedGreenLeafNo                  
                      Potato.Leaf.ExpandingCohortNo                  
                       Potato.Leaf.AppearedCohortNo                  
                           Potato.Leaf.DeadCohortNo                  
                    Potato.Structure.MainStemNodeNo                  
                      Potato.Leaf.SenescingCohortNo                  
             Potato.Structure.PrimaryBudTotalNodeNo                  
Potato.Leaf.LeafCohortParameters.MinimumNConc.Value                  
                     Potato.Stem.MinimumNConc.Value                  
                    Potato.Tuber.MinimumNConc.Value                  
                     Potato.Root.MinimumNConc.Value                  
Potato.Leaf.LeafCohortParameters.MaximumNConc.Value                  
                     Potato.Stem.MaximumNConc.Value                  
                    Potato.Tuber.MaximumNConc.Value                  
                     Potato.Root.MaximumNConc.Value                  
                      Potato.Stem.Live.StructuralWt                  
                   Potato.Stem.Live.NonStructuralWt                  
                           Potato.Leaf.SpecificArea                  
                       Potato.Leaf.ExpandedCohortNo                  
                              [Soil].SoilWater.SWmm                  
                                        [Soil].NO3N                  
        [ExtraVariables].Script.SoilNitrogenContent                  
                          Potato.Arbitrator.NDemand                  
                            [MicroClimate].net_radn                  
                                [MicroClimate].peta                  
                                [MicroClimate].petr                  
                       [ExtraVariables].Script.FomN                  
                       [ExtraVariables].Script.HumN                  
                      [ExtraVariables].Script.BiomN                  
                 [ExtraVariables].Script.DltNMinRes                  
                 [ExtraVariables].Script.DltNMinTot                  
                [PotatoHarvestRule].Script.FinalTag                  
                               Potato.Tuber.LiveFWt                  
                Potato.Tuber.DryMatterContent.Value                  

<br/>
PADDOCK.SETINTERGERCROPPARAMETER
--------------------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Plant Plant;          
        [Link] Zone zone;            
                    
        [Description("Path for coefficient to be Overwritten")]
        public string OverRidePath { get; set; }
        [Description("Value for new coefficient Interger")]
        public int OverRideInterger { get; set; }
        
        [EventSubscribe("Sowing")]
        private void OnSowing(object sender, EventArgs e)
        {
            object ResetValue = OverRideInterger;
            zone.Set(OverRidePath, ResetValue);
        }
    }
}
       
<br/>
SIMULATION LOG:
---------------


2007-11-23 paddock.Potato
    A crop of Potato (cultivar = Coliban) was sown today at a population of 4.63821892393321 plants/m2 with 2.4 buds per plant at a row spacing of 150 and a depth of 170 mm
    


2007-11-23 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-23 paddock.Potato.Summariser
    Peeping
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


2007-11-24 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-26 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-27 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-29 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-02 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-05 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-08 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-09 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-10 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-11 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-12 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-13 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-14 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-16 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-17 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-18 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-19 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-19 paddock.Fertiliser
    37 kg/ha of UreaN added at depth 10 layer 1
    


2007-12-19 paddock.Potato.Summariser
    Emergence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


2007-12-20 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-21 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-22 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-23 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-24 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-26 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-27 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-29 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-30 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-31 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-02 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-05 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-08 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-09 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-10 paddock.Fertiliser
    48 kg/ha of UreaN added at depth 10 layer 1
    


2008-01-10 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-11 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-12 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-13 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-13 paddock.Fertiliser
    38 kg/ha of UreaN added at depth 10 layer 1
    


2008-01-14 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-15 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-16 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-17 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-17 paddock.Potato.Summariser
    TuberInitiation
      LAI = 0.85 (m^2/m^2)
      Above Ground Biomass = 61.45 (g/m^2)
    
    


2008-01-18 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-20 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-21 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-22 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-23 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-24 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-26 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-27 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-28 paddock.Fertiliser
    25 kg/ha of UreaN added at depth 10 layer 1
    


2008-01-29 paddock.Fertiliser
    40 kg/ha of UreaN added at depth 10 layer 1
    


2008-01-29 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-30 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-31 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-02 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-05 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-08 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-09 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-10 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-11 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-12 paddock.Fertiliser
    40 kg/ha of UreaN added at depth 10 layer 1
    


2008-02-12 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-13 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-14 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-15 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-16 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-17 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-18 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-19 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-20 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-21 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-22 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-23 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-24 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-26 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-27 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-28 paddock.Fertiliser
    40 kg/ha of UreaN added at depth 10 layer 1
    


2008-02-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-29 paddock.Fertiliser
    20 kg/ha of UreaN added at depth 10 layer 1
    


2008-02-29 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-02 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-05 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-06 paddock.Potato.Summariser
    TuberInitiation
      LAI = 2.01 (m^2/m^2)
      Above Ground Biomass = 160.53 (g/m^2)
    
    Maturity
      LAI = 2.01 (m^2/m^2)
      Above Ground Biomass = 160.53 (g/m^2)
    
    


2008-03-06 paddock.Potato
    A crop of Potato was harvested today, Yeahhh
    


2008-03-06 paddock.Fertiliser
    40 kg/ha of UreaN added at depth 10 layer 1
    


2008-03-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-08 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-09 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-10 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-11 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-12 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-13 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-14 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-15 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-16 paddock.Fertiliser
    40 kg/ha of UreaN added at depth 10 layer 1
    


2008-03-16 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-17 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-18 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-19 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-20 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-22 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-23 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-26 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-29 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-31 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-09 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-10 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-12 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-13 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-15 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-16 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-18 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-19 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-21 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-22 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-24 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-27 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-30 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-05-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-05-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-05-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-05-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-05-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


############################################################################
.PARILLASOWING3DECNITROGENHIGHN
-------------------------------
Simulation name:   ParillaSowing3DecNitrogenhighN

<br/>
WEATHER
-------
Weather file name:   Lameroo.met

<br/>
CLOCK
-----
The start date of the simulation:   2007-11-22
  The end date of the simulation:   2008-06-30

<br/>
PADDOCK.SOIL
------------
    Record number:       0
 Latitude (WGS84):   0.000
Longitude (WGS84):   0.000

<br/>
PADDOCK.SOIL.ANALYSIS
---------------------
Depth (cm)  PH (1:5 water)
      0-10             6.6
     10-30             6.2
     30-60             5.7
     60-90             5.5
    90-120             5.5
   120-150             5.5

<br/>
PADDOCK.SOIL.INITIAL WATER
--------------------------
        Fraction full:          1.000
    Depth of wet soil:            NaN
Plant available water:   102.000 (mm)

<br/>
PADDOCK.SOIL.WATER
------------------
Depth (cm)  BD (g/cc)  Air dry (mm/mm)  LL15 (mm/mm)  DUL (mm/mm)  SAT (mm/mm)
      0-10       1.20             0.03          0.06         0.16         0.25
     10-30       1.20             0.05          0.06         0.16         0.25
     30-60       1.20             0.06          0.06         0.12         0.25
     60-90       1.20             0.06          0.06         0.12         0.25
    90-120       1.20             0.06          0.06         0.12         0.25
   120-150       1.20             0.06          0.06         0.12         0.25

<br/>
PADDOCK.SOIL.WATER.POTATOSOIL
-----------------------------
potato Depth (cm)  potato LL (mm/mm)  potato PAWC (mm)  potato KL (mm/mm)  potato XF (mm/mm)
             0-10               0.06              10.0               0.10                1.0
            10-30               0.06              20.0               0.10                1.0
            30-60               0.12               0.0               0.07                1.0
            60-90               0.12               0.0               0.05                1.0
           90-120               0.12               0.0               0.05                1.0
          120-150               0.12               0.0               0.05                1.0
                                                  30.0                                      

<br/>
PADDOCK.SOIL.SOILORGANICMATTER
------------------------------
                  Root C:N ratio:     30.000
             Root Weight (kg/ha):   3000.000
                  Soil C:N ratio:     11.500
Erosion enrichment coefficient A:      7.400
Erosion enrichment coefficient B:      0.200

Depth (cm)  OC (Total %)  FBiom (0-1)  FInert (0-1)
      0-10          0.70        0.025           0.3
     10-30          0.50        0.025           0.4
     30-60          0.30        0.015          0.75
     60-90          0.30         0.01           0.9
    90-120          0.30         0.01          0.96
   120-150          0.30         0.01          0.96

<br/>
PADDOCK.SOIL.INITIAL NITROGEN
-----------------------------
Depth (cm)  NO3kgha  NH4kgha
      0-10     25.5      0.1
     10-30     45.9      0.2
     30-60      2.0      0.4
     60-90      2.0      0.4
    90-120      2.0      0.4
   120-150      2.0      0.4

<br/>
PADDOCK.SURFACE ORGANIC MATTER
------------------------------
Surface organic matter pool name:           wheat
Surface organic matter pool type:           wheat
 Mass of surface residue (kg/ha):       0 (kg/ha)
         Standing fraction (0-1):         0 (0-1)
     Carbon:Nitrogen ratio (g/g):        60 (g/g)
                  Carbon content:   0.000 (kg/ha)
                Nitrogen content:   0.000 (kg/ha)
              Phosphorus content:   0.000 (kg/ha)

<br/>
PADDOCK.POTATOHARVESTRULE
-------------------------

        using System;
        using Models.Core;
        using Models.PMF;
        using System.Xml.Serialization;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;
               [Link] Summary Summary;
               [Description("HarvestDate Date")]
               public DateTime HarvestDate { get; set; }            
               [XmlIgnore] public string FinalTag { get; set;}
               [XmlIgnore] public bool Harvested {get; set;}
               [XmlIgnore] public bool ReadyForHarvest {get; set;}
               
               [EventSubscribe("Commencing")]
               private void OnSimulationCommencing(object sender, EventArgs e)
               {
               FinalTag = "";
               Harvested = false;
               ReadyForHarvest = false;
               }
               
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
               if (ReadyForHarvest == true)
                   {
                   Potato.Harvest();
                   ReadyForHarvest = false;
                   Harvested = true;
                   }
               FinalTag = "";    
               }
               
               [EventSubscribe("DoManagementCalculations")]
               private void OnDoManagementCalculations(object sender, EventArgs e)
               {
                if ((Clock.Today == HarvestDate)&&(Harvested == false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
                if((Potato.Phenology.Stage>=7)&&(Harvested==false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
               }
            }
        }
                
<br/>
PADDOCK.MANAGER FOLDER.POTATOSOWINGRULE
---------------------------------------

        using System;
        using Models.Core;
        using Models.PMF;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;
               [Link] Fertiliser Fertiliser;
               [Description("Spacing (mm) between plants within rows")]
               public double RowSpace { get; set; }
               [Description("Spacing (mm) between rows")]
               public double RowWidth { get; set; }
               [Description("Depth (mm) tubers are planted")]
               public double PlantingDepth { get; set; }
               [Description("Number of stems per seed tuber")]
               public double StemNumberPerSeedTuber { get; set; }
               [Description("Cultivar")]
               [Display(DisplayType = DisplayAttribute.DisplayTypeEnum.CultivarName)]
               public string CultivarName { get; set; }
               [Description("Sowing Date")]
               public DateTime SowingDate { get; set; }
               [Description("Fertiliser applied at planting")]
               public double PlantingFertiliser { get; set;}
               
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
                double PlantPopulation = 1/((RowWidth/1000)*(RowSpace/1000));

                if (Clock.Today.Date == SowingDate)
                {
                    Potato.Sow(population:PlantPopulation, cultivar:CultivarName, depth:PlantingDepth, rowSpacing:150, budNumber:StemNumberPerSeedTuber);
                 }
                    
                //Potato.Sow(... Contains the following arguements:
                //Population  double  Required  Seeds sowing/m2
                //Cultivar    string  Required  "NameOfCultivar"
                //Depth       double  Optional  Depth (mm) seed sown.   Default is 100mm 
                //MaxCover    double  Optional  Proportion (0-1) of the ground row crop will cover.   Default is 1.0
                //BudNumber   double  Optional  Number of mainstems per seed sown.  Default is 1.0
                //RowSpacing  double  Optional  Spaceing (mm) between drill rows when crop is sown.  Default is 150mm
                //CropClass   string  Optional  Crop class to instantiate when crop is sown.  Default is "Plant"
               }
            }
        }
                
<br/>
PADDOCK.MANAGER FOLDER.FERTILISERRULE
-------------------------------------

        using System;
        using Models.Core;
        using Models.PMF;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Clock Clock;
               [Link] Fertiliser Fertiliser;
               [Description("N applied (kg/ha) on first fertiliser event")]
               public double Fert1 { get; set; }
               [Description("N applied (kg/ha) on 2nd fertiliser event")]
               public double Fert2 { get; set; }
               [Description("N applied (kg/ha) on 3rd fertiliser event")]
               public double Fert3 { get; set; }
               [Description("Days after sowing for first N application")]
               public double Day1 { get; set; }
               [Description("Days after sowing for second N application")]
               public double Day2 { get; set; }
               [Description("Days after sowing for third N application")]
               public double Day3 { get; set; }
                
                private double DaysAfterSowing = 0;
               
               [EventSubscribe("Sowing")]
               private void OnSowing(object sender, EventArgs e)
               {
               DaysAfterSowing = 0;
               }
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
                DaysAfterSowing += 1;
                if(DaysAfterSowing == Day1)
                 Fertiliser.Apply(Fert1, Fertiliser.Types.UreaN, 10);
               if(DaysAfterSowing == Day2)
                 Fertiliser.Apply(Fert2, Fertiliser.Types.UreaN, 10);
               if(DaysAfterSowing == Day3)
                 Fertiliser.Apply(Fert3, Fertiliser.Types.UreaN, 10);
               }
            }
        }
                
<br/>
PADDOCK.EXTRAVARIABLES
----------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.Soils;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Clock Clock;
        [Link] Soils.Soil Soil;
        [Link] Models.SurfaceOM.SurfaceOrganicMatter SOM;
        [Link] Weather Met;   
        [Link] Fertiliser Fert;
        [Link] Irrigation Irrig;  
        [Link] Plant Potato;
        [Link] Zone zone;
                    
        [XmlIgnore] public bool InitialDay { get; set; }
        
        [XmlIgnore] public double AccumPlantN { get; set; }
        [XmlIgnore] public double AccumMineralisation { get; set; }
        [XmlIgnore] public double AccumDenit { get; set; }
        [XmlIgnore] public double AccumFert { get; set; }
        [XmlIgnore] public double AccumLeach { get; set; }
        [XmlIgnore] public double AccumDetach { get; set; }
        [XmlIgnore] public double DeltaSoilOMN { get; set; }
        [XmlIgnore] public double DeltaSurfaceOMN { get; set; }
        [XmlIgnore] public double DeltaSoilMineralN { get; set; }
        [XmlIgnore] public double SoilNitrogenContent { get; set; }
        
        [XmlIgnore] public double AccumEO { get; set; }
        [XmlIgnore] public double AccumEP { get; set; }
        [XmlIgnore] public double AccumES { get; set; }
        [XmlIgnore] public double AccumDrainage { get; set; }
        [XmlIgnore] public double AccumRunoff { get; set; }
        [XmlIgnore] public double AccumOutflowLat { get; set; }
        [XmlIgnore] public double AccumIrrigation { get; set; }
        [XmlIgnore] public double AccumRainfall { get; set; }
        [XmlIgnore] public double SoilWaterDeficit { get; set; }
        
        [XmlIgnore] public double AccumTtemerg { get; set; }
        
        [XmlIgnore] public double  InitialSoilOMN { get; set; }
        [XmlIgnore] public double  InitialSurfaceOMN { get; set; }
        [XmlIgnore] public double  InitialMineralN { get; set; }
        
        [XmlIgnore] public double SWC { get; set; }
        [XmlIgnore] public double DUL { get; set; }
        [XmlIgnore] public double OutFlowLat { get; set; }

        [XmlIgnore] public double FomN { get; set; }
        [XmlIgnore] public double BiomN { get; set; }
        [XmlIgnore] public double HumN { get; set; }
        [XmlIgnore] public double OrganicN { get; set; }
        [XmlIgnore] public double NO3N { get; set; }
        [XmlIgnore] public double NH4N { get; set; }
        [XmlIgnore] public double UreaN { get; set; }
        [XmlIgnore] public double MineralN { get; set; }
        [XmlIgnore] public double DltNMinRes { get; set; }
        [XmlIgnore] public double DltNMinTot { get; set; }

        
        [EventSubscribe("Commencing")]
        private void OnSimulationCommencing(object sender, EventArgs e)
        {
            InitialDay = true;
        }       
        
        [EventSubscribe("DoManagement")]
        private void OnDoManagement(object sender, EventArgs e)
        {
            //!!!!!! Nitrogen balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!
               FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            OrganicN = FomN + HumN + BiomN;
            NO3N = Utility.Math.Sum(Soil.NO3N);
            NH4N = Utility.Math.Sum(Soil.NH4N);
            UreaN = Utility.Math.Sum(Soil.SoilNitrogen.urea);
            MineralN = NO3N + NH4N + UreaN; 
            DltNMinRes = Utility.Math.Sum(Soil.SoilNitrogen.dlt_n_min_res);
            DltNMinTot = Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            int layers = Soil.Thickness.Length;
            if (InitialDay == true)
            {
                InitialSurfaceOMN = SOM.N;
                InitialSoilOMN = OrganicN;
                InitialMineralN = MineralN;
                InitialDay = false;
            }
            AccumFert += Fert.NitrogenApplied;
            DeltaSurfaceOMN = SOM.N - InitialSurfaceOMN;
            AccumLeach = AccumLeach - Soil.SoilWater.LeachNH4 - Soil.SoilWater.LeachNO3 - Soil.SoilWater.LeachUrea; //Fails
            AccumMineralisation += Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            AccumDenit -= Utility.Math.Sum(Soil.SoilNitrogen.Denitrification);
            AccumPlantN -= (double)zone.Get("Potato.Root.NUptake");
            DeltaSoilOMN = OrganicN - InitialSoilOMN;
            DeltaSoilMineralN = MineralN - InitialMineralN;
            SoilNitrogenContent = MineralN;
            
            //!!!!!! Water balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!

            AccumIrrigation += Irrig.IrrigationApplied;
            AccumRainfall += Met.Rain;
            AccumEP -= (double)zone.Get("Potato.Leaf.Transpiration");
            SoilWaterDeficit =  (SWC - DUL);
            double OutFlowLat = Utility.Math.Sum(Soil.SoilWater.outflow_lat);
            AccumOutflowLat -= OutFlowLat;
            
            //!!!!!! Thermal time calculation !!!!!!
            //!!!!!! ^^^^^^^^^^^^^^^^^^^^^^^^ !!!!!!
            if (Potato.Phenology.Stage >= 3)
            AccumTtemerg += Potato.Phenology.ThermalTime.Value;
        }
        
        [EventSubscribe("DoManagementCalculations")]
        private void OnDoManagementCalculations(object sender, EventArgs e)
        {
            FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            
            
            AccumEO -= Soil.SoilWater.Eo;
            AccumES -= Soil.SoilWater.Es; 
            AccumDrainage -= Soil.SoilWater.Drainage;
            AccumRunoff -= Soil.SoilWater.Runoff;
            SWC = Utility.Math.Sum(Soil.SoilWater.SWmm);
            DUL = Utility.Math.Sum(Soil.SoilWater.DULmm);

        }
    }
}
       
<br/>
PADDOCK.REPORT
--------------
                                   Output variables  Output frequency
                                      [Clock].Today  [Clock].DoReport
               [ExtraVariables].Script.AccumTtemerg                  
                  Potato.Phenology.CurrentPhaseName                  
                             Potato.Phenology.Stage                  
                [ExtraVariables].Script.AccumPlantN                  
        [ExtraVariables].Script.AccumMineralisation                  
                 [ExtraVariables].Script.AccumDenit                  
                  [ExtraVariables].Script.AccumFert                  
                 [ExtraVariables].Script.AccumLeach                  
                [ExtraVariables].Script.AccumDetach                  
               [ExtraVariables].Script.DeltaSoilOMN                  
            [ExtraVariables].Script.DeltaSurfaceOMN                  
          [ExtraVariables].Script.DeltaSoilMineralN                  
                          Potato.Root.NSupplyUptake                  
                                [Soil].SoilWater.Eo                  
                                [Soil].SoilWater.Es                  
                        [ExtraVariables].Script.SWC                  
                        [ExtraVariables].Script.DUL                  
                          [Soil].SoilWater.Drainage                  
                            [Soil].SoilWater.Runoff                  
                 [ExtraVariables].Script.OutFlowLat                  
                              [Soil].SoilWater.pond                  
                    [ExtraVariables].Script.AccumEO                  
                    [ExtraVariables].Script.AccumEP                  
                    [ExtraVariables].Script.AccumES                  
              [ExtraVariables].Script.AccumDrainage                  
                [ExtraVariables].Script.AccumRunoff                  
              [ExtraVariables].Script.AccumRainfall                  
            [ExtraVariables].Script.AccumIrrigation                  
            [ExtraVariables].Script.AccumOutflowLat                  
           [ExtraVariables].Script.SoilWaterDeficit                  
                   Potato.Summariser.AboveGround.Wt                  
                   Potato.Summariser.BelowGround.Wt                  
                         Potato.Summariser.Total.Wt                  
                     Potato.Summariser.TotalDead.Wt                  
                     Potato.Summariser.TotalLive.Wt                  
                                Potato.Leaf.Dead.Wt                  
                                Potato.Leaf.Live.Wt                  
                                Potato.Stem.Dead.Wt                  
                                Potato.Stem.Live.Wt                  
                               Potato.Tuber.Dead.Wt                  
                               Potato.Tuber.Live.Wt                  
                                Potato.Root.Dead.Wt                  
                                Potato.Root.Live.Wt                  
                    Potato.Summariser.AboveGround.N                  
                    Potato.Summariser.BelowGround.N                  
                          Potato.Summariser.Total.N                  
                      Potato.Summariser.TotalLive.N                  
                      Potato.Summariser.TotalDead.N                  
                                 Potato.Leaf.Dead.N                  
                                 Potato.Leaf.Live.N                  
                                 Potato.Stem.Dead.N                  
                                 Potato.Stem.Live.N                  
                                Potato.Tuber.Dead.N                  
                                Potato.Tuber.Live.N                  
                                 Potato.Root.Live.N                  
                                 Potato.Root.Dead.N                  
                             Potato.Leaf.Live.NConc                  
                             Potato.Leaf.Dead.NConc                  
                             Potato.Stem.Live.NConc                  
                             Potato.Stem.Dead.NConc                  
                            Potato.Tuber.Live.NConc                  
                            Potato.Tuber.Dead.NConc                  
                             Potato.Root.Live.NConc                  
                             Potato.Root.Dead.NConc                  
                            Potato.Root.WaterSupply                  
                            Potato.Root.WaterUptake                  
                          Potato.Leaf.Transpiration                  
                            Potato.Leaf.WaterDemand                  
                                  Potato.Root.Depth                  
                             Potato.Leaf.CoverGreen                  
                             Potato.Leaf.CoverTotal                  
                              Potato.Leaf.CoverDead                  
                                    Potato.Leaf.LAI                  
                                Potato.Leaf.LAIDead                  
                            Potato.Structure.Height                  
                                     Potato.Leaf.Fn                  
                                     Potato.Leaf.Fw                  
                Potato.Leaf.Photosynthesis.FT.Value                  
              Potato.Leaf.Photosynthesis.FVPD.Value                  
                  Potato.Structure.PlantTotalNodeNo                  
                     Potato.Structure.TotalStemPopn                  
               Potato.Leaf.PlantAppearedGreenLeafNo                  
                      Potato.Leaf.ExpandingCohortNo                  
                       Potato.Leaf.AppearedCohortNo                  
                           Potato.Leaf.DeadCohortNo                  
                    Potato.Structure.MainStemNodeNo                  
                      Potato.Leaf.SenescingCohortNo                  
             Potato.Structure.PrimaryBudTotalNodeNo                  
Potato.Leaf.LeafCohortParameters.MinimumNConc.Value                  
                     Potato.Stem.MinimumNConc.Value                  
                    Potato.Tuber.MinimumNConc.Value                  
                     Potato.Root.MinimumNConc.Value                  
Potato.Leaf.LeafCohortParameters.MaximumNConc.Value                  
                     Potato.Stem.MaximumNConc.Value                  
                    Potato.Tuber.MaximumNConc.Value                  
                     Potato.Root.MaximumNConc.Value                  
                      Potato.Stem.Live.StructuralWt                  
                   Potato.Stem.Live.NonStructuralWt                  
                           Potato.Leaf.SpecificArea                  
                       Potato.Leaf.ExpandedCohortNo                  
                              [Soil].SoilWater.SWmm                  
                                        [Soil].NO3N                  
        [ExtraVariables].Script.SoilNitrogenContent                  
                          Potato.Arbitrator.NDemand                  
                            [MicroClimate].net_radn                  
                                [MicroClimate].peta                  
                                [MicroClimate].petr                  
                       [ExtraVariables].Script.FomN                  
                       [ExtraVariables].Script.HumN                  
                      [ExtraVariables].Script.BiomN                  
                 [ExtraVariables].Script.DltNMinRes                  
                 [ExtraVariables].Script.DltNMinTot                  
                [PotatoHarvestRule].Script.FinalTag                  
                               Potato.Tuber.LiveFWt                  
                Potato.Tuber.DryMatterContent.Value                  

<br/>
PADDOCK.SETINTERGERCROPPARAMETER
--------------------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Plant Plant;          
        [Link] Zone zone;            
                    
        [Description("Path for coefficient to be Overwritten")]
        public string OverRidePath { get; set; }
        [Description("Value for new coefficient Interger")]
        public int OverRideInterger { get; set; }
        
        [EventSubscribe("Sowing")]
        private void OnSowing(object sender, EventArgs e)
        {
            object ResetValue = OverRideInterger;
            zone.Set(OverRidePath, ResetValue);
        }
    }
}
       
<br/>
SIMULATION LOG:
---------------


2007-11-23 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-24 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-26 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-27 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-29 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-02 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-03 paddock.Potato
    A crop of Potato (cultivar = Coliban) was sown today at a population of 4.63821892393321 plants/m2 with 2.4 buds per plant at a row spacing of 150 and a depth of 170 mm
    


2007-12-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-03 paddock.Potato.Summariser
    Peeping
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


2007-12-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-05 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-08 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-09 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-10 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-11 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-12 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-13 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-14 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-16 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-17 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-18 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-19 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-20 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-21 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-22 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-23 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-24 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-26 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-27 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-28 paddock.Potato.Summariser
    Emergence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


2007-12-29 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-30 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-31 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-02 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-05 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-08 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-09 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-10 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-11 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-12 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-13 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-13 paddock.Fertiliser
    75 kg/ha of UreaN added at depth 10 layer 1
    


2008-01-14 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-15 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-16 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-17 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-18 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-20 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-21 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-22 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-23 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-24 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-26 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-26 paddock.Potato.Summariser
    TuberInitiation
      LAI = 1.04 (m^2/m^2)
      Above Ground Biomass = 67.25 (g/m^2)
    
    


2008-01-27 paddock.Fertiliser
    44 kg/ha of UreaN added at depth 10 layer 1
    


2008-01-27 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-28 paddock.Fertiliser
    75 kg/ha of UreaN added at depth 10 layer 1
    


2008-01-29 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-30 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-31 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-02 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-05 paddock.Fertiliser
    44 kg/ha of UreaN added at depth 10 layer 1
    


2008-02-05 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-08 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-09 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-10 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-11 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-12 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-12 paddock.Fertiliser
    50 kg/ha of UreaN added at depth 10 layer 1
    


2008-02-13 paddock.Fertiliser
    40 kg/ha of UreaN added at depth 10 layer 1
    


2008-02-13 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-14 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-15 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-16 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-17 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-18 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-19 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-20 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-21 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-22 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-23 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-24 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-26 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-27 paddock.Fertiliser
    40 kg/ha of UreaN added at depth 10 layer 1
    


2008-02-27 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-29 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-02 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-05 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-06 paddock.Fertiliser
    40 kg/ha of UreaN added at depth 10 layer 1
    


2008-03-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-08 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-09 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-10 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-11 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-12 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-13 paddock.Fertiliser
    40 kg/ha of UreaN added at depth 10 layer 1
    


2008-03-13 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-14 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-15 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-16 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-17 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-18 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-19 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-20 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-21 paddock.Fertiliser
    40 kg/ha of UreaN added at depth 10 layer 1
    


2008-03-22 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-23 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-26 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-29 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-31 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-09 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-10 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-12 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-13 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-15 paddock.Potato.Summariser
    TuberInitiation
      LAI = 0.85 (m^2/m^2)
      Above Ground Biomass = 188.54 (g/m^2)
    
    Maturity
      LAI = 0.85 (m^2/m^2)
      Above Ground Biomass = 188.54 (g/m^2)
    
    


2008-04-15 paddock.Potato
    A crop of Potato was harvested today, Yeahhh
    


2008-04-15 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-16 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-18 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-19 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-21 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-22 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-24 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-27 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-30 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-05-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-05-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-05-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-05-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-05-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


############################################################################
.PARILLASOWING3DECNITROGENLOWN
------------------------------
Simulation name:   ParillaSowing3DecNitrogenlowN

<br/>
WEATHER
-------
Weather file name:   Lameroo.met

<br/>
CLOCK
-----
The start date of the simulation:   2007-11-22
  The end date of the simulation:   2008-06-30

<br/>
PADDOCK.SOIL
------------
    Record number:       0
 Latitude (WGS84):   0.000
Longitude (WGS84):   0.000

<br/>
PADDOCK.SOIL.ANALYSIS
---------------------
Depth (cm)  PH (1:5 water)
      0-10             6.6
     10-30             6.2
     30-60             5.7
     60-90             5.5
    90-120             5.5
   120-150             5.5

<br/>
PADDOCK.SOIL.INITIAL WATER
--------------------------
        Fraction full:          1.000
    Depth of wet soil:            NaN
Plant available water:   102.000 (mm)

<br/>
PADDOCK.SOIL.WATER
------------------
Depth (cm)  BD (g/cc)  Air dry (mm/mm)  LL15 (mm/mm)  DUL (mm/mm)  SAT (mm/mm)
      0-10       1.20             0.03          0.06         0.16         0.25
     10-30       1.20             0.05          0.06         0.16         0.25
     30-60       1.20             0.06          0.06         0.12         0.25
     60-90       1.20             0.06          0.06         0.12         0.25
    90-120       1.20             0.06          0.06         0.12         0.25
   120-150       1.20             0.06          0.06         0.12         0.25

<br/>
PADDOCK.SOIL.WATER.POTATOSOIL
-----------------------------
potato Depth (cm)  potato LL (mm/mm)  potato PAWC (mm)  potato KL (mm/mm)  potato XF (mm/mm)
             0-10               0.06              10.0               0.10                1.0
            10-30               0.06              20.0               0.10                1.0
            30-60               0.12               0.0               0.07                1.0
            60-90               0.12               0.0               0.05                1.0
           90-120               0.12               0.0               0.05                1.0
          120-150               0.12               0.0               0.05                1.0
                                                  30.0                                      

<br/>
PADDOCK.SOIL.SOILORGANICMATTER
------------------------------
                  Root C:N ratio:     30.000
             Root Weight (kg/ha):   3000.000
                  Soil C:N ratio:     11.500
Erosion enrichment coefficient A:      7.400
Erosion enrichment coefficient B:      0.200

Depth (cm)  OC (Total %)  FBiom (0-1)  FInert (0-1)
      0-10          0.70        0.025           0.3
     10-30          0.50        0.025           0.4
     30-60          0.30        0.015          0.75
     60-90          0.30         0.01           0.9
    90-120          0.30         0.01          0.96
   120-150          0.30         0.01          0.96

<br/>
PADDOCK.SOIL.INITIAL NITROGEN
-----------------------------
Depth (cm)  NO3kgha  NH4kgha
      0-10     25.5      0.1
     10-30     45.9      0.2
     30-60      2.0      0.4
     60-90      2.0      0.4
    90-120      2.0      0.4
   120-150      2.0      0.4

<br/>
PADDOCK.SURFACE ORGANIC MATTER
------------------------------
Surface organic matter pool name:           wheat
Surface organic matter pool type:           wheat
 Mass of surface residue (kg/ha):       0 (kg/ha)
         Standing fraction (0-1):         0 (0-1)
     Carbon:Nitrogen ratio (g/g):        60 (g/g)
                  Carbon content:   0.000 (kg/ha)
                Nitrogen content:   0.000 (kg/ha)
              Phosphorus content:   0.000 (kg/ha)

<br/>
PADDOCK.POTATOHARVESTRULE
-------------------------

        using System;
        using Models.Core;
        using Models.PMF;
        using System.Xml.Serialization;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;
               [Link] Summary Summary;
               [Description("HarvestDate Date")]
               public DateTime HarvestDate { get; set; }            
               [XmlIgnore] public string FinalTag { get; set;}
               [XmlIgnore] public bool Harvested {get; set;}
               [XmlIgnore] public bool ReadyForHarvest {get; set;}
               
               [EventSubscribe("Commencing")]
               private void OnSimulationCommencing(object sender, EventArgs e)
               {
               FinalTag = "";
               Harvested = false;
               ReadyForHarvest = false;
               }
               
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
               if (ReadyForHarvest == true)
                   {
                   Potato.Harvest();
                   ReadyForHarvest = false;
                   Harvested = true;
                   }
               FinalTag = "";    
               }
               
               [EventSubscribe("DoManagementCalculations")]
               private void OnDoManagementCalculations(object sender, EventArgs e)
               {
                if ((Clock.Today == HarvestDate)&&(Harvested == false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
                if((Potato.Phenology.Stage>=7)&&(Harvested==false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
               }
            }
        }
                
<br/>
PADDOCK.MANAGER FOLDER.POTATOSOWINGRULE
---------------------------------------

        using System;
        using Models.Core;
        using Models.PMF;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;
               [Link] Fertiliser Fertiliser;
               [Description("Spacing (mm) between plants within rows")]
               public double RowSpace { get; set; }
               [Description("Spacing (mm) between rows")]
               public double RowWidth { get; set; }
               [Description("Depth (mm) tubers are planted")]
               public double PlantingDepth { get; set; }
               [Description("Number of stems per seed tuber")]
               public double StemNumberPerSeedTuber { get; set; }
               [Description("Cultivar")]
               [Display(DisplayType = DisplayAttribute.DisplayTypeEnum.CultivarName)]
               public string CultivarName { get; set; }
               [Description("Sowing Date")]
               public DateTime SowingDate { get; set; }
               [Description("Fertiliser applied at planting")]
               public double PlantingFertiliser { get; set;}
               
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
                double PlantPopulation = 1/((RowWidth/1000)*(RowSpace/1000));

                if (Clock.Today.Date == SowingDate)
                {
                    Potato.Sow(population:PlantPopulation, cultivar:CultivarName, depth:PlantingDepth, rowSpacing:150, budNumber:StemNumberPerSeedTuber);
                 }
                    
                //Potato.Sow(... Contains the following arguements:
                //Population  double  Required  Seeds sowing/m2
                //Cultivar    string  Required  "NameOfCultivar"
                //Depth       double  Optional  Depth (mm) seed sown.   Default is 100mm 
                //MaxCover    double  Optional  Proportion (0-1) of the ground row crop will cover.   Default is 1.0
                //BudNumber   double  Optional  Number of mainstems per seed sown.  Default is 1.0
                //RowSpacing  double  Optional  Spaceing (mm) between drill rows when crop is sown.  Default is 150mm
                //CropClass   string  Optional  Crop class to instantiate when crop is sown.  Default is "Plant"
               }
            }
        }
                
<br/>
PADDOCK.MANAGER FOLDER.FERTILISERRULE
-------------------------------------

        using System;
        using Models.Core;
        using Models.PMF;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Clock Clock;
               [Link] Fertiliser Fertiliser;
               [Description("N applied (kg/ha) on first fertiliser event")]
               public double Fert1 { get; set; }
               [Description("N applied (kg/ha) on 2nd fertiliser event")]
               public double Fert2 { get; set; }
               [Description("N applied (kg/ha) on 3rd fertiliser event")]
               public double Fert3 { get; set; }
               [Description("Days after sowing for first N application")]
               public double Day1 { get; set; }
               [Description("Days after sowing for second N application")]
               public double Day2 { get; set; }
               [Description("Days after sowing for third N application")]
               public double Day3 { get; set; }
                
                private double DaysAfterSowing = 0;
               
               [EventSubscribe("Sowing")]
               private void OnSowing(object sender, EventArgs e)
               {
               DaysAfterSowing = 0;
               }
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
                DaysAfterSowing += 1;
                if(DaysAfterSowing == Day1)
                 Fertiliser.Apply(Fert1, Fertiliser.Types.UreaN, 10);
               if(DaysAfterSowing == Day2)
                 Fertiliser.Apply(Fert2, Fertiliser.Types.UreaN, 10);
               if(DaysAfterSowing == Day3)
                 Fertiliser.Apply(Fert3, Fertiliser.Types.UreaN, 10);
               }
            }
        }
                
<br/>
PADDOCK.EXTRAVARIABLES
----------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.Soils;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Clock Clock;
        [Link] Soils.Soil Soil;
        [Link] Models.SurfaceOM.SurfaceOrganicMatter SOM;
        [Link] Weather Met;   
        [Link] Fertiliser Fert;
        [Link] Irrigation Irrig;  
        [Link] Plant Potato;
        [Link] Zone zone;
                    
        [XmlIgnore] public bool InitialDay { get; set; }
        
        [XmlIgnore] public double AccumPlantN { get; set; }
        [XmlIgnore] public double AccumMineralisation { get; set; }
        [XmlIgnore] public double AccumDenit { get; set; }
        [XmlIgnore] public double AccumFert { get; set; }
        [XmlIgnore] public double AccumLeach { get; set; }
        [XmlIgnore] public double AccumDetach { get; set; }
        [XmlIgnore] public double DeltaSoilOMN { get; set; }
        [XmlIgnore] public double DeltaSurfaceOMN { get; set; }
        [XmlIgnore] public double DeltaSoilMineralN { get; set; }
        [XmlIgnore] public double SoilNitrogenContent { get; set; }
        
        [XmlIgnore] public double AccumEO { get; set; }
        [XmlIgnore] public double AccumEP { get; set; }
        [XmlIgnore] public double AccumES { get; set; }
        [XmlIgnore] public double AccumDrainage { get; set; }
        [XmlIgnore] public double AccumRunoff { get; set; }
        [XmlIgnore] public double AccumOutflowLat { get; set; }
        [XmlIgnore] public double AccumIrrigation { get; set; }
        [XmlIgnore] public double AccumRainfall { get; set; }
        [XmlIgnore] public double SoilWaterDeficit { get; set; }
        
        [XmlIgnore] public double AccumTtemerg { get; set; }
        
        [XmlIgnore] public double  InitialSoilOMN { get; set; }
        [XmlIgnore] public double  InitialSurfaceOMN { get; set; }
        [XmlIgnore] public double  InitialMineralN { get; set; }
        
        [XmlIgnore] public double SWC { get; set; }
        [XmlIgnore] public double DUL { get; set; }
        [XmlIgnore] public double OutFlowLat { get; set; }

        [XmlIgnore] public double FomN { get; set; }
        [XmlIgnore] public double BiomN { get; set; }
        [XmlIgnore] public double HumN { get; set; }
        [XmlIgnore] public double OrganicN { get; set; }
        [XmlIgnore] public double NO3N { get; set; }
        [XmlIgnore] public double NH4N { get; set; }
        [XmlIgnore] public double UreaN { get; set; }
        [XmlIgnore] public double MineralN { get; set; }
        [XmlIgnore] public double DltNMinRes { get; set; }
        [XmlIgnore] public double DltNMinTot { get; set; }

        
        [EventSubscribe("Commencing")]
        private void OnSimulationCommencing(object sender, EventArgs e)
        {
            InitialDay = true;
        }       
        
        [EventSubscribe("DoManagement")]
        private void OnDoManagement(object sender, EventArgs e)
        {
            //!!!!!! Nitrogen balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!
               FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            OrganicN = FomN + HumN + BiomN;
            NO3N = Utility.Math.Sum(Soil.NO3N);
            NH4N = Utility.Math.Sum(Soil.NH4N);
            UreaN = Utility.Math.Sum(Soil.SoilNitrogen.urea);
            MineralN = NO3N + NH4N + UreaN; 
            DltNMinRes = Utility.Math.Sum(Soil.SoilNitrogen.dlt_n_min_res);
            DltNMinTot = Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            int layers = Soil.Thickness.Length;
            if (InitialDay == true)
            {
                InitialSurfaceOMN = SOM.N;
                InitialSoilOMN = OrganicN;
                InitialMineralN = MineralN;
                InitialDay = false;
            }
            AccumFert += Fert.NitrogenApplied;
            DeltaSurfaceOMN = SOM.N - InitialSurfaceOMN;
            AccumLeach = AccumLeach - Soil.SoilWater.LeachNH4 - Soil.SoilWater.LeachNO3 - Soil.SoilWater.LeachUrea; //Fails
            AccumMineralisation += Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            AccumDenit -= Utility.Math.Sum(Soil.SoilNitrogen.Denitrification);
            AccumPlantN -= (double)zone.Get("Potato.Root.NUptake");
            DeltaSoilOMN = OrganicN - InitialSoilOMN;
            DeltaSoilMineralN = MineralN - InitialMineralN;
            SoilNitrogenContent = MineralN;
            
            //!!!!!! Water balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!

            AccumIrrigation += Irrig.IrrigationApplied;
            AccumRainfall += Met.Rain;
            AccumEP -= (double)zone.Get("Potato.Leaf.Transpiration");
            SoilWaterDeficit =  (SWC - DUL);
            double OutFlowLat = Utility.Math.Sum(Soil.SoilWater.outflow_lat);
            AccumOutflowLat -= OutFlowLat;
            
            //!!!!!! Thermal time calculation !!!!!!
            //!!!!!! ^^^^^^^^^^^^^^^^^^^^^^^^ !!!!!!
            if (Potato.Phenology.Stage >= 3)
            AccumTtemerg += Potato.Phenology.ThermalTime.Value;
        }
        
        [EventSubscribe("DoManagementCalculations")]
        private void OnDoManagementCalculations(object sender, EventArgs e)
        {
            FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            
            
            AccumEO -= Soil.SoilWater.Eo;
            AccumES -= Soil.SoilWater.Es; 
            AccumDrainage -= Soil.SoilWater.Drainage;
            AccumRunoff -= Soil.SoilWater.Runoff;
            SWC = Utility.Math.Sum(Soil.SoilWater.SWmm);
            DUL = Utility.Math.Sum(Soil.SoilWater.DULmm);

        }
    }
}
       
<br/>
PADDOCK.REPORT
--------------
                                   Output variables  Output frequency
                                      [Clock].Today  [Clock].DoReport
               [ExtraVariables].Script.AccumTtemerg                  
                  Potato.Phenology.CurrentPhaseName                  
                             Potato.Phenology.Stage                  
                [ExtraVariables].Script.AccumPlantN                  
        [ExtraVariables].Script.AccumMineralisation                  
                 [ExtraVariables].Script.AccumDenit                  
                  [ExtraVariables].Script.AccumFert                  
                 [ExtraVariables].Script.AccumLeach                  
                [ExtraVariables].Script.AccumDetach                  
               [ExtraVariables].Script.DeltaSoilOMN                  
            [ExtraVariables].Script.DeltaSurfaceOMN                  
          [ExtraVariables].Script.DeltaSoilMineralN                  
                          Potato.Root.NSupplyUptake                  
                                [Soil].SoilWater.Eo                  
                                [Soil].SoilWater.Es                  
                        [ExtraVariables].Script.SWC                  
                        [ExtraVariables].Script.DUL                  
                          [Soil].SoilWater.Drainage                  
                            [Soil].SoilWater.Runoff                  
                 [ExtraVariables].Script.OutFlowLat                  
                              [Soil].SoilWater.pond                  
                    [ExtraVariables].Script.AccumEO                  
                    [ExtraVariables].Script.AccumEP                  
                    [ExtraVariables].Script.AccumES                  
              [ExtraVariables].Script.AccumDrainage                  
                [ExtraVariables].Script.AccumRunoff                  
              [ExtraVariables].Script.AccumRainfall                  
            [ExtraVariables].Script.AccumIrrigation                  
            [ExtraVariables].Script.AccumOutflowLat                  
           [ExtraVariables].Script.SoilWaterDeficit                  
                   Potato.Summariser.AboveGround.Wt                  
                   Potato.Summariser.BelowGround.Wt                  
                         Potato.Summariser.Total.Wt                  
                     Potato.Summariser.TotalDead.Wt                  
                     Potato.Summariser.TotalLive.Wt                  
                                Potato.Leaf.Dead.Wt                  
                                Potato.Leaf.Live.Wt                  
                                Potato.Stem.Dead.Wt                  
                                Potato.Stem.Live.Wt                  
                               Potato.Tuber.Dead.Wt                  
                               Potato.Tuber.Live.Wt                  
                                Potato.Root.Dead.Wt                  
                                Potato.Root.Live.Wt                  
                    Potato.Summariser.AboveGround.N                  
                    Potato.Summariser.BelowGround.N                  
                          Potato.Summariser.Total.N                  
                      Potato.Summariser.TotalLive.N                  
                      Potato.Summariser.TotalDead.N                  
                                 Potato.Leaf.Dead.N                  
                                 Potato.Leaf.Live.N                  
                                 Potato.Stem.Dead.N                  
                                 Potato.Stem.Live.N                  
                                Potato.Tuber.Dead.N                  
                                Potato.Tuber.Live.N                  
                                 Potato.Root.Live.N                  
                                 Potato.Root.Dead.N                  
                             Potato.Leaf.Live.NConc                  
                             Potato.Leaf.Dead.NConc                  
                             Potato.Stem.Live.NConc                  
                             Potato.Stem.Dead.NConc                  
                            Potato.Tuber.Live.NConc                  
                            Potato.Tuber.Dead.NConc                  
                             Potato.Root.Live.NConc                  
                             Potato.Root.Dead.NConc                  
                            Potato.Root.WaterSupply                  
                            Potato.Root.WaterUptake                  
                          Potato.Leaf.Transpiration                  
                            Potato.Leaf.WaterDemand                  
                                  Potato.Root.Depth                  
                             Potato.Leaf.CoverGreen                  
                             Potato.Leaf.CoverTotal                  
                              Potato.Leaf.CoverDead                  
                                    Potato.Leaf.LAI                  
                                Potato.Leaf.LAIDead                  
                            Potato.Structure.Height                  
                                     Potato.Leaf.Fn                  
                                     Potato.Leaf.Fw                  
                Potato.Leaf.Photosynthesis.FT.Value                  
              Potato.Leaf.Photosynthesis.FVPD.Value                  
                  Potato.Structure.PlantTotalNodeNo                  
                     Potato.Structure.TotalStemPopn                  
               Potato.Leaf.PlantAppearedGreenLeafNo                  
                      Potato.Leaf.ExpandingCohortNo                  
                       Potato.Leaf.AppearedCohortNo                  
                           Potato.Leaf.DeadCohortNo                  
                    Potato.Structure.MainStemNodeNo                  
                      Potato.Leaf.SenescingCohortNo                  
             Potato.Structure.PrimaryBudTotalNodeNo                  
Potato.Leaf.LeafCohortParameters.MinimumNConc.Value                  
                     Potato.Stem.MinimumNConc.Value                  
                    Potato.Tuber.MinimumNConc.Value                  
                     Potato.Root.MinimumNConc.Value                  
Potato.Leaf.LeafCohortParameters.MaximumNConc.Value                  
                     Potato.Stem.MaximumNConc.Value                  
                    Potato.Tuber.MaximumNConc.Value                  
                     Potato.Root.MaximumNConc.Value                  
                      Potato.Stem.Live.StructuralWt                  
                   Potato.Stem.Live.NonStructuralWt                  
                           Potato.Leaf.SpecificArea                  
                       Potato.Leaf.ExpandedCohortNo                  
                              [Soil].SoilWater.SWmm                  
                                        [Soil].NO3N                  
        [ExtraVariables].Script.SoilNitrogenContent                  
                          Potato.Arbitrator.NDemand                  
                            [MicroClimate].net_radn                  
                                [MicroClimate].peta                  
                                [MicroClimate].petr                  
                       [ExtraVariables].Script.FomN                  
                       [ExtraVariables].Script.HumN                  
                      [ExtraVariables].Script.BiomN                  
                 [ExtraVariables].Script.DltNMinRes                  
                 [ExtraVariables].Script.DltNMinTot                  
                [PotatoHarvestRule].Script.FinalTag                  
                               Potato.Tuber.LiveFWt                  
                Potato.Tuber.DryMatterContent.Value                  

<br/>
PADDOCK.SETINTERGERCROPPARAMETER
--------------------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Plant Plant;          
        [Link] Zone zone;            
                    
        [Description("Path for coefficient to be Overwritten")]
        public string OverRidePath { get; set; }
        [Description("Value for new coefficient Interger")]
        public int OverRideInterger { get; set; }
        
        [EventSubscribe("Sowing")]
        private void OnSowing(object sender, EventArgs e)
        {
            object ResetValue = OverRideInterger;
            zone.Set(OverRidePath, ResetValue);
        }
    }
}
       
<br/>
SIMULATION LOG:
---------------


2007-11-23 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-24 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-26 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-27 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-29 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-02 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-03 paddock.Potato
    A crop of Potato (cultivar = Coliban) was sown today at a population of 4.63821892393321 plants/m2 with 2.4 buds per plant at a row spacing of 150 and a depth of 170 mm
    


2007-12-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-03 paddock.Potato.Summariser
    Peeping
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


2007-12-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-05 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-08 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-09 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-10 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-11 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-12 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-13 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-14 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-16 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-17 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-18 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-19 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-20 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-21 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-22 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-23 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-24 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-26 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-27 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-28 paddock.Potato.Summariser
    Emergence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


2007-12-29 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-30 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-31 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-02 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-05 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-08 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-09 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-10 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-11 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-12 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-13 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-14 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-15 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-16 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-17 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-18 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-20 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-21 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-22 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-23 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-24 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-26 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-26 paddock.Potato.Summariser
    TuberInitiation
      LAI = 0.58 (m^2/m^2)
      Above Ground Biomass = 20.93 (g/m^2)
    
    


2008-01-27 paddock.Fertiliser
    44 kg/ha of UreaN added at depth 10 layer 1
    


2008-01-27 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-29 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-30 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-31 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-02 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-05 paddock.Fertiliser
    44 kg/ha of UreaN added at depth 10 layer 1
    


2008-02-05 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-08 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-09 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-10 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-11 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-12 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-13 paddock.Fertiliser
    40 kg/ha of UreaN added at depth 10 layer 1
    


2008-02-13 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-14 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-15 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-16 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-17 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-18 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-19 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-20 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-21 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-22 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-23 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-24 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-26 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-27 paddock.Fertiliser
    40 kg/ha of UreaN added at depth 10 layer 1
    


2008-02-27 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-29 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-02 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-05 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-06 paddock.Fertiliser
    40 kg/ha of UreaN added at depth 10 layer 1
    


2008-03-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-08 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-09 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-10 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-11 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-12 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-13 paddock.Fertiliser
    40 kg/ha of UreaN added at depth 10 layer 1
    


2008-03-13 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-14 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-15 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-16 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-17 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-18 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-19 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-20 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-21 paddock.Fertiliser
    40 kg/ha of UreaN added at depth 10 layer 1
    


2008-03-22 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-23 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-26 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-29 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-31 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-09 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-10 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-12 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-13 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-15 paddock.Potato.Summariser
    TuberInitiation
      LAI = 0.99 (m^2/m^2)
      Above Ground Biomass = 138.71 (g/m^2)
    
    Maturity
      LAI = 0.99 (m^2/m^2)
      Above Ground Biomass = 138.71 (g/m^2)
    
    


2008-04-15 paddock.Potato
    A crop of Potato was harvested today, Yeahhh
    


2008-04-15 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-16 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-18 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-19 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-21 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-22 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-24 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-27 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-30 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-05-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-05-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-05-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-05-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-05-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


############################################################################
.PARILLASOWING3DECNITROGENMEDN
------------------------------
Simulation name:   ParillaSowing3DecNitrogenmedN

<br/>
WEATHER
-------
Weather file name:   Lameroo.met

<br/>
CLOCK
-----
The start date of the simulation:   2007-11-22
  The end date of the simulation:   2008-06-30

<br/>
PADDOCK.SOIL
------------
    Record number:       0
 Latitude (WGS84):   0.000
Longitude (WGS84):   0.000

<br/>
PADDOCK.SOIL.ANALYSIS
---------------------
Depth (cm)  PH (1:5 water)
      0-10             6.6
     10-30             6.2
     30-60             5.7
     60-90             5.5
    90-120             5.5
   120-150             5.5

<br/>
PADDOCK.SOIL.INITIAL WATER
--------------------------
        Fraction full:          1.000
    Depth of wet soil:            NaN
Plant available water:   102.000 (mm)

<br/>
PADDOCK.SOIL.WATER
------------------
Depth (cm)  BD (g/cc)  Air dry (mm/mm)  LL15 (mm/mm)  DUL (mm/mm)  SAT (mm/mm)
      0-10       1.20             0.03          0.06         0.16         0.25
     10-30       1.20             0.05          0.06         0.16         0.25
     30-60       1.20             0.06          0.06         0.12         0.25
     60-90       1.20             0.06          0.06         0.12         0.25
    90-120       1.20             0.06          0.06         0.12         0.25
   120-150       1.20             0.06          0.06         0.12         0.25

<br/>
PADDOCK.SOIL.WATER.POTATOSOIL
-----------------------------
potato Depth (cm)  potato LL (mm/mm)  potato PAWC (mm)  potato KL (mm/mm)  potato XF (mm/mm)
             0-10               0.06              10.0               0.10                1.0
            10-30               0.06              20.0               0.10                1.0
            30-60               0.12               0.0               0.07                1.0
            60-90               0.12               0.0               0.05                1.0
           90-120               0.12               0.0               0.05                1.0
          120-150               0.12               0.0               0.05                1.0
                                                  30.0                                      

<br/>
PADDOCK.SOIL.SOILORGANICMATTER
------------------------------
                  Root C:N ratio:     30.000
             Root Weight (kg/ha):   3000.000
                  Soil C:N ratio:     11.500
Erosion enrichment coefficient A:      7.400
Erosion enrichment coefficient B:      0.200

Depth (cm)  OC (Total %)  FBiom (0-1)  FInert (0-1)
      0-10          0.70        0.025           0.3
     10-30          0.50        0.025           0.4
     30-60          0.30        0.015          0.75
     60-90          0.30         0.01           0.9
    90-120          0.30         0.01          0.96
   120-150          0.30         0.01          0.96

<br/>
PADDOCK.SOIL.INITIAL NITROGEN
-----------------------------
Depth (cm)  NO3kgha  NH4kgha
      0-10     25.5      0.1
     10-30     45.9      0.2
     30-60      2.0      0.4
     60-90      2.0      0.4
    90-120      2.0      0.4
   120-150      2.0      0.4

<br/>
PADDOCK.SURFACE ORGANIC MATTER
------------------------------
Surface organic matter pool name:           wheat
Surface organic matter pool type:           wheat
 Mass of surface residue (kg/ha):       0 (kg/ha)
         Standing fraction (0-1):         0 (0-1)
     Carbon:Nitrogen ratio (g/g):        60 (g/g)
                  Carbon content:   0.000 (kg/ha)
                Nitrogen content:   0.000 (kg/ha)
              Phosphorus content:   0.000 (kg/ha)

<br/>
PADDOCK.POTATOHARVESTRULE
-------------------------

        using System;
        using Models.Core;
        using Models.PMF;
        using System.Xml.Serialization;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;
               [Link] Summary Summary;
               [Description("HarvestDate Date")]
               public DateTime HarvestDate { get; set; }            
               [XmlIgnore] public string FinalTag { get; set;}
               [XmlIgnore] public bool Harvested {get; set;}
               [XmlIgnore] public bool ReadyForHarvest {get; set;}
               
               [EventSubscribe("Commencing")]
               private void OnSimulationCommencing(object sender, EventArgs e)
               {
               FinalTag = "";
               Harvested = false;
               ReadyForHarvest = false;
               }
               
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
               if (ReadyForHarvest == true)
                   {
                   Potato.Harvest();
                   ReadyForHarvest = false;
                   Harvested = true;
                   }
               FinalTag = "";    
               }
               
               [EventSubscribe("DoManagementCalculations")]
               private void OnDoManagementCalculations(object sender, EventArgs e)
               {
                if ((Clock.Today == HarvestDate)&&(Harvested == false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
                if((Potato.Phenology.Stage>=7)&&(Harvested==false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
               }
            }
        }
                
<br/>
PADDOCK.MANAGER FOLDER.POTATOSOWINGRULE
---------------------------------------

        using System;
        using Models.Core;
        using Models.PMF;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;
               [Link] Fertiliser Fertiliser;
               [Description("Spacing (mm) between plants within rows")]
               public double RowSpace { get; set; }
               [Description("Spacing (mm) between rows")]
               public double RowWidth { get; set; }
               [Description("Depth (mm) tubers are planted")]
               public double PlantingDepth { get; set; }
               [Description("Number of stems per seed tuber")]
               public double StemNumberPerSeedTuber { get; set; }
               [Description("Cultivar")]
               [Display(DisplayType = DisplayAttribute.DisplayTypeEnum.CultivarName)]
               public string CultivarName { get; set; }
               [Description("Sowing Date")]
               public DateTime SowingDate { get; set; }
               [Description("Fertiliser applied at planting")]
               public double PlantingFertiliser { get; set;}
               
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
                double PlantPopulation = 1/((RowWidth/1000)*(RowSpace/1000));

                if (Clock.Today.Date == SowingDate)
                {
                    Potato.Sow(population:PlantPopulation, cultivar:CultivarName, depth:PlantingDepth, rowSpacing:150, budNumber:StemNumberPerSeedTuber);
                 }
                    
                //Potato.Sow(... Contains the following arguements:
                //Population  double  Required  Seeds sowing/m2
                //Cultivar    string  Required  "NameOfCultivar"
                //Depth       double  Optional  Depth (mm) seed sown.   Default is 100mm 
                //MaxCover    double  Optional  Proportion (0-1) of the ground row crop will cover.   Default is 1.0
                //BudNumber   double  Optional  Number of mainstems per seed sown.  Default is 1.0
                //RowSpacing  double  Optional  Spaceing (mm) between drill rows when crop is sown.  Default is 150mm
                //CropClass   string  Optional  Crop class to instantiate when crop is sown.  Default is "Plant"
               }
            }
        }
                
<br/>
PADDOCK.MANAGER FOLDER.FERTILISERRULE
-------------------------------------

        using System;
        using Models.Core;
        using Models.PMF;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Clock Clock;
               [Link] Fertiliser Fertiliser;
               [Description("N applied (kg/ha) on first fertiliser event")]
               public double Fert1 { get; set; }
               [Description("N applied (kg/ha) on 2nd fertiliser event")]
               public double Fert2 { get; set; }
               [Description("N applied (kg/ha) on 3rd fertiliser event")]
               public double Fert3 { get; set; }
               [Description("Days after sowing for first N application")]
               public double Day1 { get; set; }
               [Description("Days after sowing for second N application")]
               public double Day2 { get; set; }
               [Description("Days after sowing for third N application")]
               public double Day3 { get; set; }
                
                private double DaysAfterSowing = 0;
               
               [EventSubscribe("Sowing")]
               private void OnSowing(object sender, EventArgs e)
               {
               DaysAfterSowing = 0;
               }
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
                DaysAfterSowing += 1;
                if(DaysAfterSowing == Day1)
                 Fertiliser.Apply(Fert1, Fertiliser.Types.UreaN, 10);
               if(DaysAfterSowing == Day2)
                 Fertiliser.Apply(Fert2, Fertiliser.Types.UreaN, 10);
               if(DaysAfterSowing == Day3)
                 Fertiliser.Apply(Fert3, Fertiliser.Types.UreaN, 10);
               }
            }
        }
                
<br/>
PADDOCK.EXTRAVARIABLES
----------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.Soils;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Clock Clock;
        [Link] Soils.Soil Soil;
        [Link] Models.SurfaceOM.SurfaceOrganicMatter SOM;
        [Link] Weather Met;   
        [Link] Fertiliser Fert;
        [Link] Irrigation Irrig;  
        [Link] Plant Potato;
        [Link] Zone zone;
                    
        [XmlIgnore] public bool InitialDay { get; set; }
        
        [XmlIgnore] public double AccumPlantN { get; set; }
        [XmlIgnore] public double AccumMineralisation { get; set; }
        [XmlIgnore] public double AccumDenit { get; set; }
        [XmlIgnore] public double AccumFert { get; set; }
        [XmlIgnore] public double AccumLeach { get; set; }
        [XmlIgnore] public double AccumDetach { get; set; }
        [XmlIgnore] public double DeltaSoilOMN { get; set; }
        [XmlIgnore] public double DeltaSurfaceOMN { get; set; }
        [XmlIgnore] public double DeltaSoilMineralN { get; set; }
        [XmlIgnore] public double SoilNitrogenContent { get; set; }
        
        [XmlIgnore] public double AccumEO { get; set; }
        [XmlIgnore] public double AccumEP { get; set; }
        [XmlIgnore] public double AccumES { get; set; }
        [XmlIgnore] public double AccumDrainage { get; set; }
        [XmlIgnore] public double AccumRunoff { get; set; }
        [XmlIgnore] public double AccumOutflowLat { get; set; }
        [XmlIgnore] public double AccumIrrigation { get; set; }
        [XmlIgnore] public double AccumRainfall { get; set; }
        [XmlIgnore] public double SoilWaterDeficit { get; set; }
        
        [XmlIgnore] public double AccumTtemerg { get; set; }
        
        [XmlIgnore] public double  InitialSoilOMN { get; set; }
        [XmlIgnore] public double  InitialSurfaceOMN { get; set; }
        [XmlIgnore] public double  InitialMineralN { get; set; }
        
        [XmlIgnore] public double SWC { get; set; }
        [XmlIgnore] public double DUL { get; set; }
        [XmlIgnore] public double OutFlowLat { get; set; }

        [XmlIgnore] public double FomN { get; set; }
        [XmlIgnore] public double BiomN { get; set; }
        [XmlIgnore] public double HumN { get; set; }
        [XmlIgnore] public double OrganicN { get; set; }
        [XmlIgnore] public double NO3N { get; set; }
        [XmlIgnore] public double NH4N { get; set; }
        [XmlIgnore] public double UreaN { get; set; }
        [XmlIgnore] public double MineralN { get; set; }
        [XmlIgnore] public double DltNMinRes { get; set; }
        [XmlIgnore] public double DltNMinTot { get; set; }

        
        [EventSubscribe("Commencing")]
        private void OnSimulationCommencing(object sender, EventArgs e)
        {
            InitialDay = true;
        }       
        
        [EventSubscribe("DoManagement")]
        private void OnDoManagement(object sender, EventArgs e)
        {
            //!!!!!! Nitrogen balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!
               FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            OrganicN = FomN + HumN + BiomN;
            NO3N = Utility.Math.Sum(Soil.NO3N);
            NH4N = Utility.Math.Sum(Soil.NH4N);
            UreaN = Utility.Math.Sum(Soil.SoilNitrogen.urea);
            MineralN = NO3N + NH4N + UreaN; 
            DltNMinRes = Utility.Math.Sum(Soil.SoilNitrogen.dlt_n_min_res);
            DltNMinTot = Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            int layers = Soil.Thickness.Length;
            if (InitialDay == true)
            {
                InitialSurfaceOMN = SOM.N;
                InitialSoilOMN = OrganicN;
                InitialMineralN = MineralN;
                InitialDay = false;
            }
            AccumFert += Fert.NitrogenApplied;
            DeltaSurfaceOMN = SOM.N - InitialSurfaceOMN;
            AccumLeach = AccumLeach - Soil.SoilWater.LeachNH4 - Soil.SoilWater.LeachNO3 - Soil.SoilWater.LeachUrea; //Fails
            AccumMineralisation += Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            AccumDenit -= Utility.Math.Sum(Soil.SoilNitrogen.Denitrification);
            AccumPlantN -= (double)zone.Get("Potato.Root.NUptake");
            DeltaSoilOMN = OrganicN - InitialSoilOMN;
            DeltaSoilMineralN = MineralN - InitialMineralN;
            SoilNitrogenContent = MineralN;
            
            //!!!!!! Water balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!

            AccumIrrigation += Irrig.IrrigationApplied;
            AccumRainfall += Met.Rain;
            AccumEP -= (double)zone.Get("Potato.Leaf.Transpiration");
            SoilWaterDeficit =  (SWC - DUL);
            double OutFlowLat = Utility.Math.Sum(Soil.SoilWater.outflow_lat);
            AccumOutflowLat -= OutFlowLat;
            
            //!!!!!! Thermal time calculation !!!!!!
            //!!!!!! ^^^^^^^^^^^^^^^^^^^^^^^^ !!!!!!
            if (Potato.Phenology.Stage >= 3)
            AccumTtemerg += Potato.Phenology.ThermalTime.Value;
        }
        
        [EventSubscribe("DoManagementCalculations")]
        private void OnDoManagementCalculations(object sender, EventArgs e)
        {
            FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            
            
            AccumEO -= Soil.SoilWater.Eo;
            AccumES -= Soil.SoilWater.Es; 
            AccumDrainage -= Soil.SoilWater.Drainage;
            AccumRunoff -= Soil.SoilWater.Runoff;
            SWC = Utility.Math.Sum(Soil.SoilWater.SWmm);
            DUL = Utility.Math.Sum(Soil.SoilWater.DULmm);

        }
    }
}
       
<br/>
PADDOCK.REPORT
--------------
                                   Output variables  Output frequency
                                      [Clock].Today  [Clock].DoReport
               [ExtraVariables].Script.AccumTtemerg                  
                  Potato.Phenology.CurrentPhaseName                  
                             Potato.Phenology.Stage                  
                [ExtraVariables].Script.AccumPlantN                  
        [ExtraVariables].Script.AccumMineralisation                  
                 [ExtraVariables].Script.AccumDenit                  
                  [ExtraVariables].Script.AccumFert                  
                 [ExtraVariables].Script.AccumLeach                  
                [ExtraVariables].Script.AccumDetach                  
               [ExtraVariables].Script.DeltaSoilOMN                  
            [ExtraVariables].Script.DeltaSurfaceOMN                  
          [ExtraVariables].Script.DeltaSoilMineralN                  
                          Potato.Root.NSupplyUptake                  
                                [Soil].SoilWater.Eo                  
                                [Soil].SoilWater.Es                  
                        [ExtraVariables].Script.SWC                  
                        [ExtraVariables].Script.DUL                  
                          [Soil].SoilWater.Drainage                  
                            [Soil].SoilWater.Runoff                  
                 [ExtraVariables].Script.OutFlowLat                  
                              [Soil].SoilWater.pond                  
                    [ExtraVariables].Script.AccumEO                  
                    [ExtraVariables].Script.AccumEP                  
                    [ExtraVariables].Script.AccumES                  
              [ExtraVariables].Script.AccumDrainage                  
                [ExtraVariables].Script.AccumRunoff                  
              [ExtraVariables].Script.AccumRainfall                  
            [ExtraVariables].Script.AccumIrrigation                  
            [ExtraVariables].Script.AccumOutflowLat                  
           [ExtraVariables].Script.SoilWaterDeficit                  
                   Potato.Summariser.AboveGround.Wt                  
                   Potato.Summariser.BelowGround.Wt                  
                         Potato.Summariser.Total.Wt                  
                     Potato.Summariser.TotalDead.Wt                  
                     Potato.Summariser.TotalLive.Wt                  
                                Potato.Leaf.Dead.Wt                  
                                Potato.Leaf.Live.Wt                  
                                Potato.Stem.Dead.Wt                  
                                Potato.Stem.Live.Wt                  
                               Potato.Tuber.Dead.Wt                  
                               Potato.Tuber.Live.Wt                  
                                Potato.Root.Dead.Wt                  
                                Potato.Root.Live.Wt                  
                    Potato.Summariser.AboveGround.N                  
                    Potato.Summariser.BelowGround.N                  
                          Potato.Summariser.Total.N                  
                      Potato.Summariser.TotalLive.N                  
                      Potato.Summariser.TotalDead.N                  
                                 Potato.Leaf.Dead.N                  
                                 Potato.Leaf.Live.N                  
                                 Potato.Stem.Dead.N                  
                                 Potato.Stem.Live.N                  
                                Potato.Tuber.Dead.N                  
                                Potato.Tuber.Live.N                  
                                 Potato.Root.Live.N                  
                                 Potato.Root.Dead.N                  
                             Potato.Leaf.Live.NConc                  
                             Potato.Leaf.Dead.NConc                  
                             Potato.Stem.Live.NConc                  
                             Potato.Stem.Dead.NConc                  
                            Potato.Tuber.Live.NConc                  
                            Potato.Tuber.Dead.NConc                  
                             Potato.Root.Live.NConc                  
                             Potato.Root.Dead.NConc                  
                            Potato.Root.WaterSupply                  
                            Potato.Root.WaterUptake                  
                          Potato.Leaf.Transpiration                  
                            Potato.Leaf.WaterDemand                  
                                  Potato.Root.Depth                  
                             Potato.Leaf.CoverGreen                  
                             Potato.Leaf.CoverTotal                  
                              Potato.Leaf.CoverDead                  
                                    Potato.Leaf.LAI                  
                                Potato.Leaf.LAIDead                  
                            Potato.Structure.Height                  
                                     Potato.Leaf.Fn                  
                                     Potato.Leaf.Fw                  
                Potato.Leaf.Photosynthesis.FT.Value                  
              Potato.Leaf.Photosynthesis.FVPD.Value                  
                  Potato.Structure.PlantTotalNodeNo                  
                     Potato.Structure.TotalStemPopn                  
               Potato.Leaf.PlantAppearedGreenLeafNo                  
                      Potato.Leaf.ExpandingCohortNo                  
                       Potato.Leaf.AppearedCohortNo                  
                           Potato.Leaf.DeadCohortNo                  
                    Potato.Structure.MainStemNodeNo                  
                      Potato.Leaf.SenescingCohortNo                  
             Potato.Structure.PrimaryBudTotalNodeNo                  
Potato.Leaf.LeafCohortParameters.MinimumNConc.Value                  
                     Potato.Stem.MinimumNConc.Value                  
                    Potato.Tuber.MinimumNConc.Value                  
                     Potato.Root.MinimumNConc.Value                  
Potato.Leaf.LeafCohortParameters.MaximumNConc.Value                  
                     Potato.Stem.MaximumNConc.Value                  
                    Potato.Tuber.MaximumNConc.Value                  
                     Potato.Root.MaximumNConc.Value                  
                      Potato.Stem.Live.StructuralWt                  
                   Potato.Stem.Live.NonStructuralWt                  
                           Potato.Leaf.SpecificArea                  
                       Potato.Leaf.ExpandedCohortNo                  
                              [Soil].SoilWater.SWmm                  
                                        [Soil].NO3N                  
        [ExtraVariables].Script.SoilNitrogenContent                  
                          Potato.Arbitrator.NDemand                  
                            [MicroClimate].net_radn                  
                                [MicroClimate].peta                  
                                [MicroClimate].petr                  
                       [ExtraVariables].Script.FomN                  
                       [ExtraVariables].Script.HumN                  
                      [ExtraVariables].Script.BiomN                  
                 [ExtraVariables].Script.DltNMinRes                  
                 [ExtraVariables].Script.DltNMinTot                  
                [PotatoHarvestRule].Script.FinalTag                  
                               Potato.Tuber.LiveFWt                  
                Potato.Tuber.DryMatterContent.Value                  

<br/>
PADDOCK.SETINTERGERCROPPARAMETER
--------------------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Plant Plant;          
        [Link] Zone zone;            
                    
        [Description("Path for coefficient to be Overwritten")]
        public string OverRidePath { get; set; }
        [Description("Value for new coefficient Interger")]
        public int OverRideInterger { get; set; }
        
        [EventSubscribe("Sowing")]
        private void OnSowing(object sender, EventArgs e)
        {
            object ResetValue = OverRideInterger;
            zone.Set(OverRidePath, ResetValue);
        }
    }
}
       
<br/>
SIMULATION LOG:
---------------


2007-11-23 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-24 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-26 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-27 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-11-29 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-02 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-03 paddock.Potato
    A crop of Potato (cultivar = Coliban) was sown today at a population of 4.63821892393321 plants/m2 with 2.4 buds per plant at a row spacing of 150 and a depth of 170 mm
    


2007-12-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-03 paddock.Potato.Summariser
    Peeping
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


2007-12-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-05 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-08 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-09 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-10 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-11 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-12 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-13 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-14 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-16 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-17 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-18 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-19 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-20 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-21 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-22 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-23 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-24 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-26 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-27 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-28 paddock.Potato.Summariser
    Emergence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


2007-12-29 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-30 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2007-12-31 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-02 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-05 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-08 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-09 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-10 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-11 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-12 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-13 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-13 paddock.Fertiliser
    37 kg/ha of UreaN added at depth 10 layer 1
    


2008-01-14 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-15 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-16 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-17 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-18 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-20 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-21 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-22 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-23 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-24 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-26 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-26 paddock.Potato.Summariser
    TuberInitiation
      LAI = 1.04 (m^2/m^2)
      Above Ground Biomass = 65.84 (g/m^2)
    
    


2008-01-27 paddock.Fertiliser
    44 kg/ha of UreaN added at depth 10 layer 1
    


2008-01-27 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-28 paddock.Fertiliser
    38 kg/ha of UreaN added at depth 10 layer 1
    


2008-01-29 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-30 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-01-31 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-02 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-05 paddock.Fertiliser
    44 kg/ha of UreaN added at depth 10 layer 1
    


2008-02-05 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-08 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-09 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-10 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-11 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-12 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-12 paddock.Fertiliser
    25 kg/ha of UreaN added at depth 10 layer 1
    


2008-02-13 paddock.Fertiliser
    40 kg/ha of UreaN added at depth 10 layer 1
    


2008-02-13 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-14 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-15 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-16 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-17 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-18 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-19 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-20 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-21 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-22 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-23 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-24 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-26 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-27 paddock.Fertiliser
    40 kg/ha of UreaN added at depth 10 layer 1
    


2008-02-27 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-02-29 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-02 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-05 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-06 paddock.Fertiliser
    40 kg/ha of UreaN added at depth 10 layer 1
    


2008-03-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-08 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-09 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-10 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-11 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-12 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-13 paddock.Fertiliser
    40 kg/ha of UreaN added at depth 10 layer 1
    


2008-03-13 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-14 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-15 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-16 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-17 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-18 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-19 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-20 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-21 paddock.Fertiliser
    40 kg/ha of UreaN added at depth 10 layer 1
    


2008-03-22 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-23 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-26 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-29 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-03-31 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-09 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-10 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-12 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-13 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-15 paddock.Potato.Summariser
    TuberInitiation
      LAI = 0.86 (m^2/m^2)
      Above Ground Biomass = 183.13 (g/m^2)
    
    Maturity
      LAI = 0.86 (m^2/m^2)
      Above Ground Biomass = 183.13 (g/m^2)
    
    


2008-04-15 paddock.Potato
    A crop of Potato was harvested today, Yeahhh
    


2008-04-15 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-16 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-18 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-19 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-21 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-22 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-24 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-25 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-27 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-28 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-04-30 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-05-01 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-05-03 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-05-04 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-05-06 paddock.Irrigation
    9.0 mm of water added at depth 0
    


2008-05-07 paddock.Irrigation
    9.0 mm of water added at depth 0
    


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
.POTATOCULTIVARBURBANK
----------------------
Simulation name:   PotatoCultivarBurbank

<br/>
WEATHER
-------
Weather file name:   lincoln.met

<br/>
CLOCK
-----
The start date of the simulation:   2003-10-20
  The end date of the simulation:   2004-06-05

<br/>
FIELD.SOIL
----------
                   Record number:             0
Soil texture or other descriptor:   Sedementary
                      Local name:       Lincoln
                Latitude (WGS84):         0.000
               Longitude (WGS84):         0.000

<br/>
FIELD.SOIL.WATER
----------------
Depth (cm)  BD (g/cc)  Air dry (mm/mm)  LL15 (mm/mm)  DUL (mm/mm)  SAT (mm/mm)
      0-10       1.20             0.08          0.16         0.33         0.50
     10-30       1.20             0.16          0.16         0.33         0.50
     30-60       1.20             0.15          0.15         0.31         0.44
     60-90       1.20             0.13          0.13         0.27         0.46
    90-120       1.20             0.15          0.15         0.30         0.44
   120-150       1.20             0.15          0.15         0.30         0.44

<br/>
FIELD.SOIL.WATER.POTATOSOIL
---------------------------
Potato Depth (cm)  Potato LL (mm/mm)  Potato PAWC (mm)  Potato KL (mm/mm)  Potato XF (mm/mm)
             0-10               0.13              20.0               0.10                1.0
            10-30               0.13              40.0               0.06                1.0
            30-60                0.1              63.0               0.04                1.0
            60-90               0.15              36.0               0.01                1.0
           90-120                0.3               0.0               0.00                0.0
          120-150                0.3               0.0               0.00                0.0
                                                 159.0                                      

<br/>
FIELD.SOIL.SOILORGANICMATTER
----------------------------
                  Root C:N ratio:     30.000
             Root Weight (kg/ha):   3000.000
                  Soil C:N ratio:     11.500
Erosion enrichment coefficient A:      7.400
Erosion enrichment coefficient B:      0.200

Depth (cm)  OC (Total %)  FBiom (0-1)  FInert (0-1)
      0-10          3.50        0.025           0.3
     10-30          2.50        0.025           0.4
     30-60          1.20        0.015          0.75
     60-90          1.03         0.01           0.9
    90-120          0.47         0.01          0.96
   120-150          0.47         0.01          0.96

<br/>
FIELD.SOIL.ANALYSIS
-------------------
Depth (cm)  PH (1:5 water)
      0-10             6.6
     10-30             6.2
     30-60             5.7
     60-90             5.5
    90-120             5.5
   120-150             5.5

<br/>
FIELD.SOIL.INITIAL WATER
------------------------
        Fraction full:          1.000
    Depth of wet soil:            NaN
Plant available water:   231.000 (mm)

<br/>
FIELD.SOIL.SAMPLE
-----------------
Depth (cm)  NO3kgha  NH4kgha
      0-10     40.0      0.1
     10-30     30.0      0.1
     30-60     14.0      0.1
     60-90     14.0      0.1
    90-120      1.4      0.1
   120-150      1.4      0.1

<br/>
FIELD.POTATOSOWINGRULE
----------------------

        using System;
        using Models.Core;
        using Models.PMF;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;

               [Description("Spacing (mm) between plants within rows")]
               public double RowSpace { get; set; }
               [Description("Spacing (mm) between rows")]
               public double RowWidth { get; set; }
               [Description("Depth (mm) tubers are planted")]
               public double PlantingDepth { get; set; }
               [Description("Number of stems per seed tuber")]
               public double StemNumberPerSeedTuber { get; set; }
               [Description("Cultivar")]
                public string CultivarName { get; set; }
               [Description("Sowing Date")]
               public DateTime SowingDate { get; set; }

               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
                double PlantPopulation = 1/((RowWidth/1000)*(RowSpace/1000));

                if (Clock.Today.Date == SowingDate)
                    Potato.Sow(population:PlantPopulation, cultivar:CultivarName, depth:PlantingDepth, rowSpacing:150, budNumber:StemNumberPerSeedTuber);
                //Potato.Sow(... Contains the following arguements:
                //Population  double  Required  Seeds sowing/m2
                //Cultivar    string  Required  "NameOfCultivar"
                //Depth       double  Optional  Depth (mm) seed sown.   Default is 100mm 
                //MaxCover    double  Optional  Proportion (0-1) of the ground row crop will cover.   Default is 1.0
                //BudNumber   double  Optional  Number of mainstems per seed sown.  Default is 1.0
                //RowSpacing  double  Optional  Spaceing (mm) between drill rows when crop is sown.  Default is 150mm
                //CropClass   string  Optional  Crop class to instantiate when crop is sown.  Default is "Plant"
               }
            }
        }
                
<br/>
FIELD.POTATOHARVESTRULE
-----------------------

        using System;
        using Models.Core;
        using Models.PMF;
        using System.Xml.Serialization;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;
               [Link] Summary Summary;
               [Description("HarvestDate Date")]
               public DateTime HarvestDate { get; set; }            
               [XmlIgnore] public string FinalTag { get; set;}
               [XmlIgnore] public bool Harvested {get; set;}
               [XmlIgnore] public bool ReadyForHarvest {get; set;}
               
               [EventSubscribe("Commencing")]
               private void OnSimulationCommencing(object sender, EventArgs e)
               {
               FinalTag = "";
               Harvested = false;
               ReadyForHarvest = false;
               }
               
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
               if (ReadyForHarvest == true)
                   {
                   Potato.Harvest();
                   ReadyForHarvest = false;
                   Harvested = true;
                   }
               FinalTag = "";    
               }
               
               [EventSubscribe("DoManagementCalculations")]
               private void OnDoManagementCalculations(object sender, EventArgs e)
               {
                if ((Clock.Today == HarvestDate)&&(Harvested == false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
               }
            }
        }
                
<br/>
FIELD.EXTRAVARIABLES
--------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.Soils;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Clock Clock;
        [Link] Soils.Soil Soil;
        [Link] Models.SurfaceOM.SurfaceOrganicMatter SOM;
        [Link] Weather Met;   
        [Link] Fertiliser Fert;
        [Link] Irrigation Irrig;  
        [Link] Plant Potato;
        [Link] Zone zone;
                    
        [XmlIgnore] public bool InitialDay { get; set; }
        
        [XmlIgnore] public double AccumPlantN { get; set; }
        [XmlIgnore] public double AccumMineralisation { get; set; }
        [XmlIgnore] public double AccumDenit { get; set; }
        [XmlIgnore] public double AccumFert { get; set; }
        [XmlIgnore] public double AccumLeach { get; set; }
        [XmlIgnore] public double AccumDetach { get; set; }
        [XmlIgnore] public double DeltaSoilOMN { get; set; }
        [XmlIgnore] public double DeltaSurfaceOMN { get; set; }
        [XmlIgnore] public double DeltaSoilMineralN { get; set; }
        [XmlIgnore] public double SoilNitrogenContent { get; set; }
        
        [XmlIgnore] public double AccumEO { get; set; }
        [XmlIgnore] public double AccumEP { get; set; }
        [XmlIgnore] public double AccumES { get; set; }
        [XmlIgnore] public double AccumDrainage { get; set; }
        [XmlIgnore] public double AccumRunoff { get; set; }
        [XmlIgnore] public double AccumOutflowLat { get; set; }
        [XmlIgnore] public double AccumIrrigation { get; set; }
        [XmlIgnore] public double AccumRainfall { get; set; }
        [XmlIgnore] public double SoilWaterDeficit { get; set; }
        
        [XmlIgnore] public double AccumTtemerg { get; set; }
        
        [XmlIgnore] public double  InitialSoilOMN { get; set; }
        [XmlIgnore] public double  InitialSurfaceOMN { get; set; }
        [XmlIgnore] public double  InitialMineralN { get; set; }
        
        [XmlIgnore] public double SWC { get; set; }
        [XmlIgnore] public double DUL { get; set; }
        [XmlIgnore] public double OutFlowLat { get; set; }

        [XmlIgnore] public double FomN { get; set; }
        [XmlIgnore] public double BiomN { get; set; }
        [XmlIgnore] public double HumN { get; set; }
        [XmlIgnore] public double OrganicN { get; set; }
        [XmlIgnore] public double NO3N { get; set; }
        [XmlIgnore] public double NH4N { get; set; }
        [XmlIgnore] public double UreaN { get; set; }
        [XmlIgnore] public double MineralN { get; set; }
        [XmlIgnore] public double DltNMinRes { get; set; }
        [XmlIgnore] public double DltNMinTot { get; set; }
        
        [EventSubscribe("Commencing")]
        private void OnSimulationCommencing(object sender, EventArgs e)
        {
            InitialDay = true;
        }       
        
        [EventSubscribe("DoManagement")]
        private void OnDoManagement(object sender, EventArgs e)
        {
            //!!!!!! Nitrogen balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!
               FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            OrganicN = FomN + HumN + BiomN;
            NO3N = Utility.Math.Sum(Soil.NO3N);
            NH4N = Utility.Math.Sum(Soil.NH4N);
            UreaN = Utility.Math.Sum(Soil.SoilNitrogen.urea);
            MineralN = NO3N + NH4N + UreaN; 
            DltNMinRes = Utility.Math.Sum(Soil.SoilNitrogen.dlt_n_min_res);
            DltNMinTot = Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            int layers = Soil.Thickness.Length;
            if (InitialDay == true)
            {
                InitialSurfaceOMN = SOM.N;
                InitialSoilOMN = OrganicN;
                InitialMineralN = MineralN;
                InitialDay = false;
            }
            AccumFert += Fert.NitrogenApplied;
            DeltaSurfaceOMN = SOM.N - InitialSurfaceOMN;
            AccumLeach = AccumLeach - Soil.SoilWater.LeachNH4 - Soil.SoilWater.LeachNO3 - Soil.SoilWater.LeachUrea; //Fails
            AccumMineralisation += Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            AccumDenit -= Utility.Math.Sum(Soil.SoilNitrogen.Denitrification);
            AccumPlantN -= (double)zone.Get("Potato.Root.NUptake");
            DeltaSoilOMN = OrganicN - InitialSoilOMN;
            DeltaSoilMineralN = MineralN - InitialMineralN;
            SoilNitrogenContent = MineralN;
            
            //!!!!!! Water balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!

            AccumIrrigation += Irrig.IrrigationApplied;
            AccumRainfall += Met.Rain;
            AccumEP -= (double)zone.Get("Potato.Leaf.Transpiration");
            SoilWaterDeficit =  (SWC - DUL);
            double OutFlowLat = Utility.Math.Sum(Soil.SoilWater.outflow_lat);
            AccumOutflowLat -= OutFlowLat;
            
            //!!!!!! Thermal time calculation !!!!!!
            //!!!!!! ^^^^^^^^^^^^^^^^^^^^^^^^ !!!!!!
            if (Potato.Phenology.Stage >= 3)
            AccumTtemerg += Potato.Phenology.ThermalTime.Value;
        }
        
        [EventSubscribe("DoManagementCalculations")]
        private void OnDoManagementCalculations(object sender, EventArgs e)
        {
            FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            
            
            AccumEO -= Soil.SoilWater.Eo;
            AccumES -= Soil.SoilWater.Es; 
            AccumDrainage -= Soil.SoilWater.Drainage;
            AccumRunoff -= Soil.SoilWater.Runoff;
            SWC = Utility.Math.Sum(Soil.SoilWater.SWmm);
            DUL = Utility.Math.Sum(Soil.SoilWater.DULmm);
        }
    }
}
       
<br/>
FIELD.REPORT
------------
                                   Output variables  Output frequency
                                      [Clock].Today  [Clock].DoReport
               [ExtraVariables].Script.AccumTtemerg                  
                  Potato.Phenology.CurrentPhaseName                  
                             Potato.Phenology.Stage                  
                [ExtraVariables].Script.AccumPlantN                  
        [ExtraVariables].Script.AccumMineralisation                  
                 [ExtraVariables].Script.AccumDenit                  
                  [ExtraVariables].Script.AccumFert                  
                 [ExtraVariables].Script.AccumLeach                  
                [ExtraVariables].Script.AccumDetach                  
               [ExtraVariables].Script.DeltaSoilOMN                  
            [ExtraVariables].Script.DeltaSurfaceOMN                  
          [ExtraVariables].Script.DeltaSoilMineralN                  
                          Potato.Root.NSupplyUptake                  
                                [Soil].SoilWater.Eo                  
                                [Soil].SoilWater.Es                  
                        [ExtraVariables].Script.SWC                  
                        [ExtraVariables].Script.DUL                  
                          [Soil].SoilWater.Drainage                  
                            [Soil].SoilWater.Runoff                  
                 [ExtraVariables].Script.OutFlowLat                  
                              [Soil].SoilWater.pond                  
                    [ExtraVariables].Script.AccumEO                  
                    [ExtraVariables].Script.AccumEP                  
                    [ExtraVariables].Script.AccumES                  
              [ExtraVariables].Script.AccumDrainage                  
                [ExtraVariables].Script.AccumRunoff                  
              [ExtraVariables].Script.AccumRainfall                  
            [ExtraVariables].Script.AccumIrrigation                  
            [ExtraVariables].Script.AccumOutflowLat                  
           [ExtraVariables].Script.SoilWaterDeficit                  
                   Potato.Summariser.AboveGround.Wt                  
                   Potato.Summariser.BelowGround.Wt                  
                         Potato.Summariser.Total.Wt                  
                     Potato.Summariser.TotalDead.Wt                  
                     Potato.Summariser.TotalLive.Wt                  
                                Potato.Leaf.Dead.Wt                  
                                Potato.Leaf.Live.Wt                  
                                Potato.Stem.Dead.Wt                  
                                Potato.Stem.Live.Wt                  
                               Potato.Tuber.Dead.Wt                  
                               Potato.Tuber.Live.Wt                  
                                Potato.Root.Dead.Wt                  
                                Potato.Root.Live.Wt                  
                    Potato.Summariser.AboveGround.N                  
                    Potato.Summariser.BelowGround.N                  
                          Potato.Summariser.Total.N                  
                      Potato.Summariser.TotalLive.N                  
                      Potato.Summariser.TotalDead.N                  
                                 Potato.Leaf.Dead.N                  
                                 Potato.Leaf.Live.N                  
                                 Potato.Stem.Dead.N                  
                                 Potato.Stem.Live.N                  
                                Potato.Tuber.Dead.N                  
                                Potato.Tuber.Live.N                  
                                 Potato.Root.Live.N                  
                                 Potato.Root.Dead.N                  
                             Potato.Leaf.Live.NConc                  
                             Potato.Leaf.Dead.NConc                  
                             Potato.Stem.Live.NConc                  
                             Potato.Stem.Dead.NConc                  
                            Potato.Tuber.Live.NConc                  
                            Potato.Tuber.Dead.NConc                  
                             Potato.Root.Live.NConc                  
                             Potato.Root.Dead.NConc                  
                            Potato.Root.WaterSupply                  
                            Potato.Root.WaterUptake                  
                          Potato.Leaf.Transpiration                  
                            Potato.Leaf.WaterDemand                  
                                  Potato.Root.Depth                  
                             Potato.Leaf.CoverGreen                  
                             Potato.Leaf.CoverTotal                  
                              Potato.Leaf.CoverDead                  
                                    Potato.Leaf.LAI                  
                                Potato.Leaf.LAIDead                  
                            Potato.Structure.Height                  
                                     Potato.Leaf.Fn                  
                                     Potato.Leaf.Fw                  
                Potato.Leaf.Photosynthesis.FT.Value                  
              Potato.Leaf.Photosynthesis.FVPD.Value                  
                  Potato.Structure.PlantTotalNodeNo                  
                     Potato.Structure.TotalStemPopn                  
               Potato.Leaf.PlantAppearedGreenLeafNo                  
                      Potato.Leaf.ExpandingCohortNo                  
                       Potato.Leaf.AppearedCohortNo                  
                           Potato.Leaf.DeadCohortNo                  
                    Potato.Structure.MainStemNodeNo                  
                      Potato.Leaf.SenescingCohortNo                  
             Potato.Structure.PrimaryBudTotalNodeNo                  
Potato.Leaf.LeafCohortParameters.MinimumNConc.Value                  
                     Potato.Stem.MinimumNConc.Value                  
                    Potato.Tuber.MinimumNConc.Value                  
                     Potato.Root.MinimumNConc.Value                  
Potato.Leaf.LeafCohortParameters.MaximumNConc.Value                  
                     Potato.Stem.MaximumNConc.Value                  
                    Potato.Tuber.MaximumNConc.Value                  
                     Potato.Root.MaximumNConc.Value                  
                      Potato.Stem.Live.StructuralWt                  
                   Potato.Stem.Live.NonStructuralWt                  
                           Potato.Leaf.SpecificArea                  
                       Potato.Leaf.ExpandedCohortNo                  
                              [Soil].SoilWater.SWmm                  
                                        [Soil].NO3N                  
        [ExtraVariables].Script.SoilNitrogenContent                  
                          Potato.Arbitrator.NDemand                  
                            [MicroClimate].net_radn                  
                                [MicroClimate].peta                  
                                [MicroClimate].petr                  
                       [ExtraVariables].Script.FomN                  
                       [ExtraVariables].Script.HumN                  
                      [ExtraVariables].Script.BiomN                  
                 [ExtraVariables].Script.DltNMinRes                  
                 [ExtraVariables].Script.DltNMinTot                  
                [PotatoHarvestRule].Script.FinalTag                  
                               Potato.Tuber.LiveFWt                  
                Potato.Tuber.DryMatterContent.Value                  
                     [Potato].Arbitrator.NO3NSupply                  
                     [Potato].Arbitrator.NH4NSupply                  
                              [Potato].Root.NUptake                  

<br/>
FIELD.SURFACEORGANICMATTER
--------------------------
Surface organic matter pool name:             Wheat
Surface organic matter pool type:             Wheat
 Mass of surface residue (kg/ha):      2000 (kg/ha)
         Standing fraction (0-1):           0 (0-1)
     Carbon:Nitrogen ratio (g/g):          80 (g/g)
                  Carbon content:   800.000 (kg/ha)
                Nitrogen content:    10.000 (kg/ha)
              Phosphorus content:     0.000 (kg/ha)

<br/>
SIMULATION LOG:
---------------


2003-10-20 Field.Potato
    A crop of Potato (cultivar = RussetBurbank) was sown today at a population of 4.63821892393321 plants/m2 with 2.2 buds per plant at a row spacing of 150 and a depth of 120 mm
    


2003-10-20 Field.Fertiliser
    100 kg/ha of UreaN added at depth 0 layer 1
    


2003-10-20 Field.Potato.Summariser
    Peeping
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


2003-11-11 Field.Potato.Summariser
    Emergence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


2003-11-25 Field.Fertiliser
    69 kg/ha of UreaN added at depth 0 layer 1
    


2003-11-26 Field.Irrigation
    15.0 mm of water added at depth 0
    


2003-12-04 Field.Irrigation
    50.0 mm of water added at depth 0
    


2003-12-10 Field.Potato.Summariser
    TuberInitiation
      LAI = 1.36 (m^2/m^2)
      Above Ground Biomass = 91.19 (g/m^2)
    
    


2003-12-16 Field.Irrigation
    15.0 mm of water added at depth 0
    


2003-12-22 Field.Irrigation
    50.0 mm of water added at depth 0
    


2003-12-30 Field.Irrigation
    50.0 mm of water added at depth 0
    


2004-01-08 Field.Irrigation
    50.0 mm of water added at depth 0
    


2004-01-21 Field.Irrigation
    50.0 mm of water added at depth 0
    


2004-01-31 Field.Irrigation
    50.0 mm of water added at depth 0
    


2004-02-27 Field.Irrigation
    25.0 mm of water added at depth 0
    


2004-05-06 Field.Potato.Summariser
    FinalLeaf
      LAI = 0.07 (m^2/m^2)
      Above Ground Biomass = 522.97 (g/m^2)
    
    


2004-05-21 Field.Potato.Summariser
    FullSenescence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 522.97 (g/m^2)
    
    


2004-06-02 Field.Potato.Summariser
    FullSenescence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 522.97 (g/m^2)
    
    Maturity
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 522.97 (g/m^2)
    
    


2004-06-02 Field.Potato
    A crop of Potato was harvested today, Yeahhh
    


############################################################################
.POTATOCULTIVARHORIZON
----------------------
Simulation name:   PotatoCultivarHorizon

<br/>
WEATHER
-------
Weather file name:   lincoln.met

<br/>
CLOCK
-----
The start date of the simulation:   2003-10-20
  The end date of the simulation:   2004-06-05

<br/>
FIELD.SOIL
----------
                   Record number:             0
Soil texture or other descriptor:   Sedementary
                      Local name:       Lincoln
                Latitude (WGS84):         0.000
               Longitude (WGS84):         0.000

<br/>
FIELD.SOIL.WATER
----------------
Depth (cm)  BD (g/cc)  Air dry (mm/mm)  LL15 (mm/mm)  DUL (mm/mm)  SAT (mm/mm)
      0-10       1.20             0.08          0.16         0.33         0.50
     10-30       1.20             0.16          0.16         0.33         0.50
     30-60       1.20             0.15          0.15         0.31         0.44
     60-90       1.20             0.13          0.13         0.27         0.46
    90-120       1.20             0.15          0.15         0.30         0.44
   120-150       1.20             0.15          0.15         0.30         0.44

<br/>
FIELD.SOIL.WATER.POTATOSOIL
---------------------------
Potato Depth (cm)  Potato LL (mm/mm)  Potato PAWC (mm)  Potato KL (mm/mm)  Potato XF (mm/mm)
             0-10               0.13              20.0               0.10                1.0
            10-30               0.13              40.0               0.06                1.0
            30-60                0.1              63.0               0.04                1.0
            60-90               0.15              36.0               0.01                1.0
           90-120                0.3               0.0               0.00                0.0
          120-150                0.3               0.0               0.00                0.0
                                                 159.0                                      

<br/>
FIELD.SOIL.SOILORGANICMATTER
----------------------------
                  Root C:N ratio:     30.000
             Root Weight (kg/ha):   3000.000
                  Soil C:N ratio:     11.500
Erosion enrichment coefficient A:      7.400
Erosion enrichment coefficient B:      0.200

Depth (cm)  OC (Total %)  FBiom (0-1)  FInert (0-1)
      0-10          3.50        0.025           0.3
     10-30          2.50        0.025           0.4
     30-60          1.20        0.015          0.75
     60-90          1.03         0.01           0.9
    90-120          0.47         0.01          0.96
   120-150          0.47         0.01          0.96

<br/>
FIELD.SOIL.ANALYSIS
-------------------
Depth (cm)  PH (1:5 water)
      0-10             6.6
     10-30             6.2
     30-60             5.7
     60-90             5.5
    90-120             5.5
   120-150             5.5

<br/>
FIELD.SOIL.INITIAL WATER
------------------------
        Fraction full:          1.000
    Depth of wet soil:            NaN
Plant available water:   231.000 (mm)

<br/>
FIELD.SOIL.SAMPLE
-----------------
Depth (cm)  NO3kgha  NH4kgha
      0-10     40.0      0.1
     10-30     30.0      0.1
     30-60     14.0      0.1
     60-90     14.0      0.1
    90-120      1.4      0.1
   120-150      1.4      0.1

<br/>
FIELD.POTATOSOWINGRULE
----------------------

        using System;
        using Models.Core;
        using Models.PMF;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;

               [Description("Spacing (mm) between plants within rows")]
               public double RowSpace { get; set; }
               [Description("Spacing (mm) between rows")]
               public double RowWidth { get; set; }
               [Description("Depth (mm) tubers are planted")]
               public double PlantingDepth { get; set; }
               [Description("Number of stems per seed tuber")]
               public double StemNumberPerSeedTuber { get; set; }
               [Description("Cultivar")]
                public string CultivarName { get; set; }
               [Description("Sowing Date")]
               public DateTime SowingDate { get; set; }

               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
                double PlantPopulation = 1/((RowWidth/1000)*(RowSpace/1000));

                if (Clock.Today.Date == SowingDate)
                    Potato.Sow(population:PlantPopulation, cultivar:CultivarName, depth:PlantingDepth, rowSpacing:150, budNumber:StemNumberPerSeedTuber);
                //Potato.Sow(... Contains the following arguements:
                //Population  double  Required  Seeds sowing/m2
                //Cultivar    string  Required  "NameOfCultivar"
                //Depth       double  Optional  Depth (mm) seed sown.   Default is 100mm 
                //MaxCover    double  Optional  Proportion (0-1) of the ground row crop will cover.   Default is 1.0
                //BudNumber   double  Optional  Number of mainstems per seed sown.  Default is 1.0
                //RowSpacing  double  Optional  Spaceing (mm) between drill rows when crop is sown.  Default is 150mm
                //CropClass   string  Optional  Crop class to instantiate when crop is sown.  Default is "Plant"
               }
            }
        }
                
<br/>
FIELD.POTATOHARVESTRULE
-----------------------

        using System;
        using Models.Core;
        using Models.PMF;
        using System.Xml.Serialization;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;
               [Link] Summary Summary;
               [Description("HarvestDate Date")]
               public DateTime HarvestDate { get; set; }            
               [XmlIgnore] public string FinalTag { get; set;}
               [XmlIgnore] public bool Harvested {get; set;}
               [XmlIgnore] public bool ReadyForHarvest {get; set;}
               
               [EventSubscribe("Commencing")]
               private void OnSimulationCommencing(object sender, EventArgs e)
               {
               FinalTag = "";
               Harvested = false;
               ReadyForHarvest = false;
               }
               
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
               if (ReadyForHarvest == true)
                   {
                   Potato.Harvest();
                   ReadyForHarvest = false;
                   Harvested = true;
                   }
               FinalTag = "";    
               }
               
               [EventSubscribe("DoManagementCalculations")]
               private void OnDoManagementCalculations(object sender, EventArgs e)
               {
                if ((Clock.Today == HarvestDate)&&(Harvested == false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
               }
            }
        }
                
<br/>
FIELD.EXTRAVARIABLES
--------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.Soils;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Clock Clock;
        [Link] Soils.Soil Soil;
        [Link] Models.SurfaceOM.SurfaceOrganicMatter SOM;
        [Link] Weather Met;   
        [Link] Fertiliser Fert;
        [Link] Irrigation Irrig;  
        [Link] Plant Potato;
        [Link] Zone zone;
                    
        [XmlIgnore] public bool InitialDay { get; set; }
        
        [XmlIgnore] public double AccumPlantN { get; set; }
        [XmlIgnore] public double AccumMineralisation { get; set; }
        [XmlIgnore] public double AccumDenit { get; set; }
        [XmlIgnore] public double AccumFert { get; set; }
        [XmlIgnore] public double AccumLeach { get; set; }
        [XmlIgnore] public double AccumDetach { get; set; }
        [XmlIgnore] public double DeltaSoilOMN { get; set; }
        [XmlIgnore] public double DeltaSurfaceOMN { get; set; }
        [XmlIgnore] public double DeltaSoilMineralN { get; set; }
        [XmlIgnore] public double SoilNitrogenContent { get; set; }
        
        [XmlIgnore] public double AccumEO { get; set; }
        [XmlIgnore] public double AccumEP { get; set; }
        [XmlIgnore] public double AccumES { get; set; }
        [XmlIgnore] public double AccumDrainage { get; set; }
        [XmlIgnore] public double AccumRunoff { get; set; }
        [XmlIgnore] public double AccumOutflowLat { get; set; }
        [XmlIgnore] public double AccumIrrigation { get; set; }
        [XmlIgnore] public double AccumRainfall { get; set; }
        [XmlIgnore] public double SoilWaterDeficit { get; set; }
        
        [XmlIgnore] public double AccumTtemerg { get; set; }
        
        [XmlIgnore] public double  InitialSoilOMN { get; set; }
        [XmlIgnore] public double  InitialSurfaceOMN { get; set; }
        [XmlIgnore] public double  InitialMineralN { get; set; }
        
        [XmlIgnore] public double SWC { get; set; }
        [XmlIgnore] public double DUL { get; set; }
        [XmlIgnore] public double OutFlowLat { get; set; }

        [XmlIgnore] public double FomN { get; set; }
        [XmlIgnore] public double BiomN { get; set; }
        [XmlIgnore] public double HumN { get; set; }
        [XmlIgnore] public double OrganicN { get; set; }
        [XmlIgnore] public double NO3N { get; set; }
        [XmlIgnore] public double NH4N { get; set; }
        [XmlIgnore] public double UreaN { get; set; }
        [XmlIgnore] public double MineralN { get; set; }
        [XmlIgnore] public double DltNMinRes { get; set; }
        [XmlIgnore] public double DltNMinTot { get; set; }
        
        [EventSubscribe("Commencing")]
        private void OnSimulationCommencing(object sender, EventArgs e)
        {
            InitialDay = true;
        }       
        
        [EventSubscribe("DoManagement")]
        private void OnDoManagement(object sender, EventArgs e)
        {
            //!!!!!! Nitrogen balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!
               FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            OrganicN = FomN + HumN + BiomN;
            NO3N = Utility.Math.Sum(Soil.NO3N);
            NH4N = Utility.Math.Sum(Soil.NH4N);
            UreaN = Utility.Math.Sum(Soil.SoilNitrogen.urea);
            MineralN = NO3N + NH4N + UreaN; 
            DltNMinRes = Utility.Math.Sum(Soil.SoilNitrogen.dlt_n_min_res);
            DltNMinTot = Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            int layers = Soil.Thickness.Length;
            if (InitialDay == true)
            {
                InitialSurfaceOMN = SOM.N;
                InitialSoilOMN = OrganicN;
                InitialMineralN = MineralN;
                InitialDay = false;
            }
            AccumFert += Fert.NitrogenApplied;
            DeltaSurfaceOMN = SOM.N - InitialSurfaceOMN;
            AccumLeach = AccumLeach - Soil.SoilWater.LeachNH4 - Soil.SoilWater.LeachNO3 - Soil.SoilWater.LeachUrea; //Fails
            AccumMineralisation += Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            AccumDenit -= Utility.Math.Sum(Soil.SoilNitrogen.Denitrification);
            AccumPlantN -= (double)zone.Get("Potato.Root.NUptake");
            DeltaSoilOMN = OrganicN - InitialSoilOMN;
            DeltaSoilMineralN = MineralN - InitialMineralN;
            SoilNitrogenContent = MineralN;
            
            //!!!!!! Water balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!

            AccumIrrigation += Irrig.IrrigationApplied;
            AccumRainfall += Met.Rain;
            AccumEP -= (double)zone.Get("Potato.Leaf.Transpiration");
            SoilWaterDeficit =  (SWC - DUL);
            double OutFlowLat = Utility.Math.Sum(Soil.SoilWater.outflow_lat);
            AccumOutflowLat -= OutFlowLat;
            
            //!!!!!! Thermal time calculation !!!!!!
            //!!!!!! ^^^^^^^^^^^^^^^^^^^^^^^^ !!!!!!
            if (Potato.Phenology.Stage >= 3)
            AccumTtemerg += Potato.Phenology.ThermalTime.Value;
        }
        
        [EventSubscribe("DoManagementCalculations")]
        private void OnDoManagementCalculations(object sender, EventArgs e)
        {
            FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            
            
            AccumEO -= Soil.SoilWater.Eo;
            AccumES -= Soil.SoilWater.Es; 
            AccumDrainage -= Soil.SoilWater.Drainage;
            AccumRunoff -= Soil.SoilWater.Runoff;
            SWC = Utility.Math.Sum(Soil.SoilWater.SWmm);
            DUL = Utility.Math.Sum(Soil.SoilWater.DULmm);
        }
    }
}
       
<br/>
FIELD.REPORT
------------
                                   Output variables  Output frequency
                                      [Clock].Today  [Clock].DoReport
               [ExtraVariables].Script.AccumTtemerg                  
                  Potato.Phenology.CurrentPhaseName                  
                             Potato.Phenology.Stage                  
                [ExtraVariables].Script.AccumPlantN                  
        [ExtraVariables].Script.AccumMineralisation                  
                 [ExtraVariables].Script.AccumDenit                  
                  [ExtraVariables].Script.AccumFert                  
                 [ExtraVariables].Script.AccumLeach                  
                [ExtraVariables].Script.AccumDetach                  
               [ExtraVariables].Script.DeltaSoilOMN                  
            [ExtraVariables].Script.DeltaSurfaceOMN                  
          [ExtraVariables].Script.DeltaSoilMineralN                  
                          Potato.Root.NSupplyUptake                  
                                [Soil].SoilWater.Eo                  
                                [Soil].SoilWater.Es                  
                        [ExtraVariables].Script.SWC                  
                        [ExtraVariables].Script.DUL                  
                          [Soil].SoilWater.Drainage                  
                            [Soil].SoilWater.Runoff                  
                 [ExtraVariables].Script.OutFlowLat                  
                              [Soil].SoilWater.pond                  
                    [ExtraVariables].Script.AccumEO                  
                    [ExtraVariables].Script.AccumEP                  
                    [ExtraVariables].Script.AccumES                  
              [ExtraVariables].Script.AccumDrainage                  
                [ExtraVariables].Script.AccumRunoff                  
              [ExtraVariables].Script.AccumRainfall                  
            [ExtraVariables].Script.AccumIrrigation                  
            [ExtraVariables].Script.AccumOutflowLat                  
           [ExtraVariables].Script.SoilWaterDeficit                  
                   Potato.Summariser.AboveGround.Wt                  
                   Potato.Summariser.BelowGround.Wt                  
                         Potato.Summariser.Total.Wt                  
                     Potato.Summariser.TotalDead.Wt                  
                     Potato.Summariser.TotalLive.Wt                  
                                Potato.Leaf.Dead.Wt                  
                                Potato.Leaf.Live.Wt                  
                                Potato.Stem.Dead.Wt                  
                                Potato.Stem.Live.Wt                  
                               Potato.Tuber.Dead.Wt                  
                               Potato.Tuber.Live.Wt                  
                                Potato.Root.Dead.Wt                  
                                Potato.Root.Live.Wt                  
                    Potato.Summariser.AboveGround.N                  
                    Potato.Summariser.BelowGround.N                  
                          Potato.Summariser.Total.N                  
                      Potato.Summariser.TotalLive.N                  
                      Potato.Summariser.TotalDead.N                  
                                 Potato.Leaf.Dead.N                  
                                 Potato.Leaf.Live.N                  
                                 Potato.Stem.Dead.N                  
                                 Potato.Stem.Live.N                  
                                Potato.Tuber.Dead.N                  
                                Potato.Tuber.Live.N                  
                                 Potato.Root.Live.N                  
                                 Potato.Root.Dead.N                  
                             Potato.Leaf.Live.NConc                  
                             Potato.Leaf.Dead.NConc                  
                             Potato.Stem.Live.NConc                  
                             Potato.Stem.Dead.NConc                  
                            Potato.Tuber.Live.NConc                  
                            Potato.Tuber.Dead.NConc                  
                             Potato.Root.Live.NConc                  
                             Potato.Root.Dead.NConc                  
                            Potato.Root.WaterSupply                  
                            Potato.Root.WaterUptake                  
                          Potato.Leaf.Transpiration                  
                            Potato.Leaf.WaterDemand                  
                                  Potato.Root.Depth                  
                             Potato.Leaf.CoverGreen                  
                             Potato.Leaf.CoverTotal                  
                              Potato.Leaf.CoverDead                  
                                    Potato.Leaf.LAI                  
                                Potato.Leaf.LAIDead                  
                            Potato.Structure.Height                  
                                     Potato.Leaf.Fn                  
                                     Potato.Leaf.Fw                  
                Potato.Leaf.Photosynthesis.FT.Value                  
              Potato.Leaf.Photosynthesis.FVPD.Value                  
                  Potato.Structure.PlantTotalNodeNo                  
                     Potato.Structure.TotalStemPopn                  
               Potato.Leaf.PlantAppearedGreenLeafNo                  
                      Potato.Leaf.ExpandingCohortNo                  
                       Potato.Leaf.AppearedCohortNo                  
                           Potato.Leaf.DeadCohortNo                  
                    Potato.Structure.MainStemNodeNo                  
                      Potato.Leaf.SenescingCohortNo                  
             Potato.Structure.PrimaryBudTotalNodeNo                  
Potato.Leaf.LeafCohortParameters.MinimumNConc.Value                  
                     Potato.Stem.MinimumNConc.Value                  
                    Potato.Tuber.MinimumNConc.Value                  
                     Potato.Root.MinimumNConc.Value                  
Potato.Leaf.LeafCohortParameters.MaximumNConc.Value                  
                     Potato.Stem.MaximumNConc.Value                  
                    Potato.Tuber.MaximumNConc.Value                  
                     Potato.Root.MaximumNConc.Value                  
                      Potato.Stem.Live.StructuralWt                  
                   Potato.Stem.Live.NonStructuralWt                  
                           Potato.Leaf.SpecificArea                  
                       Potato.Leaf.ExpandedCohortNo                  
                              [Soil].SoilWater.SWmm                  
                                        [Soil].NO3N                  
        [ExtraVariables].Script.SoilNitrogenContent                  
                          Potato.Arbitrator.NDemand                  
                            [MicroClimate].net_radn                  
                                [MicroClimate].peta                  
                                [MicroClimate].petr                  
                       [ExtraVariables].Script.FomN                  
                       [ExtraVariables].Script.HumN                  
                      [ExtraVariables].Script.BiomN                  
                 [ExtraVariables].Script.DltNMinRes                  
                 [ExtraVariables].Script.DltNMinTot                  
                [PotatoHarvestRule].Script.FinalTag                  
                               Potato.Tuber.LiveFWt                  
                Potato.Tuber.DryMatterContent.Value                  
                     [Potato].Arbitrator.NO3NSupply                  
                     [Potato].Arbitrator.NH4NSupply                  
                              [Potato].Root.NUptake                  

<br/>
FIELD.SURFACEORGANICMATTER
--------------------------
Surface organic matter pool name:             Wheat
Surface organic matter pool type:             Wheat
 Mass of surface residue (kg/ha):      2000 (kg/ha)
         Standing fraction (0-1):           0 (0-1)
     Carbon:Nitrogen ratio (g/g):          80 (g/g)
                  Carbon content:   800.000 (kg/ha)
                Nitrogen content:    10.000 (kg/ha)
              Phosphorus content:     0.000 (kg/ha)

<br/>
SIMULATION LOG:
---------------


2003-10-20 Field.Potato
    A crop of Potato (cultivar = Horizon) was sown today at a population of 4.63821892393321 plants/m2 with 3.2 buds per plant at a row spacing of 150 and a depth of 135 mm
    


2003-10-20 Field.Fertiliser
    100 kg/ha of UreaN added at depth 0 layer 1
    


2003-10-20 Field.Potato.Summariser
    Peeping
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


2003-11-13 Field.Potato.Summariser
    Emergence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


2003-11-25 Field.Fertiliser
    69 kg/ha of UreaN added at depth 0 layer 1
    


2003-11-26 Field.Irrigation
    15.0 mm of water added at depth 0
    


2003-12-04 Field.Irrigation
    50.0 mm of water added at depth 0
    


2003-12-12 Field.Potato.Summariser
    TuberInitiation
      LAI = 1.77 (m^2/m^2)
      Above Ground Biomass = 114.59 (g/m^2)
    
    


2003-12-16 Field.Irrigation
    15.0 mm of water added at depth 0
    


2003-12-22 Field.Irrigation
    50.0 mm of water added at depth 0
    


2003-12-30 Field.Irrigation
    50.0 mm of water added at depth 0
    


2004-01-08 Field.Irrigation
    50.0 mm of water added at depth 0
    


2004-01-21 Field.Irrigation
    50.0 mm of water added at depth 0
    


2004-01-31 Field.Irrigation
    50.0 mm of water added at depth 0
    


2004-02-27 Field.Irrigation
    25.0 mm of water added at depth 0
    


2004-03-04 Field.Potato.Summariser
    FinalLeaf
      LAI = 0.48 (m^2/m^2)
      Above Ground Biomass = 339.75 (g/m^2)
    
    


2004-03-24 Field.Potato.Summariser
    FullSenescence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 339.74 (g/m^2)
    
    


2004-04-17 Field.Potato.Summariser
    Maturity
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 339.74 (g/m^2)
    
    


2004-06-02 Field.Potato.Summariser
    Maturity
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 339.74 (g/m^2)
    
    Maturity
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 339.74 (g/m^2)
    
    


2004-06-02 Field.Potato
    A crop of Potato was harvested today, Yeahhh
    


############################################################################
.POTATOCULTIVARILAMHARDY
------------------------
Simulation name:   PotatoCultivarIlamHardy

<br/>
WEATHER
-------
Weather file name:   lincoln.met

<br/>
CLOCK
-----
The start date of the simulation:   2003-10-20
  The end date of the simulation:   2004-06-05

<br/>
FIELD.SOIL
----------
                   Record number:             0
Soil texture or other descriptor:   Sedementary
                      Local name:       Lincoln
                Latitude (WGS84):         0.000
               Longitude (WGS84):         0.000

<br/>
FIELD.SOIL.WATER
----------------
Depth (cm)  BD (g/cc)  Air dry (mm/mm)  LL15 (mm/mm)  DUL (mm/mm)  SAT (mm/mm)
      0-10       1.20             0.08          0.16         0.33         0.50
     10-30       1.20             0.16          0.16         0.33         0.50
     30-60       1.20             0.15          0.15         0.31         0.44
     60-90       1.20             0.13          0.13         0.27         0.46
    90-120       1.20             0.15          0.15         0.30         0.44
   120-150       1.20             0.15          0.15         0.30         0.44

<br/>
FIELD.SOIL.WATER.POTATOSOIL
---------------------------
Potato Depth (cm)  Potato LL (mm/mm)  Potato PAWC (mm)  Potato KL (mm/mm)  Potato XF (mm/mm)
             0-10               0.13              20.0               0.10                1.0
            10-30               0.13              40.0               0.06                1.0
            30-60                0.1              63.0               0.04                1.0
            60-90               0.15              36.0               0.01                1.0
           90-120                0.3               0.0               0.00                0.0
          120-150                0.3               0.0               0.00                0.0
                                                 159.0                                      

<br/>
FIELD.SOIL.SOILORGANICMATTER
----------------------------
                  Root C:N ratio:     30.000
             Root Weight (kg/ha):   3000.000
                  Soil C:N ratio:     11.500
Erosion enrichment coefficient A:      7.400
Erosion enrichment coefficient B:      0.200

Depth (cm)  OC (Total %)  FBiom (0-1)  FInert (0-1)
      0-10          3.50        0.025           0.3
     10-30          2.50        0.025           0.4
     30-60          1.20        0.015          0.75
     60-90          1.03         0.01           0.9
    90-120          0.47         0.01          0.96
   120-150          0.47         0.01          0.96

<br/>
FIELD.SOIL.ANALYSIS
-------------------
Depth (cm)  PH (1:5 water)
      0-10             6.6
     10-30             6.2
     30-60             5.7
     60-90             5.5
    90-120             5.5
   120-150             5.5

<br/>
FIELD.SOIL.INITIAL WATER
------------------------
        Fraction full:          1.000
    Depth of wet soil:            NaN
Plant available water:   231.000 (mm)

<br/>
FIELD.SOIL.SAMPLE
-----------------
Depth (cm)  NO3kgha  NH4kgha
      0-10     40.0      0.1
     10-30     30.0      0.1
     30-60     14.0      0.1
     60-90     14.0      0.1
    90-120      1.4      0.1
   120-150      1.4      0.1

<br/>
FIELD.POTATOSOWINGRULE
----------------------

        using System;
        using Models.Core;
        using Models.PMF;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;

               [Description("Spacing (mm) between plants within rows")]
               public double RowSpace { get; set; }
               [Description("Spacing (mm) between rows")]
               public double RowWidth { get; set; }
               [Description("Depth (mm) tubers are planted")]
               public double PlantingDepth { get; set; }
               [Description("Number of stems per seed tuber")]
               public double StemNumberPerSeedTuber { get; set; }
               [Description("Cultivar")]
                public string CultivarName { get; set; }
               [Description("Sowing Date")]
               public DateTime SowingDate { get; set; }

               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
                double PlantPopulation = 1/((RowWidth/1000)*(RowSpace/1000));

                if (Clock.Today.Date == SowingDate)
                    Potato.Sow(population:PlantPopulation, cultivar:CultivarName, depth:PlantingDepth, rowSpacing:150, budNumber:StemNumberPerSeedTuber);
                //Potato.Sow(... Contains the following arguements:
                //Population  double  Required  Seeds sowing/m2
                //Cultivar    string  Required  "NameOfCultivar"
                //Depth       double  Optional  Depth (mm) seed sown.   Default is 100mm 
                //MaxCover    double  Optional  Proportion (0-1) of the ground row crop will cover.   Default is 1.0
                //BudNumber   double  Optional  Number of mainstems per seed sown.  Default is 1.0
                //RowSpacing  double  Optional  Spaceing (mm) between drill rows when crop is sown.  Default is 150mm
                //CropClass   string  Optional  Crop class to instantiate when crop is sown.  Default is "Plant"
               }
            }
        }
                
<br/>
FIELD.POTATOHARVESTRULE
-----------------------

        using System;
        using Models.Core;
        using Models.PMF;
        using System.Xml.Serialization;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;
               [Link] Summary Summary;
               [Description("HarvestDate Date")]
               public DateTime HarvestDate { get; set; }            
               [XmlIgnore] public string FinalTag { get; set;}
               [XmlIgnore] public bool Harvested {get; set;}
               [XmlIgnore] public bool ReadyForHarvest {get; set;}
               
               [EventSubscribe("Commencing")]
               private void OnSimulationCommencing(object sender, EventArgs e)
               {
               FinalTag = "";
               Harvested = false;
               ReadyForHarvest = false;
               }
               
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
               if (ReadyForHarvest == true)
                   {
                   Potato.Harvest();
                   ReadyForHarvest = false;
                   Harvested = true;
                   }
               FinalTag = "";    
               }
               
               [EventSubscribe("DoManagementCalculations")]
               private void OnDoManagementCalculations(object sender, EventArgs e)
               {
                if ((Clock.Today == HarvestDate)&&(Harvested == false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
               }
            }
        }
                
<br/>
FIELD.EXTRAVARIABLES
--------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.Soils;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Clock Clock;
        [Link] Soils.Soil Soil;
        [Link] Models.SurfaceOM.SurfaceOrganicMatter SOM;
        [Link] Weather Met;   
        [Link] Fertiliser Fert;
        [Link] Irrigation Irrig;  
        [Link] Plant Potato;
        [Link] Zone zone;
                    
        [XmlIgnore] public bool InitialDay { get; set; }
        
        [XmlIgnore] public double AccumPlantN { get; set; }
        [XmlIgnore] public double AccumMineralisation { get; set; }
        [XmlIgnore] public double AccumDenit { get; set; }
        [XmlIgnore] public double AccumFert { get; set; }
        [XmlIgnore] public double AccumLeach { get; set; }
        [XmlIgnore] public double AccumDetach { get; set; }
        [XmlIgnore] public double DeltaSoilOMN { get; set; }
        [XmlIgnore] public double DeltaSurfaceOMN { get; set; }
        [XmlIgnore] public double DeltaSoilMineralN { get; set; }
        [XmlIgnore] public double SoilNitrogenContent { get; set; }
        
        [XmlIgnore] public double AccumEO { get; set; }
        [XmlIgnore] public double AccumEP { get; set; }
        [XmlIgnore] public double AccumES { get; set; }
        [XmlIgnore] public double AccumDrainage { get; set; }
        [XmlIgnore] public double AccumRunoff { get; set; }
        [XmlIgnore] public double AccumOutflowLat { get; set; }
        [XmlIgnore] public double AccumIrrigation { get; set; }
        [XmlIgnore] public double AccumRainfall { get; set; }
        [XmlIgnore] public double SoilWaterDeficit { get; set; }
        
        [XmlIgnore] public double AccumTtemerg { get; set; }
        
        [XmlIgnore] public double  InitialSoilOMN { get; set; }
        [XmlIgnore] public double  InitialSurfaceOMN { get; set; }
        [XmlIgnore] public double  InitialMineralN { get; set; }
        
        [XmlIgnore] public double SWC { get; set; }
        [XmlIgnore] public double DUL { get; set; }
        [XmlIgnore] public double OutFlowLat { get; set; }

        [XmlIgnore] public double FomN { get; set; }
        [XmlIgnore] public double BiomN { get; set; }
        [XmlIgnore] public double HumN { get; set; }
        [XmlIgnore] public double OrganicN { get; set; }
        [XmlIgnore] public double NO3N { get; set; }
        [XmlIgnore] public double NH4N { get; set; }
        [XmlIgnore] public double UreaN { get; set; }
        [XmlIgnore] public double MineralN { get; set; }
        [XmlIgnore] public double DltNMinRes { get; set; }
        [XmlIgnore] public double DltNMinTot { get; set; }
        
        [EventSubscribe("Commencing")]
        private void OnSimulationCommencing(object sender, EventArgs e)
        {
            InitialDay = true;
        }       
        
        [EventSubscribe("DoManagement")]
        private void OnDoManagement(object sender, EventArgs e)
        {
            //!!!!!! Nitrogen balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!
               FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            OrganicN = FomN + HumN + BiomN;
            NO3N = Utility.Math.Sum(Soil.NO3N);
            NH4N = Utility.Math.Sum(Soil.NH4N);
            UreaN = Utility.Math.Sum(Soil.SoilNitrogen.urea);
            MineralN = NO3N + NH4N + UreaN; 
            DltNMinRes = Utility.Math.Sum(Soil.SoilNitrogen.dlt_n_min_res);
            DltNMinTot = Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            int layers = Soil.Thickness.Length;
            if (InitialDay == true)
            {
                InitialSurfaceOMN = SOM.N;
                InitialSoilOMN = OrganicN;
                InitialMineralN = MineralN;
                InitialDay = false;
            }
            AccumFert += Fert.NitrogenApplied;
            DeltaSurfaceOMN = SOM.N - InitialSurfaceOMN;
            AccumLeach = AccumLeach - Soil.SoilWater.LeachNH4 - Soil.SoilWater.LeachNO3 - Soil.SoilWater.LeachUrea; //Fails
            AccumMineralisation += Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            AccumDenit -= Utility.Math.Sum(Soil.SoilNitrogen.Denitrification);
            AccumPlantN -= (double)zone.Get("Potato.Root.NUptake");
            DeltaSoilOMN = OrganicN - InitialSoilOMN;
            DeltaSoilMineralN = MineralN - InitialMineralN;
            SoilNitrogenContent = MineralN;
            
            //!!!!!! Water balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!

            AccumIrrigation += Irrig.IrrigationApplied;
            AccumRainfall += Met.Rain;
            AccumEP -= (double)zone.Get("Potato.Leaf.Transpiration");
            SoilWaterDeficit =  (SWC - DUL);
            double OutFlowLat = Utility.Math.Sum(Soil.SoilWater.outflow_lat);
            AccumOutflowLat -= OutFlowLat;
            
            //!!!!!! Thermal time calculation !!!!!!
            //!!!!!! ^^^^^^^^^^^^^^^^^^^^^^^^ !!!!!!
            if (Potato.Phenology.Stage >= 3)
            AccumTtemerg += Potato.Phenology.ThermalTime.Value;
        }
        
        [EventSubscribe("DoManagementCalculations")]
        private void OnDoManagementCalculations(object sender, EventArgs e)
        {
            FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            
            
            AccumEO -= Soil.SoilWater.Eo;
            AccumES -= Soil.SoilWater.Es; 
            AccumDrainage -= Soil.SoilWater.Drainage;
            AccumRunoff -= Soil.SoilWater.Runoff;
            SWC = Utility.Math.Sum(Soil.SoilWater.SWmm);
            DUL = Utility.Math.Sum(Soil.SoilWater.DULmm);
        }
    }
}
       
<br/>
FIELD.REPORT
------------
                                   Output variables  Output frequency
                                      [Clock].Today  [Clock].DoReport
               [ExtraVariables].Script.AccumTtemerg                  
                  Potato.Phenology.CurrentPhaseName                  
                             Potato.Phenology.Stage                  
                [ExtraVariables].Script.AccumPlantN                  
        [ExtraVariables].Script.AccumMineralisation                  
                 [ExtraVariables].Script.AccumDenit                  
                  [ExtraVariables].Script.AccumFert                  
                 [ExtraVariables].Script.AccumLeach                  
                [ExtraVariables].Script.AccumDetach                  
               [ExtraVariables].Script.DeltaSoilOMN                  
            [ExtraVariables].Script.DeltaSurfaceOMN                  
          [ExtraVariables].Script.DeltaSoilMineralN                  
                          Potato.Root.NSupplyUptake                  
                                [Soil].SoilWater.Eo                  
                                [Soil].SoilWater.Es                  
                        [ExtraVariables].Script.SWC                  
                        [ExtraVariables].Script.DUL                  
                          [Soil].SoilWater.Drainage                  
                            [Soil].SoilWater.Runoff                  
                 [ExtraVariables].Script.OutFlowLat                  
                              [Soil].SoilWater.pond                  
                    [ExtraVariables].Script.AccumEO                  
                    [ExtraVariables].Script.AccumEP                  
                    [ExtraVariables].Script.AccumES                  
              [ExtraVariables].Script.AccumDrainage                  
                [ExtraVariables].Script.AccumRunoff                  
              [ExtraVariables].Script.AccumRainfall                  
            [ExtraVariables].Script.AccumIrrigation                  
            [ExtraVariables].Script.AccumOutflowLat                  
           [ExtraVariables].Script.SoilWaterDeficit                  
                   Potato.Summariser.AboveGround.Wt                  
                   Potato.Summariser.BelowGround.Wt                  
                         Potato.Summariser.Total.Wt                  
                     Potato.Summariser.TotalDead.Wt                  
                     Potato.Summariser.TotalLive.Wt                  
                                Potato.Leaf.Dead.Wt                  
                                Potato.Leaf.Live.Wt                  
                                Potato.Stem.Dead.Wt                  
                                Potato.Stem.Live.Wt                  
                               Potato.Tuber.Dead.Wt                  
                               Potato.Tuber.Live.Wt                  
                                Potato.Root.Dead.Wt                  
                                Potato.Root.Live.Wt                  
                    Potato.Summariser.AboveGround.N                  
                    Potato.Summariser.BelowGround.N                  
                          Potato.Summariser.Total.N                  
                      Potato.Summariser.TotalLive.N                  
                      Potato.Summariser.TotalDead.N                  
                                 Potato.Leaf.Dead.N                  
                                 Potato.Leaf.Live.N                  
                                 Potato.Stem.Dead.N                  
                                 Potato.Stem.Live.N                  
                                Potato.Tuber.Dead.N                  
                                Potato.Tuber.Live.N                  
                                 Potato.Root.Live.N                  
                                 Potato.Root.Dead.N                  
                             Potato.Leaf.Live.NConc                  
                             Potato.Leaf.Dead.NConc                  
                             Potato.Stem.Live.NConc                  
                             Potato.Stem.Dead.NConc                  
                            Potato.Tuber.Live.NConc                  
                            Potato.Tuber.Dead.NConc                  
                             Potato.Root.Live.NConc                  
                             Potato.Root.Dead.NConc                  
                            Potato.Root.WaterSupply                  
                            Potato.Root.WaterUptake                  
                          Potato.Leaf.Transpiration                  
                            Potato.Leaf.WaterDemand                  
                                  Potato.Root.Depth                  
                             Potato.Leaf.CoverGreen                  
                             Potato.Leaf.CoverTotal                  
                              Potato.Leaf.CoverDead                  
                                    Potato.Leaf.LAI                  
                                Potato.Leaf.LAIDead                  
                            Potato.Structure.Height                  
                                     Potato.Leaf.Fn                  
                                     Potato.Leaf.Fw                  
                Potato.Leaf.Photosynthesis.FT.Value                  
              Potato.Leaf.Photosynthesis.FVPD.Value                  
                  Potato.Structure.PlantTotalNodeNo                  
                     Potato.Structure.TotalStemPopn                  
               Potato.Leaf.PlantAppearedGreenLeafNo                  
                      Potato.Leaf.ExpandingCohortNo                  
                       Potato.Leaf.AppearedCohortNo                  
                           Potato.Leaf.DeadCohortNo                  
                    Potato.Structure.MainStemNodeNo                  
                      Potato.Leaf.SenescingCohortNo                  
             Potato.Structure.PrimaryBudTotalNodeNo                  
Potato.Leaf.LeafCohortParameters.MinimumNConc.Value                  
                     Potato.Stem.MinimumNConc.Value                  
                    Potato.Tuber.MinimumNConc.Value                  
                     Potato.Root.MinimumNConc.Value                  
Potato.Leaf.LeafCohortParameters.MaximumNConc.Value                  
                     Potato.Stem.MaximumNConc.Value                  
                    Potato.Tuber.MaximumNConc.Value                  
                     Potato.Root.MaximumNConc.Value                  
                      Potato.Stem.Live.StructuralWt                  
                   Potato.Stem.Live.NonStructuralWt                  
                           Potato.Leaf.SpecificArea                  
                       Potato.Leaf.ExpandedCohortNo                  
                              [Soil].SoilWater.SWmm                  
                                        [Soil].NO3N                  
        [ExtraVariables].Script.SoilNitrogenContent                  
                          Potato.Arbitrator.NDemand                  
                            [MicroClimate].net_radn                  
                                [MicroClimate].peta                  
                                [MicroClimate].petr                  
                       [ExtraVariables].Script.FomN                  
                       [ExtraVariables].Script.HumN                  
                      [ExtraVariables].Script.BiomN                  
                 [ExtraVariables].Script.DltNMinRes                  
                 [ExtraVariables].Script.DltNMinTot                  
                [PotatoHarvestRule].Script.FinalTag                  
                               Potato.Tuber.LiveFWt                  
                Potato.Tuber.DryMatterContent.Value                  
                     [Potato].Arbitrator.NO3NSupply                  
                     [Potato].Arbitrator.NH4NSupply                  
                              [Potato].Root.NUptake                  

<br/>
FIELD.SURFACEORGANICMATTER
--------------------------
Surface organic matter pool name:             Wheat
Surface organic matter pool type:             Wheat
 Mass of surface residue (kg/ha):      2000 (kg/ha)
         Standing fraction (0-1):           0 (0-1)
     Carbon:Nitrogen ratio (g/g):          80 (g/g)
                  Carbon content:   800.000 (kg/ha)
                Nitrogen content:    10.000 (kg/ha)
              Phosphorus content:     0.000 (kg/ha)

<br/>
SIMULATION LOG:
---------------


2003-10-20 Field.Potato
    A crop of Potato (cultivar = IlamHardy) was sown today at a population of 4.63821892393321 plants/m2 with 4.63 buds per plant at a row spacing of 150 and a depth of 135 mm
    


2003-10-20 Field.Fertiliser
    100 kg/ha of UreaN added at depth 0 layer 1
    


2003-10-20 Field.Potato.Summariser
    Peeping
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


2003-11-13 Field.Potato.Summariser
    Emergence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


2003-11-25 Field.Fertiliser
    69 kg/ha of UreaN added at depth 0 layer 1
    


2003-11-26 Field.Irrigation
    15.0 mm of water added at depth 0
    


2003-12-04 Field.Irrigation
    50.0 mm of water added at depth 0
    


2003-12-12 Field.Potato.Summariser
    TuberInitiation
      LAI = 2.41 (m^2/m^2)
      Above Ground Biomass = 148.64 (g/m^2)
    
    


2003-12-16 Field.Irrigation
    15.0 mm of water added at depth 0
    


2003-12-22 Field.Irrigation
    50.0 mm of water added at depth 0
    


2003-12-30 Field.Irrigation
    50.0 mm of water added at depth 0
    


2004-01-08 Field.Irrigation
    50.0 mm of water added at depth 0
    


2004-01-21 Field.Irrigation
    50.0 mm of water added at depth 0
    


2004-01-31 Field.Irrigation
    50.0 mm of water added at depth 0
    


2004-02-25 Field.Potato.Summariser
    FinalLeaf
      LAI = 0.65 (m^2/m^2)
      Above Ground Biomass = 303.81 (g/m^2)
    
    


2004-02-27 Field.Irrigation
    25.0 mm of water added at depth 0
    


2004-03-20 Field.Potato.Summariser
    FullSenescence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 303.81 (g/m^2)
    
    


2004-04-12 Field.Potato.Summariser
    Maturity
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 303.81 (g/m^2)
    
    


2004-06-02 Field.Potato.Summariser
    Maturity
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 303.81 (g/m^2)
    
    Maturity
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 303.81 (g/m^2)
    
    


2004-06-02 Field.Potato
    A crop of Potato was harvested today, Yeahhh
    


############################################################################
.POTATOCULTIVARJERSEYBENNY
--------------------------
Simulation name:   PotatoCultivarJerseyBenny

<br/>
WEATHER
-------
Weather file name:   lincoln.met

<br/>
CLOCK
-----
The start date of the simulation:   2003-10-20
  The end date of the simulation:   2004-06-05

<br/>
FIELD.SOIL
----------
                   Record number:             0
Soil texture or other descriptor:   Sedementary
                      Local name:       Lincoln
                Latitude (WGS84):         0.000
               Longitude (WGS84):         0.000

<br/>
FIELD.SOIL.WATER
----------------
Depth (cm)  BD (g/cc)  Air dry (mm/mm)  LL15 (mm/mm)  DUL (mm/mm)  SAT (mm/mm)
      0-10       1.20             0.08          0.16         0.33         0.50
     10-30       1.20             0.16          0.16         0.33         0.50
     30-60       1.20             0.15          0.15         0.31         0.44
     60-90       1.20             0.13          0.13         0.27         0.46
    90-120       1.20             0.15          0.15         0.30         0.44
   120-150       1.20             0.15          0.15         0.30         0.44

<br/>
FIELD.SOIL.WATER.POTATOSOIL
---------------------------
Potato Depth (cm)  Potato LL (mm/mm)  Potato PAWC (mm)  Potato KL (mm/mm)  Potato XF (mm/mm)
             0-10               0.13              20.0               0.10                1.0
            10-30               0.13              40.0               0.06                1.0
            30-60                0.1              63.0               0.04                1.0
            60-90               0.15              36.0               0.01                1.0
           90-120                0.3               0.0               0.00                0.0
          120-150                0.3               0.0               0.00                0.0
                                                 159.0                                      

<br/>
FIELD.SOIL.SOILORGANICMATTER
----------------------------
                  Root C:N ratio:     30.000
             Root Weight (kg/ha):   3000.000
                  Soil C:N ratio:     11.500
Erosion enrichment coefficient A:      7.400
Erosion enrichment coefficient B:      0.200

Depth (cm)  OC (Total %)  FBiom (0-1)  FInert (0-1)
      0-10          3.50        0.025           0.3
     10-30          2.50        0.025           0.4
     30-60          1.20        0.015          0.75
     60-90          1.03         0.01           0.9
    90-120          0.47         0.01          0.96
   120-150          0.47         0.01          0.96

<br/>
FIELD.SOIL.ANALYSIS
-------------------
Depth (cm)  PH (1:5 water)
      0-10             6.6
     10-30             6.2
     30-60             5.7
     60-90             5.5
    90-120             5.5
   120-150             5.5

<br/>
FIELD.SOIL.INITIAL WATER
------------------------
        Fraction full:          1.000
    Depth of wet soil:            NaN
Plant available water:   231.000 (mm)

<br/>
FIELD.SOIL.SAMPLE
-----------------
Depth (cm)  NO3kgha  NH4kgha
      0-10     40.0      0.1
     10-30     30.0      0.1
     30-60     14.0      0.1
     60-90     14.0      0.1
    90-120      1.4      0.1
   120-150      1.4      0.1

<br/>
FIELD.POTATOSOWINGRULE
----------------------

        using System;
        using Models.Core;
        using Models.PMF;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;

               [Description("Spacing (mm) between plants within rows")]
               public double RowSpace { get; set; }
               [Description("Spacing (mm) between rows")]
               public double RowWidth { get; set; }
               [Description("Depth (mm) tubers are planted")]
               public double PlantingDepth { get; set; }
               [Description("Number of stems per seed tuber")]
               public double StemNumberPerSeedTuber { get; set; }
               [Description("Cultivar")]
                public string CultivarName { get; set; }
               [Description("Sowing Date")]
               public DateTime SowingDate { get; set; }

               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
                double PlantPopulation = 1/((RowWidth/1000)*(RowSpace/1000));

                if (Clock.Today.Date == SowingDate)
                    Potato.Sow(population:PlantPopulation, cultivar:CultivarName, depth:PlantingDepth, rowSpacing:150, budNumber:StemNumberPerSeedTuber);
                //Potato.Sow(... Contains the following arguements:
                //Population  double  Required  Seeds sowing/m2
                //Cultivar    string  Required  "NameOfCultivar"
                //Depth       double  Optional  Depth (mm) seed sown.   Default is 100mm 
                //MaxCover    double  Optional  Proportion (0-1) of the ground row crop will cover.   Default is 1.0
                //BudNumber   double  Optional  Number of mainstems per seed sown.  Default is 1.0
                //RowSpacing  double  Optional  Spaceing (mm) between drill rows when crop is sown.  Default is 150mm
                //CropClass   string  Optional  Crop class to instantiate when crop is sown.  Default is "Plant"
               }
            }
        }
                
<br/>
FIELD.POTATOHARVESTRULE
-----------------------

        using System;
        using Models.Core;
        using Models.PMF;
        using System.Xml.Serialization;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;
               [Link] Summary Summary;
               [Description("HarvestDate Date")]
               public DateTime HarvestDate { get; set; }            
               [XmlIgnore] public string FinalTag { get; set;}
               [XmlIgnore] public bool Harvested {get; set;}
               [XmlIgnore] public bool ReadyForHarvest {get; set;}
               
               [EventSubscribe("Commencing")]
               private void OnSimulationCommencing(object sender, EventArgs e)
               {
               FinalTag = "";
               Harvested = false;
               ReadyForHarvest = false;
               }
               
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
               if (ReadyForHarvest == true)
                   {
                   Potato.Harvest();
                   ReadyForHarvest = false;
                   Harvested = true;
                   }
               FinalTag = "";    
               }
               
               [EventSubscribe("DoManagementCalculations")]
               private void OnDoManagementCalculations(object sender, EventArgs e)
               {
                if ((Clock.Today == HarvestDate)&&(Harvested == false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
               }
            }
        }
                
<br/>
FIELD.EXTRAVARIABLES
--------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.Soils;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Clock Clock;
        [Link] Soils.Soil Soil;
        [Link] Models.SurfaceOM.SurfaceOrganicMatter SOM;
        [Link] Weather Met;   
        [Link] Fertiliser Fert;
        [Link] Irrigation Irrig;  
        [Link] Plant Potato;
        [Link] Zone zone;
                    
        [XmlIgnore] public bool InitialDay { get; set; }
        
        [XmlIgnore] public double AccumPlantN { get; set; }
        [XmlIgnore] public double AccumMineralisation { get; set; }
        [XmlIgnore] public double AccumDenit { get; set; }
        [XmlIgnore] public double AccumFert { get; set; }
        [XmlIgnore] public double AccumLeach { get; set; }
        [XmlIgnore] public double AccumDetach { get; set; }
        [XmlIgnore] public double DeltaSoilOMN { get; set; }
        [XmlIgnore] public double DeltaSurfaceOMN { get; set; }
        [XmlIgnore] public double DeltaSoilMineralN { get; set; }
        [XmlIgnore] public double SoilNitrogenContent { get; set; }
        
        [XmlIgnore] public double AccumEO { get; set; }
        [XmlIgnore] public double AccumEP { get; set; }
        [XmlIgnore] public double AccumES { get; set; }
        [XmlIgnore] public double AccumDrainage { get; set; }
        [XmlIgnore] public double AccumRunoff { get; set; }
        [XmlIgnore] public double AccumOutflowLat { get; set; }
        [XmlIgnore] public double AccumIrrigation { get; set; }
        [XmlIgnore] public double AccumRainfall { get; set; }
        [XmlIgnore] public double SoilWaterDeficit { get; set; }
        
        [XmlIgnore] public double AccumTtemerg { get; set; }
        
        [XmlIgnore] public double  InitialSoilOMN { get; set; }
        [XmlIgnore] public double  InitialSurfaceOMN { get; set; }
        [XmlIgnore] public double  InitialMineralN { get; set; }
        
        [XmlIgnore] public double SWC { get; set; }
        [XmlIgnore] public double DUL { get; set; }
        [XmlIgnore] public double OutFlowLat { get; set; }

        [XmlIgnore] public double FomN { get; set; }
        [XmlIgnore] public double BiomN { get; set; }
        [XmlIgnore] public double HumN { get; set; }
        [XmlIgnore] public double OrganicN { get; set; }
        [XmlIgnore] public double NO3N { get; set; }
        [XmlIgnore] public double NH4N { get; set; }
        [XmlIgnore] public double UreaN { get; set; }
        [XmlIgnore] public double MineralN { get; set; }
        [XmlIgnore] public double DltNMinRes { get; set; }
        [XmlIgnore] public double DltNMinTot { get; set; }
        
        [EventSubscribe("Commencing")]
        private void OnSimulationCommencing(object sender, EventArgs e)
        {
            InitialDay = true;
        }       
        
        [EventSubscribe("DoManagement")]
        private void OnDoManagement(object sender, EventArgs e)
        {
            //!!!!!! Nitrogen balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!
               FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            OrganicN = FomN + HumN + BiomN;
            NO3N = Utility.Math.Sum(Soil.NO3N);
            NH4N = Utility.Math.Sum(Soil.NH4N);
            UreaN = Utility.Math.Sum(Soil.SoilNitrogen.urea);
            MineralN = NO3N + NH4N + UreaN; 
            DltNMinRes = Utility.Math.Sum(Soil.SoilNitrogen.dlt_n_min_res);
            DltNMinTot = Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            int layers = Soil.Thickness.Length;
            if (InitialDay == true)
            {
                InitialSurfaceOMN = SOM.N;
                InitialSoilOMN = OrganicN;
                InitialMineralN = MineralN;
                InitialDay = false;
            }
            AccumFert += Fert.NitrogenApplied;
            DeltaSurfaceOMN = SOM.N - InitialSurfaceOMN;
            AccumLeach = AccumLeach - Soil.SoilWater.LeachNH4 - Soil.SoilWater.LeachNO3 - Soil.SoilWater.LeachUrea; //Fails
            AccumMineralisation += Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            AccumDenit -= Utility.Math.Sum(Soil.SoilNitrogen.Denitrification);
            AccumPlantN -= (double)zone.Get("Potato.Root.NUptake");
            DeltaSoilOMN = OrganicN - InitialSoilOMN;
            DeltaSoilMineralN = MineralN - InitialMineralN;
            SoilNitrogenContent = MineralN;
            
            //!!!!!! Water balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!

            AccumIrrigation += Irrig.IrrigationApplied;
            AccumRainfall += Met.Rain;
            AccumEP -= (double)zone.Get("Potato.Leaf.Transpiration");
            SoilWaterDeficit =  (SWC - DUL);
            double OutFlowLat = Utility.Math.Sum(Soil.SoilWater.outflow_lat);
            AccumOutflowLat -= OutFlowLat;
            
            //!!!!!! Thermal time calculation !!!!!!
            //!!!!!! ^^^^^^^^^^^^^^^^^^^^^^^^ !!!!!!
            if (Potato.Phenology.Stage >= 3)
            AccumTtemerg += Potato.Phenology.ThermalTime.Value;
        }
        
        [EventSubscribe("DoManagementCalculations")]
        private void OnDoManagementCalculations(object sender, EventArgs e)
        {
            FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            
            
            AccumEO -= Soil.SoilWater.Eo;
            AccumES -= Soil.SoilWater.Es; 
            AccumDrainage -= Soil.SoilWater.Drainage;
            AccumRunoff -= Soil.SoilWater.Runoff;
            SWC = Utility.Math.Sum(Soil.SoilWater.SWmm);
            DUL = Utility.Math.Sum(Soil.SoilWater.DULmm);
        }
    }
}
       
<br/>
FIELD.REPORT
------------
                                   Output variables  Output frequency
                                      [Clock].Today  [Clock].DoReport
               [ExtraVariables].Script.AccumTtemerg                  
                  Potato.Phenology.CurrentPhaseName                  
                             Potato.Phenology.Stage                  
                [ExtraVariables].Script.AccumPlantN                  
        [ExtraVariables].Script.AccumMineralisation                  
                 [ExtraVariables].Script.AccumDenit                  
                  [ExtraVariables].Script.AccumFert                  
                 [ExtraVariables].Script.AccumLeach                  
                [ExtraVariables].Script.AccumDetach                  
               [ExtraVariables].Script.DeltaSoilOMN                  
            [ExtraVariables].Script.DeltaSurfaceOMN                  
          [ExtraVariables].Script.DeltaSoilMineralN                  
                          Potato.Root.NSupplyUptake                  
                                [Soil].SoilWater.Eo                  
                                [Soil].SoilWater.Es                  
                        [ExtraVariables].Script.SWC                  
                        [ExtraVariables].Script.DUL                  
                          [Soil].SoilWater.Drainage                  
                            [Soil].SoilWater.Runoff                  
                 [ExtraVariables].Script.OutFlowLat                  
                              [Soil].SoilWater.pond                  
                    [ExtraVariables].Script.AccumEO                  
                    [ExtraVariables].Script.AccumEP                  
                    [ExtraVariables].Script.AccumES                  
              [ExtraVariables].Script.AccumDrainage                  
                [ExtraVariables].Script.AccumRunoff                  
              [ExtraVariables].Script.AccumRainfall                  
            [ExtraVariables].Script.AccumIrrigation                  
            [ExtraVariables].Script.AccumOutflowLat                  
           [ExtraVariables].Script.SoilWaterDeficit                  
                   Potato.Summariser.AboveGround.Wt                  
                   Potato.Summariser.BelowGround.Wt                  
                         Potato.Summariser.Total.Wt                  
                     Potato.Summariser.TotalDead.Wt                  
                     Potato.Summariser.TotalLive.Wt                  
                                Potato.Leaf.Dead.Wt                  
                                Potato.Leaf.Live.Wt                  
                                Potato.Stem.Dead.Wt                  
                                Potato.Stem.Live.Wt                  
                               Potato.Tuber.Dead.Wt                  
                               Potato.Tuber.Live.Wt                  
                                Potato.Root.Dead.Wt                  
                                Potato.Root.Live.Wt                  
                    Potato.Summariser.AboveGround.N                  
                    Potato.Summariser.BelowGround.N                  
                          Potato.Summariser.Total.N                  
                      Potato.Summariser.TotalLive.N                  
                      Potato.Summariser.TotalDead.N                  
                                 Potato.Leaf.Dead.N                  
                                 Potato.Leaf.Live.N                  
                                 Potato.Stem.Dead.N                  
                                 Potato.Stem.Live.N                  
                                Potato.Tuber.Dead.N                  
                                Potato.Tuber.Live.N                  
                                 Potato.Root.Live.N                  
                                 Potato.Root.Dead.N                  
                             Potato.Leaf.Live.NConc                  
                             Potato.Leaf.Dead.NConc                  
                             Potato.Stem.Live.NConc                  
                             Potato.Stem.Dead.NConc                  
                            Potato.Tuber.Live.NConc                  
                            Potato.Tuber.Dead.NConc                  
                             Potato.Root.Live.NConc                  
                             Potato.Root.Dead.NConc                  
                            Potato.Root.WaterSupply                  
                            Potato.Root.WaterUptake                  
                          Potato.Leaf.Transpiration                  
                            Potato.Leaf.WaterDemand                  
                                  Potato.Root.Depth                  
                             Potato.Leaf.CoverGreen                  
                             Potato.Leaf.CoverTotal                  
                              Potato.Leaf.CoverDead                  
                                    Potato.Leaf.LAI                  
                                Potato.Leaf.LAIDead                  
                            Potato.Structure.Height                  
                                     Potato.Leaf.Fn                  
                                     Potato.Leaf.Fw                  
                Potato.Leaf.Photosynthesis.FT.Value                  
              Potato.Leaf.Photosynthesis.FVPD.Value                  
                  Potato.Structure.PlantTotalNodeNo                  
                     Potato.Structure.TotalStemPopn                  
               Potato.Leaf.PlantAppearedGreenLeafNo                  
                      Potato.Leaf.ExpandingCohortNo                  
                       Potato.Leaf.AppearedCohortNo                  
                           Potato.Leaf.DeadCohortNo                  
                    Potato.Structure.MainStemNodeNo                  
                      Potato.Leaf.SenescingCohortNo                  
             Potato.Structure.PrimaryBudTotalNodeNo                  
Potato.Leaf.LeafCohortParameters.MinimumNConc.Value                  
                     Potato.Stem.MinimumNConc.Value                  
                    Potato.Tuber.MinimumNConc.Value                  
                     Potato.Root.MinimumNConc.Value                  
Potato.Leaf.LeafCohortParameters.MaximumNConc.Value                  
                     Potato.Stem.MaximumNConc.Value                  
                    Potato.Tuber.MaximumNConc.Value                  
                     Potato.Root.MaximumNConc.Value                  
                      Potato.Stem.Live.StructuralWt                  
                   Potato.Stem.Live.NonStructuralWt                  
                           Potato.Leaf.SpecificArea                  
                       Potato.Leaf.ExpandedCohortNo                  
                              [Soil].SoilWater.SWmm                  
                                        [Soil].NO3N                  
        [ExtraVariables].Script.SoilNitrogenContent                  
                          Potato.Arbitrator.NDemand                  
                            [MicroClimate].net_radn                  
                                [MicroClimate].peta                  
                                [MicroClimate].petr                  
                       [ExtraVariables].Script.FomN                  
                       [ExtraVariables].Script.HumN                  
                      [ExtraVariables].Script.BiomN                  
                 [ExtraVariables].Script.DltNMinRes                  
                 [ExtraVariables].Script.DltNMinTot                  
                [PotatoHarvestRule].Script.FinalTag                  
                               Potato.Tuber.LiveFWt                  
                Potato.Tuber.DryMatterContent.Value                  
                     [Potato].Arbitrator.NO3NSupply                  
                     [Potato].Arbitrator.NH4NSupply                  
                              [Potato].Root.NUptake                  

<br/>
FIELD.SURFACEORGANICMATTER
--------------------------
Surface organic matter pool name:             Wheat
Surface organic matter pool type:             Wheat
 Mass of surface residue (kg/ha):      2000 (kg/ha)
         Standing fraction (0-1):           0 (0-1)
     Carbon:Nitrogen ratio (g/g):          80 (g/g)
                  Carbon content:   800.000 (kg/ha)
                Nitrogen content:    10.000 (kg/ha)
              Phosphorus content:     0.000 (kg/ha)

<br/>
SIMULATION LOG:
---------------


2003-10-20 Field.Potato
    A crop of Potato (cultivar = JerseyBenny) was sown today at a population of 4.63821892393321 plants/m2 with 3.6 buds per plant at a row spacing of 150 and a depth of 160 mm
    


2003-10-20 Field.Fertiliser
    100 kg/ha of UreaN added at depth 0 layer 1
    


2003-10-20 Field.Potato.Summariser
    Peeping
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


2003-11-16 Field.Potato.Summariser
    Emergence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


2003-11-25 Field.Fertiliser
    69 kg/ha of UreaN added at depth 0 layer 1
    


2003-11-26 Field.Irrigation
    15.0 mm of water added at depth 0
    


2003-12-04 Field.Irrigation
    50.0 mm of water added at depth 0
    


2003-12-14 Field.Potato.Summariser
    TuberInitiation
      LAI = 1.89 (m^2/m^2)
      Above Ground Biomass = 128.61 (g/m^2)
    
    


2003-12-16 Field.Irrigation
    15.0 mm of water added at depth 0
    


2003-12-22 Field.Irrigation
    50.0 mm of water added at depth 0
    


2003-12-30 Field.Irrigation
    50.0 mm of water added at depth 0
    


2004-01-08 Field.Irrigation
    50.0 mm of water added at depth 0
    


2004-01-21 Field.Irrigation
    50.0 mm of water added at depth 0
    


2004-01-31 Field.Irrigation
    50.0 mm of water added at depth 0
    


2004-02-08 Field.Potato.Summariser
    FinalLeaf
      LAI = 2.16 (m^2/m^2)
      Above Ground Biomass = 299.13 (g/m^2)
    
    


2004-02-27 Field.Irrigation
    25.0 mm of water added at depth 0
    


2004-03-10 Field.Potato.Summariser
    FullSenescence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 298.59 (g/m^2)
    
    


2004-03-29 Field.Potato.Summariser
    Maturity
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 298.59 (g/m^2)
    
    


2004-06-02 Field.Potato.Summariser
    Maturity
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 298.59 (g/m^2)
    
    Maturity
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 298.59 (g/m^2)
    
    


2004-06-02 Field.Potato
    A crop of Potato was harvested today, Yeahhh
    


############################################################################
.POTATOCULTIVARKARAKA
---------------------
Simulation name:   PotatoCultivarKaraka

<br/>
WEATHER
-------
Weather file name:   lincoln.met

<br/>
CLOCK
-----
The start date of the simulation:   2003-10-20
  The end date of the simulation:   2004-06-05

<br/>
FIELD.SOIL
----------
                   Record number:             0
Soil texture or other descriptor:   Sedementary
                      Local name:       Lincoln
                Latitude (WGS84):         0.000
               Longitude (WGS84):         0.000

<br/>
FIELD.SOIL.WATER
----------------
Depth (cm)  BD (g/cc)  Air dry (mm/mm)  LL15 (mm/mm)  DUL (mm/mm)  SAT (mm/mm)
      0-10       1.20             0.08          0.16         0.33         0.50
     10-30       1.20             0.16          0.16         0.33         0.50
     30-60       1.20             0.15          0.15         0.31         0.44
     60-90       1.20             0.13          0.13         0.27         0.46
    90-120       1.20             0.15          0.15         0.30         0.44
   120-150       1.20             0.15          0.15         0.30         0.44

<br/>
FIELD.SOIL.WATER.POTATOSOIL
---------------------------
Potato Depth (cm)  Potato LL (mm/mm)  Potato PAWC (mm)  Potato KL (mm/mm)  Potato XF (mm/mm)
             0-10               0.13              20.0               0.10                1.0
            10-30               0.13              40.0               0.06                1.0
            30-60                0.1              63.0               0.04                1.0
            60-90               0.15              36.0               0.01                1.0
           90-120                0.3               0.0               0.00                0.0
          120-150                0.3               0.0               0.00                0.0
                                                 159.0                                      

<br/>
FIELD.SOIL.SOILORGANICMATTER
----------------------------
                  Root C:N ratio:     30.000
             Root Weight (kg/ha):   3000.000
                  Soil C:N ratio:     11.500
Erosion enrichment coefficient A:      7.400
Erosion enrichment coefficient B:      0.200

Depth (cm)  OC (Total %)  FBiom (0-1)  FInert (0-1)
      0-10          3.50        0.025           0.3
     10-30          2.50        0.025           0.4
     30-60          1.20        0.015          0.75
     60-90          1.03         0.01           0.9
    90-120          0.47         0.01          0.96
   120-150          0.47         0.01          0.96

<br/>
FIELD.SOIL.ANALYSIS
-------------------
Depth (cm)  PH (1:5 water)
      0-10             6.6
     10-30             6.2
     30-60             5.7
     60-90             5.5
    90-120             5.5
   120-150             5.5

<br/>
FIELD.SOIL.INITIAL WATER
------------------------
        Fraction full:          1.000
    Depth of wet soil:            NaN
Plant available water:   231.000 (mm)

<br/>
FIELD.SOIL.SAMPLE
-----------------
Depth (cm)  NO3kgha  NH4kgha
      0-10     40.0      0.1
     10-30     30.0      0.1
     30-60     14.0      0.1
     60-90     14.0      0.1
    90-120      1.4      0.1
   120-150      1.4      0.1

<br/>
FIELD.POTATOSOWINGRULE
----------------------

        using System;
        using Models.Core;
        using Models.PMF;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;

               [Description("Spacing (mm) between plants within rows")]
               public double RowSpace { get; set; }
               [Description("Spacing (mm) between rows")]
               public double RowWidth { get; set; }
               [Description("Depth (mm) tubers are planted")]
               public double PlantingDepth { get; set; }
               [Description("Number of stems per seed tuber")]
               public double StemNumberPerSeedTuber { get; set; }
               [Description("Cultivar")]
                public string CultivarName { get; set; }
               [Description("Sowing Date")]
               public DateTime SowingDate { get; set; }

               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
                double PlantPopulation = 1/((RowWidth/1000)*(RowSpace/1000));

                if (Clock.Today.Date == SowingDate)
                    Potato.Sow(population:PlantPopulation, cultivar:CultivarName, depth:PlantingDepth, rowSpacing:150, budNumber:StemNumberPerSeedTuber);
                //Potato.Sow(... Contains the following arguements:
                //Population  double  Required  Seeds sowing/m2
                //Cultivar    string  Required  "NameOfCultivar"
                //Depth       double  Optional  Depth (mm) seed sown.   Default is 100mm 
                //MaxCover    double  Optional  Proportion (0-1) of the ground row crop will cover.   Default is 1.0
                //BudNumber   double  Optional  Number of mainstems per seed sown.  Default is 1.0
                //RowSpacing  double  Optional  Spaceing (mm) between drill rows when crop is sown.  Default is 150mm
                //CropClass   string  Optional  Crop class to instantiate when crop is sown.  Default is "Plant"
               }
            }
        }
                
<br/>
FIELD.POTATOHARVESTRULE
-----------------------

        using System;
        using Models.Core;
        using Models.PMF;
        using System.Xml.Serialization;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;
               [Link] Summary Summary;
               [Description("HarvestDate Date")]
               public DateTime HarvestDate { get; set; }            
               [XmlIgnore] public string FinalTag { get; set;}
               [XmlIgnore] public bool Harvested {get; set;}
               [XmlIgnore] public bool ReadyForHarvest {get; set;}
               
               [EventSubscribe("Commencing")]
               private void OnSimulationCommencing(object sender, EventArgs e)
               {
               FinalTag = "";
               Harvested = false;
               ReadyForHarvest = false;
               }
               
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
               if (ReadyForHarvest == true)
                   {
                   Potato.Harvest();
                   ReadyForHarvest = false;
                   Harvested = true;
                   }
               FinalTag = "";    
               }
               
               [EventSubscribe("DoManagementCalculations")]
               private void OnDoManagementCalculations(object sender, EventArgs e)
               {
                if ((Clock.Today == HarvestDate)&&(Harvested == false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
               }
            }
        }
                
<br/>
FIELD.EXTRAVARIABLES
--------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.Soils;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Clock Clock;
        [Link] Soils.Soil Soil;
        [Link] Models.SurfaceOM.SurfaceOrganicMatter SOM;
        [Link] Weather Met;   
        [Link] Fertiliser Fert;
        [Link] Irrigation Irrig;  
        [Link] Plant Potato;
        [Link] Zone zone;
                    
        [XmlIgnore] public bool InitialDay { get; set; }
        
        [XmlIgnore] public double AccumPlantN { get; set; }
        [XmlIgnore] public double AccumMineralisation { get; set; }
        [XmlIgnore] public double AccumDenit { get; set; }
        [XmlIgnore] public double AccumFert { get; set; }
        [XmlIgnore] public double AccumLeach { get; set; }
        [XmlIgnore] public double AccumDetach { get; set; }
        [XmlIgnore] public double DeltaSoilOMN { get; set; }
        [XmlIgnore] public double DeltaSurfaceOMN { get; set; }
        [XmlIgnore] public double DeltaSoilMineralN { get; set; }
        [XmlIgnore] public double SoilNitrogenContent { get; set; }
        
        [XmlIgnore] public double AccumEO { get; set; }
        [XmlIgnore] public double AccumEP { get; set; }
        [XmlIgnore] public double AccumES { get; set; }
        [XmlIgnore] public double AccumDrainage { get; set; }
        [XmlIgnore] public double AccumRunoff { get; set; }
        [XmlIgnore] public double AccumOutflowLat { get; set; }
        [XmlIgnore] public double AccumIrrigation { get; set; }
        [XmlIgnore] public double AccumRainfall { get; set; }
        [XmlIgnore] public double SoilWaterDeficit { get; set; }
        
        [XmlIgnore] public double AccumTtemerg { get; set; }
        
        [XmlIgnore] public double  InitialSoilOMN { get; set; }
        [XmlIgnore] public double  InitialSurfaceOMN { get; set; }
        [XmlIgnore] public double  InitialMineralN { get; set; }
        
        [XmlIgnore] public double SWC { get; set; }
        [XmlIgnore] public double DUL { get; set; }
        [XmlIgnore] public double OutFlowLat { get; set; }

        [XmlIgnore] public double FomN { get; set; }
        [XmlIgnore] public double BiomN { get; set; }
        [XmlIgnore] public double HumN { get; set; }
        [XmlIgnore] public double OrganicN { get; set; }
        [XmlIgnore] public double NO3N { get; set; }
        [XmlIgnore] public double NH4N { get; set; }
        [XmlIgnore] public double UreaN { get; set; }
        [XmlIgnore] public double MineralN { get; set; }
        [XmlIgnore] public double DltNMinRes { get; set; }
        [XmlIgnore] public double DltNMinTot { get; set; }
        
        [EventSubscribe("Commencing")]
        private void OnSimulationCommencing(object sender, EventArgs e)
        {
            InitialDay = true;
        }       
        
        [EventSubscribe("DoManagement")]
        private void OnDoManagement(object sender, EventArgs e)
        {
            //!!!!!! Nitrogen balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!
               FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            OrganicN = FomN + HumN + BiomN;
            NO3N = Utility.Math.Sum(Soil.NO3N);
            NH4N = Utility.Math.Sum(Soil.NH4N);
            UreaN = Utility.Math.Sum(Soil.SoilNitrogen.urea);
            MineralN = NO3N + NH4N + UreaN; 
            DltNMinRes = Utility.Math.Sum(Soil.SoilNitrogen.dlt_n_min_res);
            DltNMinTot = Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            int layers = Soil.Thickness.Length;
            if (InitialDay == true)
            {
                InitialSurfaceOMN = SOM.N;
                InitialSoilOMN = OrganicN;
                InitialMineralN = MineralN;
                InitialDay = false;
            }
            AccumFert += Fert.NitrogenApplied;
            DeltaSurfaceOMN = SOM.N - InitialSurfaceOMN;
            AccumLeach = AccumLeach - Soil.SoilWater.LeachNH4 - Soil.SoilWater.LeachNO3 - Soil.SoilWater.LeachUrea; //Fails
            AccumMineralisation += Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            AccumDenit -= Utility.Math.Sum(Soil.SoilNitrogen.Denitrification);
            AccumPlantN -= (double)zone.Get("Potato.Root.NUptake");
            DeltaSoilOMN = OrganicN - InitialSoilOMN;
            DeltaSoilMineralN = MineralN - InitialMineralN;
            SoilNitrogenContent = MineralN;
            
            //!!!!!! Water balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!

            AccumIrrigation += Irrig.IrrigationApplied;
            AccumRainfall += Met.Rain;
            AccumEP -= (double)zone.Get("Potato.Leaf.Transpiration");
            SoilWaterDeficit =  (SWC - DUL);
            double OutFlowLat = Utility.Math.Sum(Soil.SoilWater.outflow_lat);
            AccumOutflowLat -= OutFlowLat;
            
            //!!!!!! Thermal time calculation !!!!!!
            //!!!!!! ^^^^^^^^^^^^^^^^^^^^^^^^ !!!!!!
            if (Potato.Phenology.Stage >= 3)
            AccumTtemerg += Potato.Phenology.ThermalTime.Value;
        }
        
        [EventSubscribe("DoManagementCalculations")]
        private void OnDoManagementCalculations(object sender, EventArgs e)
        {
            FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            
            
            AccumEO -= Soil.SoilWater.Eo;
            AccumES -= Soil.SoilWater.Es; 
            AccumDrainage -= Soil.SoilWater.Drainage;
            AccumRunoff -= Soil.SoilWater.Runoff;
            SWC = Utility.Math.Sum(Soil.SoilWater.SWmm);
            DUL = Utility.Math.Sum(Soil.SoilWater.DULmm);
        }
    }
}
       
<br/>
FIELD.REPORT
------------
                                   Output variables  Output frequency
                                      [Clock].Today  [Clock].DoReport
               [ExtraVariables].Script.AccumTtemerg                  
                  Potato.Phenology.CurrentPhaseName                  
                             Potato.Phenology.Stage                  
                [ExtraVariables].Script.AccumPlantN                  
        [ExtraVariables].Script.AccumMineralisation                  
                 [ExtraVariables].Script.AccumDenit                  
                  [ExtraVariables].Script.AccumFert                  
                 [ExtraVariables].Script.AccumLeach                  
                [ExtraVariables].Script.AccumDetach                  
               [ExtraVariables].Script.DeltaSoilOMN                  
            [ExtraVariables].Script.DeltaSurfaceOMN                  
          [ExtraVariables].Script.DeltaSoilMineralN                  
                          Potato.Root.NSupplyUptake                  
                                [Soil].SoilWater.Eo                  
                                [Soil].SoilWater.Es                  
                        [ExtraVariables].Script.SWC                  
                        [ExtraVariables].Script.DUL                  
                          [Soil].SoilWater.Drainage                  
                            [Soil].SoilWater.Runoff                  
                 [ExtraVariables].Script.OutFlowLat                  
                              [Soil].SoilWater.pond                  
                    [ExtraVariables].Script.AccumEO                  
                    [ExtraVariables].Script.AccumEP                  
                    [ExtraVariables].Script.AccumES                  
              [ExtraVariables].Script.AccumDrainage                  
                [ExtraVariables].Script.AccumRunoff                  
              [ExtraVariables].Script.AccumRainfall                  
            [ExtraVariables].Script.AccumIrrigation                  
            [ExtraVariables].Script.AccumOutflowLat                  
           [ExtraVariables].Script.SoilWaterDeficit                  
                   Potato.Summariser.AboveGround.Wt                  
                   Potato.Summariser.BelowGround.Wt                  
                         Potato.Summariser.Total.Wt                  
                     Potato.Summariser.TotalDead.Wt                  
                     Potato.Summariser.TotalLive.Wt                  
                                Potato.Leaf.Dead.Wt                  
                                Potato.Leaf.Live.Wt                  
                                Potato.Stem.Dead.Wt                  
                                Potato.Stem.Live.Wt                  
                               Potato.Tuber.Dead.Wt                  
                               Potato.Tuber.Live.Wt                  
                                Potato.Root.Dead.Wt                  
                                Potato.Root.Live.Wt                  
                    Potato.Summariser.AboveGround.N                  
                    Potato.Summariser.BelowGround.N                  
                          Potato.Summariser.Total.N                  
                      Potato.Summariser.TotalLive.N                  
                      Potato.Summariser.TotalDead.N                  
                                 Potato.Leaf.Dead.N                  
                                 Potato.Leaf.Live.N                  
                                 Potato.Stem.Dead.N                  
                                 Potato.Stem.Live.N                  
                                Potato.Tuber.Dead.N                  
                                Potato.Tuber.Live.N                  
                                 Potato.Root.Live.N                  
                                 Potato.Root.Dead.N                  
                             Potato.Leaf.Live.NConc                  
                             Potato.Leaf.Dead.NConc                  
                             Potato.Stem.Live.NConc                  
                             Potato.Stem.Dead.NConc                  
                            Potato.Tuber.Live.NConc                  
                            Potato.Tuber.Dead.NConc                  
                             Potato.Root.Live.NConc                  
                             Potato.Root.Dead.NConc                  
                            Potato.Root.WaterSupply                  
                            Potato.Root.WaterUptake                  
                          Potato.Leaf.Transpiration                  
                            Potato.Leaf.WaterDemand                  
                                  Potato.Root.Depth                  
                             Potato.Leaf.CoverGreen                  
                             Potato.Leaf.CoverTotal                  
                              Potato.Leaf.CoverDead                  
                                    Potato.Leaf.LAI                  
                                Potato.Leaf.LAIDead                  
                            Potato.Structure.Height                  
                                     Potato.Leaf.Fn                  
                                     Potato.Leaf.Fw                  
                Potato.Leaf.Photosynthesis.FT.Value                  
              Potato.Leaf.Photosynthesis.FVPD.Value                  
                  Potato.Structure.PlantTotalNodeNo                  
                     Potato.Structure.TotalStemPopn                  
               Potato.Leaf.PlantAppearedGreenLeafNo                  
                      Potato.Leaf.ExpandingCohortNo                  
                       Potato.Leaf.AppearedCohortNo                  
                           Potato.Leaf.DeadCohortNo                  
                    Potato.Structure.MainStemNodeNo                  
                      Potato.Leaf.SenescingCohortNo                  
             Potato.Structure.PrimaryBudTotalNodeNo                  
Potato.Leaf.LeafCohortParameters.MinimumNConc.Value                  
                     Potato.Stem.MinimumNConc.Value                  
                    Potato.Tuber.MinimumNConc.Value                  
                     Potato.Root.MinimumNConc.Value                  
Potato.Leaf.LeafCohortParameters.MaximumNConc.Value                  
                     Potato.Stem.MaximumNConc.Value                  
                    Potato.Tuber.MaximumNConc.Value                  
                     Potato.Root.MaximumNConc.Value                  
                      Potato.Stem.Live.StructuralWt                  
                   Potato.Stem.Live.NonStructuralWt                  
                           Potato.Leaf.SpecificArea                  
                       Potato.Leaf.ExpandedCohortNo                  
                              [Soil].SoilWater.SWmm                  
                                        [Soil].NO3N                  
        [ExtraVariables].Script.SoilNitrogenContent                  
                          Potato.Arbitrator.NDemand                  
                            [MicroClimate].net_radn                  
                                [MicroClimate].peta                  
                                [MicroClimate].petr                  
                       [ExtraVariables].Script.FomN                  
                       [ExtraVariables].Script.HumN                  
                      [ExtraVariables].Script.BiomN                  
                 [ExtraVariables].Script.DltNMinRes                  
                 [ExtraVariables].Script.DltNMinTot                  
                [PotatoHarvestRule].Script.FinalTag                  
                               Potato.Tuber.LiveFWt                  
                Potato.Tuber.DryMatterContent.Value                  
                     [Potato].Arbitrator.NO3NSupply                  
                     [Potato].Arbitrator.NH4NSupply                  
                              [Potato].Root.NUptake                  

<br/>
FIELD.SURFACEORGANICMATTER
--------------------------
Surface organic matter pool name:             Wheat
Surface organic matter pool type:             Wheat
 Mass of surface residue (kg/ha):      2000 (kg/ha)
         Standing fraction (0-1):           0 (0-1)
     Carbon:Nitrogen ratio (g/g):          80 (g/g)
                  Carbon content:   800.000 (kg/ha)
                Nitrogen content:    10.000 (kg/ha)
              Phosphorus content:     0.000 (kg/ha)

<br/>
SIMULATION LOG:
---------------


2003-10-20 Field.Potato
    A crop of Potato (cultivar = Karaka) was sown today at a population of 4.63821892393321 plants/m2 with 3 buds per plant at a row spacing of 150 and a depth of 135 mm
    


2003-10-20 Field.Fertiliser
    100 kg/ha of UreaN added at depth 0 layer 1
    


2003-10-20 Field.Potato.Summariser
    Peeping
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


2003-11-13 Field.Potato.Summariser
    Emergence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


2003-11-25 Field.Fertiliser
    69 kg/ha of UreaN added at depth 0 layer 1
    


2003-11-26 Field.Irrigation
    15.0 mm of water added at depth 0
    


2003-12-04 Field.Irrigation
    50.0 mm of water added at depth 0
    


2003-12-12 Field.Potato.Summariser
    TuberInitiation
      LAI = 1.66 (m^2/m^2)
      Above Ground Biomass = 108.74 (g/m^2)
    
    


2003-12-16 Field.Irrigation
    15.0 mm of water added at depth 0
    


2003-12-22 Field.Irrigation
    50.0 mm of water added at depth 0
    


2003-12-30 Field.Irrigation
    50.0 mm of water added at depth 0
    


2004-01-08 Field.Irrigation
    50.0 mm of water added at depth 0
    


2004-01-21 Field.Irrigation
    50.0 mm of water added at depth 0
    


2004-01-31 Field.Irrigation
    50.0 mm of water added at depth 0
    


2004-02-27 Field.Irrigation
    25.0 mm of water added at depth 0
    


2004-03-07 Field.Potato.Summariser
    FinalLeaf
      LAI = 0.40 (m^2/m^2)
      Above Ground Biomass = 351.13 (g/m^2)
    
    


2004-03-27 Field.Potato.Summariser
    FullSenescence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 351.13 (g/m^2)
    
    


2004-04-20 Field.Potato.Summariser
    Maturity
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 351.13 (g/m^2)
    
    


2004-06-02 Field.Potato.Summariser
    Maturity
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 351.13 (g/m^2)
    
    Maturity
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 351.13 (g/m^2)
    
    


2004-06-02 Field.Potato
    A crop of Potato was harvested today, Yeahhh
    


############################################################################
.POTATOCULTIVARNOOKSAC
----------------------
Simulation name:   PotatoCultivarNooksac

<br/>
WEATHER
-------
Weather file name:   lincoln.met

<br/>
CLOCK
-----
The start date of the simulation:   2003-10-20
  The end date of the simulation:   2004-06-05

<br/>
FIELD.SOIL
----------
                   Record number:             0
Soil texture or other descriptor:   Sedementary
                      Local name:       Lincoln
                Latitude (WGS84):         0.000
               Longitude (WGS84):         0.000

<br/>
FIELD.SOIL.WATER
----------------
Depth (cm)  BD (g/cc)  Air dry (mm/mm)  LL15 (mm/mm)  DUL (mm/mm)  SAT (mm/mm)
      0-10       1.20             0.08          0.16         0.33         0.50
     10-30       1.20             0.16          0.16         0.33         0.50
     30-60       1.20             0.15          0.15         0.31         0.44
     60-90       1.20             0.13          0.13         0.27         0.46
    90-120       1.20             0.15          0.15         0.30         0.44
   120-150       1.20             0.15          0.15         0.30         0.44

<br/>
FIELD.SOIL.WATER.POTATOSOIL
---------------------------
Potato Depth (cm)  Potato LL (mm/mm)  Potato PAWC (mm)  Potato KL (mm/mm)  Potato XF (mm/mm)
             0-10               0.13              20.0               0.10                1.0
            10-30               0.13              40.0               0.06                1.0
            30-60                0.1              63.0               0.04                1.0
            60-90               0.15              36.0               0.01                1.0
           90-120                0.3               0.0               0.00                0.0
          120-150                0.3               0.0               0.00                0.0
                                                 159.0                                      

<br/>
FIELD.SOIL.SOILORGANICMATTER
----------------------------
                  Root C:N ratio:     30.000
             Root Weight (kg/ha):   3000.000
                  Soil C:N ratio:     11.500
Erosion enrichment coefficient A:      7.400
Erosion enrichment coefficient B:      0.200

Depth (cm)  OC (Total %)  FBiom (0-1)  FInert (0-1)
      0-10          3.50        0.025           0.3
     10-30          2.50        0.025           0.4
     30-60          1.20        0.015          0.75
     60-90          1.03         0.01           0.9
    90-120          0.47         0.01          0.96
   120-150          0.47         0.01          0.96

<br/>
FIELD.SOIL.ANALYSIS
-------------------
Depth (cm)  PH (1:5 water)
      0-10             6.6
     10-30             6.2
     30-60             5.7
     60-90             5.5
    90-120             5.5
   120-150             5.5

<br/>
FIELD.SOIL.INITIAL WATER
------------------------
        Fraction full:          1.000
    Depth of wet soil:            NaN
Plant available water:   231.000 (mm)

<br/>
FIELD.SOIL.SAMPLE
-----------------
Depth (cm)  NO3kgha  NH4kgha
      0-10     40.0      0.1
     10-30     30.0      0.1
     30-60     14.0      0.1
     60-90     14.0      0.1
    90-120      1.4      0.1
   120-150      1.4      0.1

<br/>
FIELD.POTATOSOWINGRULE
----------------------

        using System;
        using Models.Core;
        using Models.PMF;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;

               [Description("Spacing (mm) between plants within rows")]
               public double RowSpace { get; set; }
               [Description("Spacing (mm) between rows")]
               public double RowWidth { get; set; }
               [Description("Depth (mm) tubers are planted")]
               public double PlantingDepth { get; set; }
               [Description("Number of stems per seed tuber")]
               public double StemNumberPerSeedTuber { get; set; }
               [Description("Cultivar")]
                public string CultivarName { get; set; }
               [Description("Sowing Date")]
               public DateTime SowingDate { get; set; }

               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
                double PlantPopulation = 1/((RowWidth/1000)*(RowSpace/1000));

                if (Clock.Today.Date == SowingDate)
                    Potato.Sow(population:PlantPopulation, cultivar:CultivarName, depth:PlantingDepth, rowSpacing:150, budNumber:StemNumberPerSeedTuber);
                //Potato.Sow(... Contains the following arguements:
                //Population  double  Required  Seeds sowing/m2
                //Cultivar    string  Required  "NameOfCultivar"
                //Depth       double  Optional  Depth (mm) seed sown.   Default is 100mm 
                //MaxCover    double  Optional  Proportion (0-1) of the ground row crop will cover.   Default is 1.0
                //BudNumber   double  Optional  Number of mainstems per seed sown.  Default is 1.0
                //RowSpacing  double  Optional  Spaceing (mm) between drill rows when crop is sown.  Default is 150mm
                //CropClass   string  Optional  Crop class to instantiate when crop is sown.  Default is "Plant"
               }
            }
        }
                
<br/>
FIELD.POTATOHARVESTRULE
-----------------------

        using System;
        using Models.Core;
        using Models.PMF;
        using System.Xml.Serialization;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;
               [Link] Summary Summary;
               [Description("HarvestDate Date")]
               public DateTime HarvestDate { get; set; }            
               [XmlIgnore] public string FinalTag { get; set;}
               [XmlIgnore] public bool Harvested {get; set;}
               [XmlIgnore] public bool ReadyForHarvest {get; set;}
               
               [EventSubscribe("Commencing")]
               private void OnSimulationCommencing(object sender, EventArgs e)
               {
               FinalTag = "";
               Harvested = false;
               ReadyForHarvest = false;
               }
               
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
               if (ReadyForHarvest == true)
                   {
                   Potato.Harvest();
                   ReadyForHarvest = false;
                   Harvested = true;
                   }
               FinalTag = "";    
               }
               
               [EventSubscribe("DoManagementCalculations")]
               private void OnDoManagementCalculations(object sender, EventArgs e)
               {
                if ((Clock.Today == HarvestDate)&&(Harvested == false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
               }
            }
        }
                
<br/>
FIELD.EXTRAVARIABLES
--------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.Soils;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Clock Clock;
        [Link] Soils.Soil Soil;
        [Link] Models.SurfaceOM.SurfaceOrganicMatter SOM;
        [Link] Weather Met;   
        [Link] Fertiliser Fert;
        [Link] Irrigation Irrig;  
        [Link] Plant Potato;
        [Link] Zone zone;
                    
        [XmlIgnore] public bool InitialDay { get; set; }
        
        [XmlIgnore] public double AccumPlantN { get; set; }
        [XmlIgnore] public double AccumMineralisation { get; set; }
        [XmlIgnore] public double AccumDenit { get; set; }
        [XmlIgnore] public double AccumFert { get; set; }
        [XmlIgnore] public double AccumLeach { get; set; }
        [XmlIgnore] public double AccumDetach { get; set; }
        [XmlIgnore] public double DeltaSoilOMN { get; set; }
        [XmlIgnore] public double DeltaSurfaceOMN { get; set; }
        [XmlIgnore] public double DeltaSoilMineralN { get; set; }
        [XmlIgnore] public double SoilNitrogenContent { get; set; }
        
        [XmlIgnore] public double AccumEO { get; set; }
        [XmlIgnore] public double AccumEP { get; set; }
        [XmlIgnore] public double AccumES { get; set; }
        [XmlIgnore] public double AccumDrainage { get; set; }
        [XmlIgnore] public double AccumRunoff { get; set; }
        [XmlIgnore] public double AccumOutflowLat { get; set; }
        [XmlIgnore] public double AccumIrrigation { get; set; }
        [XmlIgnore] public double AccumRainfall { get; set; }
        [XmlIgnore] public double SoilWaterDeficit { get; set; }
        
        [XmlIgnore] public double AccumTtemerg { get; set; }
        
        [XmlIgnore] public double  InitialSoilOMN { get; set; }
        [XmlIgnore] public double  InitialSurfaceOMN { get; set; }
        [XmlIgnore] public double  InitialMineralN { get; set; }
        
        [XmlIgnore] public double SWC { get; set; }
        [XmlIgnore] public double DUL { get; set; }
        [XmlIgnore] public double OutFlowLat { get; set; }

        [XmlIgnore] public double FomN { get; set; }
        [XmlIgnore] public double BiomN { get; set; }
        [XmlIgnore] public double HumN { get; set; }
        [XmlIgnore] public double OrganicN { get; set; }
        [XmlIgnore] public double NO3N { get; set; }
        [XmlIgnore] public double NH4N { get; set; }
        [XmlIgnore] public double UreaN { get; set; }
        [XmlIgnore] public double MineralN { get; set; }
        [XmlIgnore] public double DltNMinRes { get; set; }
        [XmlIgnore] public double DltNMinTot { get; set; }
        
        [EventSubscribe("Commencing")]
        private void OnSimulationCommencing(object sender, EventArgs e)
        {
            InitialDay = true;
        }       
        
        [EventSubscribe("DoManagement")]
        private void OnDoManagement(object sender, EventArgs e)
        {
            //!!!!!! Nitrogen balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!
               FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            OrganicN = FomN + HumN + BiomN;
            NO3N = Utility.Math.Sum(Soil.NO3N);
            NH4N = Utility.Math.Sum(Soil.NH4N);
            UreaN = Utility.Math.Sum(Soil.SoilNitrogen.urea);
            MineralN = NO3N + NH4N + UreaN; 
            DltNMinRes = Utility.Math.Sum(Soil.SoilNitrogen.dlt_n_min_res);
            DltNMinTot = Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            int layers = Soil.Thickness.Length;
            if (InitialDay == true)
            {
                InitialSurfaceOMN = SOM.N;
                InitialSoilOMN = OrganicN;
                InitialMineralN = MineralN;
                InitialDay = false;
            }
            AccumFert += Fert.NitrogenApplied;
            DeltaSurfaceOMN = SOM.N - InitialSurfaceOMN;
            AccumLeach = AccumLeach - Soil.SoilWater.LeachNH4 - Soil.SoilWater.LeachNO3 - Soil.SoilWater.LeachUrea; //Fails
            AccumMineralisation += Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            AccumDenit -= Utility.Math.Sum(Soil.SoilNitrogen.Denitrification);
            AccumPlantN -= (double)zone.Get("Potato.Root.NUptake");
            DeltaSoilOMN = OrganicN - InitialSoilOMN;
            DeltaSoilMineralN = MineralN - InitialMineralN;
            SoilNitrogenContent = MineralN;
            
            //!!!!!! Water balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!

            AccumIrrigation += Irrig.IrrigationApplied;
            AccumRainfall += Met.Rain;
            AccumEP -= (double)zone.Get("Potato.Leaf.Transpiration");
            SoilWaterDeficit =  (SWC - DUL);
            double OutFlowLat = Utility.Math.Sum(Soil.SoilWater.outflow_lat);
            AccumOutflowLat -= OutFlowLat;
            
            //!!!!!! Thermal time calculation !!!!!!
            //!!!!!! ^^^^^^^^^^^^^^^^^^^^^^^^ !!!!!!
            if (Potato.Phenology.Stage >= 3)
            AccumTtemerg += Potato.Phenology.ThermalTime.Value;
        }
        
        [EventSubscribe("DoManagementCalculations")]
        private void OnDoManagementCalculations(object sender, EventArgs e)
        {
            FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            
            
            AccumEO -= Soil.SoilWater.Eo;
            AccumES -= Soil.SoilWater.Es; 
            AccumDrainage -= Soil.SoilWater.Drainage;
            AccumRunoff -= Soil.SoilWater.Runoff;
            SWC = Utility.Math.Sum(Soil.SoilWater.SWmm);
            DUL = Utility.Math.Sum(Soil.SoilWater.DULmm);
        }
    }
}
       
<br/>
FIELD.REPORT
------------
                                   Output variables  Output frequency
                                      [Clock].Today  [Clock].DoReport
               [ExtraVariables].Script.AccumTtemerg                  
                  Potato.Phenology.CurrentPhaseName                  
                             Potato.Phenology.Stage                  
                [ExtraVariables].Script.AccumPlantN                  
        [ExtraVariables].Script.AccumMineralisation                  
                 [ExtraVariables].Script.AccumDenit                  
                  [ExtraVariables].Script.AccumFert                  
                 [ExtraVariables].Script.AccumLeach                  
                [ExtraVariables].Script.AccumDetach                  
               [ExtraVariables].Script.DeltaSoilOMN                  
            [ExtraVariables].Script.DeltaSurfaceOMN                  
          [ExtraVariables].Script.DeltaSoilMineralN                  
                          Potato.Root.NSupplyUptake                  
                                [Soil].SoilWater.Eo                  
                                [Soil].SoilWater.Es                  
                        [ExtraVariables].Script.SWC                  
                        [ExtraVariables].Script.DUL                  
                          [Soil].SoilWater.Drainage                  
                            [Soil].SoilWater.Runoff                  
                 [ExtraVariables].Script.OutFlowLat                  
                              [Soil].SoilWater.pond                  
                    [ExtraVariables].Script.AccumEO                  
                    [ExtraVariables].Script.AccumEP                  
                    [ExtraVariables].Script.AccumES                  
              [ExtraVariables].Script.AccumDrainage                  
                [ExtraVariables].Script.AccumRunoff                  
              [ExtraVariables].Script.AccumRainfall                  
            [ExtraVariables].Script.AccumIrrigation                  
            [ExtraVariables].Script.AccumOutflowLat                  
           [ExtraVariables].Script.SoilWaterDeficit                  
                   Potato.Summariser.AboveGround.Wt                  
                   Potato.Summariser.BelowGround.Wt                  
                         Potato.Summariser.Total.Wt                  
                     Potato.Summariser.TotalDead.Wt                  
                     Potato.Summariser.TotalLive.Wt                  
                                Potato.Leaf.Dead.Wt                  
                                Potato.Leaf.Live.Wt                  
                                Potato.Stem.Dead.Wt                  
                                Potato.Stem.Live.Wt                  
                               Potato.Tuber.Dead.Wt                  
                               Potato.Tuber.Live.Wt                  
                                Potato.Root.Dead.Wt                  
                                Potato.Root.Live.Wt                  
                    Potato.Summariser.AboveGround.N                  
                    Potato.Summariser.BelowGround.N                  
                          Potato.Summariser.Total.N                  
                      Potato.Summariser.TotalLive.N                  
                      Potato.Summariser.TotalDead.N                  
                                 Potato.Leaf.Dead.N                  
                                 Potato.Leaf.Live.N                  
                                 Potato.Stem.Dead.N                  
                                 Potato.Stem.Live.N                  
                                Potato.Tuber.Dead.N                  
                                Potato.Tuber.Live.N                  
                                 Potato.Root.Live.N                  
                                 Potato.Root.Dead.N                  
                             Potato.Leaf.Live.NConc                  
                             Potato.Leaf.Dead.NConc                  
                             Potato.Stem.Live.NConc                  
                             Potato.Stem.Dead.NConc                  
                            Potato.Tuber.Live.NConc                  
                            Potato.Tuber.Dead.NConc                  
                             Potato.Root.Live.NConc                  
                             Potato.Root.Dead.NConc                  
                            Potato.Root.WaterSupply                  
                            Potato.Root.WaterUptake                  
                          Potato.Leaf.Transpiration                  
                            Potato.Leaf.WaterDemand                  
                                  Potato.Root.Depth                  
                             Potato.Leaf.CoverGreen                  
                             Potato.Leaf.CoverTotal                  
                              Potato.Leaf.CoverDead                  
                                    Potato.Leaf.LAI                  
                                Potato.Leaf.LAIDead                  
                            Potato.Structure.Height                  
                                     Potato.Leaf.Fn                  
                                     Potato.Leaf.Fw                  
                Potato.Leaf.Photosynthesis.FT.Value                  
              Potato.Leaf.Photosynthesis.FVPD.Value                  
                  Potato.Structure.PlantTotalNodeNo                  
                     Potato.Structure.TotalStemPopn                  
               Potato.Leaf.PlantAppearedGreenLeafNo                  
                      Potato.Leaf.ExpandingCohortNo                  
                       Potato.Leaf.AppearedCohortNo                  
                           Potato.Leaf.DeadCohortNo                  
                    Potato.Structure.MainStemNodeNo                  
                      Potato.Leaf.SenescingCohortNo                  
             Potato.Structure.PrimaryBudTotalNodeNo                  
Potato.Leaf.LeafCohortParameters.MinimumNConc.Value                  
                     Potato.Stem.MinimumNConc.Value                  
                    Potato.Tuber.MinimumNConc.Value                  
                     Potato.Root.MinimumNConc.Value                  
Potato.Leaf.LeafCohortParameters.MaximumNConc.Value                  
                     Potato.Stem.MaximumNConc.Value                  
                    Potato.Tuber.MaximumNConc.Value                  
                     Potato.Root.MaximumNConc.Value                  
                      Potato.Stem.Live.StructuralWt                  
                   Potato.Stem.Live.NonStructuralWt                  
                           Potato.Leaf.SpecificArea                  
                       Potato.Leaf.ExpandedCohortNo                  
                              [Soil].SoilWater.SWmm                  
                                        [Soil].NO3N                  
        [ExtraVariables].Script.SoilNitrogenContent                  
                          Potato.Arbitrator.NDemand                  
                            [MicroClimate].net_radn                  
                                [MicroClimate].peta                  
                                [MicroClimate].petr                  
                       [ExtraVariables].Script.FomN                  
                       [ExtraVariables].Script.HumN                  
                      [ExtraVariables].Script.BiomN                  
                 [ExtraVariables].Script.DltNMinRes                  
                 [ExtraVariables].Script.DltNMinTot                  
                [PotatoHarvestRule].Script.FinalTag                  
                               Potato.Tuber.LiveFWt                  
                Potato.Tuber.DryMatterContent.Value                  
                     [Potato].Arbitrator.NO3NSupply                  
                     [Potato].Arbitrator.NH4NSupply                  
                              [Potato].Root.NUptake                  

<br/>
FIELD.SURFACEORGANICMATTER
--------------------------
Surface organic matter pool name:             Wheat
Surface organic matter pool type:             Wheat
 Mass of surface residue (kg/ha):      2000 (kg/ha)
         Standing fraction (0-1):           0 (0-1)
     Carbon:Nitrogen ratio (g/g):          80 (g/g)
                  Carbon content:   800.000 (kg/ha)
                Nitrogen content:    10.000 (kg/ha)
              Phosphorus content:     0.000 (kg/ha)

<br/>
SIMULATION LOG:
---------------


2003-10-20 Field.Potato
    A crop of Potato (cultivar = Nooksac) was sown today at a population of 4.63821892393321 plants/m2 with 2.3 buds per plant at a row spacing of 150 and a depth of 165 mm
    


2003-10-20 Field.Fertiliser
    100 kg/ha of UreaN added at depth 0 layer 1
    


2003-10-20 Field.Potato.Summariser
    Peeping
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


2003-11-17 Field.Potato.Summariser
    Emergence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


2003-11-25 Field.Fertiliser
    69 kg/ha of UreaN added at depth 0 layer 1
    


2003-11-26 Field.Irrigation
    15.0 mm of water added at depth 0
    


2003-12-04 Field.Irrigation
    50.0 mm of water added at depth 0
    


2003-12-15 Field.Potato.Summariser
    TuberInitiation
      LAI = 1.33 (m^2/m^2)
      Above Ground Biomass = 87.74 (g/m^2)
    
    


2003-12-16 Field.Irrigation
    15.0 mm of water added at depth 0
    


2003-12-22 Field.Irrigation
    50.0 mm of water added at depth 0
    


2003-12-30 Field.Irrigation
    50.0 mm of water added at depth 0
    


2004-01-08 Field.Irrigation
    50.0 mm of water added at depth 0
    


2004-01-21 Field.Irrigation
    50.0 mm of water added at depth 0
    


2004-01-31 Field.Irrigation
    50.0 mm of water added at depth 0
    


2004-02-27 Field.Irrigation
    25.0 mm of water added at depth 0
    


2004-04-01 Field.Potato.Summariser
    FinalLeaf
      LAI = 0.22 (m^2/m^2)
      Above Ground Biomass = 402.09 (g/m^2)
    
    


2004-04-18 Field.Potato.Summariser
    FullSenescence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 402.09 (g/m^2)
    
    


2004-05-09 Field.Potato.Summariser
    Maturity
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 402.09 (g/m^2)
    
    


2004-06-02 Field.Potato.Summariser
    Maturity
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 402.09 (g/m^2)
    
    Maturity
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 402.09 (g/m^2)
    
    


2004-06-02 Field.Potato
    A crop of Potato was harvested today, Yeahhh
    


############################################################################
.POTATOCULTIVARREDRASCAL
------------------------
Simulation name:   PotatoCultivarRedRascal

<br/>
WEATHER
-------
Weather file name:   lincoln.met

<br/>
CLOCK
-----
The start date of the simulation:   2003-10-20
  The end date of the simulation:   2004-06-05

<br/>
FIELD.SOIL
----------
                   Record number:             0
Soil texture or other descriptor:   Sedementary
                      Local name:       Lincoln
                Latitude (WGS84):         0.000
               Longitude (WGS84):         0.000

<br/>
FIELD.SOIL.WATER
----------------
Depth (cm)  BD (g/cc)  Air dry (mm/mm)  LL15 (mm/mm)  DUL (mm/mm)  SAT (mm/mm)
      0-10       1.20             0.08          0.16         0.33         0.50
     10-30       1.20             0.16          0.16         0.33         0.50
     30-60       1.20             0.15          0.15         0.31         0.44
     60-90       1.20             0.13          0.13         0.27         0.46
    90-120       1.20             0.15          0.15         0.30         0.44
   120-150       1.20             0.15          0.15         0.30         0.44

<br/>
FIELD.SOIL.WATER.POTATOSOIL
---------------------------
Potato Depth (cm)  Potato LL (mm/mm)  Potato PAWC (mm)  Potato KL (mm/mm)  Potato XF (mm/mm)
             0-10               0.13              20.0               0.10                1.0
            10-30               0.13              40.0               0.06                1.0
            30-60                0.1              63.0               0.04                1.0
            60-90               0.15              36.0               0.01                1.0
           90-120                0.3               0.0               0.00                0.0
          120-150                0.3               0.0               0.00                0.0
                                                 159.0                                      

<br/>
FIELD.SOIL.SOILORGANICMATTER
----------------------------
                  Root C:N ratio:     30.000
             Root Weight (kg/ha):   3000.000
                  Soil C:N ratio:     11.500
Erosion enrichment coefficient A:      7.400
Erosion enrichment coefficient B:      0.200

Depth (cm)  OC (Total %)  FBiom (0-1)  FInert (0-1)
      0-10          3.50        0.025           0.3
     10-30          2.50        0.025           0.4
     30-60          1.20        0.015          0.75
     60-90          1.03         0.01           0.9
    90-120          0.47         0.01          0.96
   120-150          0.47         0.01          0.96

<br/>
FIELD.SOIL.ANALYSIS
-------------------
Depth (cm)  PH (1:5 water)
      0-10             6.6
     10-30             6.2
     30-60             5.7
     60-90             5.5
    90-120             5.5
   120-150             5.5

<br/>
FIELD.SOIL.INITIAL WATER
------------------------
        Fraction full:          1.000
    Depth of wet soil:            NaN
Plant available water:   231.000 (mm)

<br/>
FIELD.SOIL.SAMPLE
-----------------
Depth (cm)  NO3kgha  NH4kgha
      0-10     40.0      0.1
     10-30     30.0      0.1
     30-60     14.0      0.1
     60-90     14.0      0.1
    90-120      1.4      0.1
   120-150      1.4      0.1

<br/>
FIELD.POTATOSOWINGRULE
----------------------

        using System;
        using Models.Core;
        using Models.PMF;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;

               [Description("Spacing (mm) between plants within rows")]
               public double RowSpace { get; set; }
               [Description("Spacing (mm) between rows")]
               public double RowWidth { get; set; }
               [Description("Depth (mm) tubers are planted")]
               public double PlantingDepth { get; set; }
               [Description("Number of stems per seed tuber")]
               public double StemNumberPerSeedTuber { get; set; }
               [Description("Cultivar")]
                public string CultivarName { get; set; }
               [Description("Sowing Date")]
               public DateTime SowingDate { get; set; }

               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
                double PlantPopulation = 1/((RowWidth/1000)*(RowSpace/1000));

                if (Clock.Today.Date == SowingDate)
                    Potato.Sow(population:PlantPopulation, cultivar:CultivarName, depth:PlantingDepth, rowSpacing:150, budNumber:StemNumberPerSeedTuber);
                //Potato.Sow(... Contains the following arguements:
                //Population  double  Required  Seeds sowing/m2
                //Cultivar    string  Required  "NameOfCultivar"
                //Depth       double  Optional  Depth (mm) seed sown.   Default is 100mm 
                //MaxCover    double  Optional  Proportion (0-1) of the ground row crop will cover.   Default is 1.0
                //BudNumber   double  Optional  Number of mainstems per seed sown.  Default is 1.0
                //RowSpacing  double  Optional  Spaceing (mm) between drill rows when crop is sown.  Default is 150mm
                //CropClass   string  Optional  Crop class to instantiate when crop is sown.  Default is "Plant"
               }
            }
        }
                
<br/>
FIELD.POTATOHARVESTRULE
-----------------------

        using System;
        using Models.Core;
        using Models.PMF;
        using System.Xml.Serialization;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;
               [Link] Summary Summary;
               [Description("HarvestDate Date")]
               public DateTime HarvestDate { get; set; }            
               [XmlIgnore] public string FinalTag { get; set;}
               [XmlIgnore] public bool Harvested {get; set;}
               [XmlIgnore] public bool ReadyForHarvest {get; set;}
               
               [EventSubscribe("Commencing")]
               private void OnSimulationCommencing(object sender, EventArgs e)
               {
               FinalTag = "";
               Harvested = false;
               ReadyForHarvest = false;
               }
               
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
               if (ReadyForHarvest == true)
                   {
                   Potato.Harvest();
                   ReadyForHarvest = false;
                   Harvested = true;
                   }
               FinalTag = "";    
               }
               
               [EventSubscribe("DoManagementCalculations")]
               private void OnDoManagementCalculations(object sender, EventArgs e)
               {
                if ((Clock.Today == HarvestDate)&&(Harvested == false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
               }
            }
        }
                
<br/>
FIELD.EXTRAVARIABLES
--------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.Soils;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Clock Clock;
        [Link] Soils.Soil Soil;
        [Link] Models.SurfaceOM.SurfaceOrganicMatter SOM;
        [Link] Weather Met;   
        [Link] Fertiliser Fert;
        [Link] Irrigation Irrig;  
        [Link] Plant Potato;
        [Link] Zone zone;
                    
        [XmlIgnore] public bool InitialDay { get; set; }
        
        [XmlIgnore] public double AccumPlantN { get; set; }
        [XmlIgnore] public double AccumMineralisation { get; set; }
        [XmlIgnore] public double AccumDenit { get; set; }
        [XmlIgnore] public double AccumFert { get; set; }
        [XmlIgnore] public double AccumLeach { get; set; }
        [XmlIgnore] public double AccumDetach { get; set; }
        [XmlIgnore] public double DeltaSoilOMN { get; set; }
        [XmlIgnore] public double DeltaSurfaceOMN { get; set; }
        [XmlIgnore] public double DeltaSoilMineralN { get; set; }
        [XmlIgnore] public double SoilNitrogenContent { get; set; }
        
        [XmlIgnore] public double AccumEO { get; set; }
        [XmlIgnore] public double AccumEP { get; set; }
        [XmlIgnore] public double AccumES { get; set; }
        [XmlIgnore] public double AccumDrainage { get; set; }
        [XmlIgnore] public double AccumRunoff { get; set; }
        [XmlIgnore] public double AccumOutflowLat { get; set; }
        [XmlIgnore] public double AccumIrrigation { get; set; }
        [XmlIgnore] public double AccumRainfall { get; set; }
        [XmlIgnore] public double SoilWaterDeficit { get; set; }
        
        [XmlIgnore] public double AccumTtemerg { get; set; }
        
        [XmlIgnore] public double  InitialSoilOMN { get; set; }
        [XmlIgnore] public double  InitialSurfaceOMN { get; set; }
        [XmlIgnore] public double  InitialMineralN { get; set; }
        
        [XmlIgnore] public double SWC { get; set; }
        [XmlIgnore] public double DUL { get; set; }
        [XmlIgnore] public double OutFlowLat { get; set; }

        [XmlIgnore] public double FomN { get; set; }
        [XmlIgnore] public double BiomN { get; set; }
        [XmlIgnore] public double HumN { get; set; }
        [XmlIgnore] public double OrganicN { get; set; }
        [XmlIgnore] public double NO3N { get; set; }
        [XmlIgnore] public double NH4N { get; set; }
        [XmlIgnore] public double UreaN { get; set; }
        [XmlIgnore] public double MineralN { get; set; }
        [XmlIgnore] public double DltNMinRes { get; set; }
        [XmlIgnore] public double DltNMinTot { get; set; }
        
        [EventSubscribe("Commencing")]
        private void OnSimulationCommencing(object sender, EventArgs e)
        {
            InitialDay = true;
        }       
        
        [EventSubscribe("DoManagement")]
        private void OnDoManagement(object sender, EventArgs e)
        {
            //!!!!!! Nitrogen balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!
               FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            OrganicN = FomN + HumN + BiomN;
            NO3N = Utility.Math.Sum(Soil.NO3N);
            NH4N = Utility.Math.Sum(Soil.NH4N);
            UreaN = Utility.Math.Sum(Soil.SoilNitrogen.urea);
            MineralN = NO3N + NH4N + UreaN; 
            DltNMinRes = Utility.Math.Sum(Soil.SoilNitrogen.dlt_n_min_res);
            DltNMinTot = Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            int layers = Soil.Thickness.Length;
            if (InitialDay == true)
            {
                InitialSurfaceOMN = SOM.N;
                InitialSoilOMN = OrganicN;
                InitialMineralN = MineralN;
                InitialDay = false;
            }
            AccumFert += Fert.NitrogenApplied;
            DeltaSurfaceOMN = SOM.N - InitialSurfaceOMN;
            AccumLeach = AccumLeach - Soil.SoilWater.LeachNH4 - Soil.SoilWater.LeachNO3 - Soil.SoilWater.LeachUrea; //Fails
            AccumMineralisation += Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            AccumDenit -= Utility.Math.Sum(Soil.SoilNitrogen.Denitrification);
            AccumPlantN -= (double)zone.Get("Potato.Root.NUptake");
            DeltaSoilOMN = OrganicN - InitialSoilOMN;
            DeltaSoilMineralN = MineralN - InitialMineralN;
            SoilNitrogenContent = MineralN;
            
            //!!!!!! Water balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!

            AccumIrrigation += Irrig.IrrigationApplied;
            AccumRainfall += Met.Rain;
            AccumEP -= (double)zone.Get("Potato.Leaf.Transpiration");
            SoilWaterDeficit =  (SWC - DUL);
            double OutFlowLat = Utility.Math.Sum(Soil.SoilWater.outflow_lat);
            AccumOutflowLat -= OutFlowLat;
            
            //!!!!!! Thermal time calculation !!!!!!
            //!!!!!! ^^^^^^^^^^^^^^^^^^^^^^^^ !!!!!!
            if (Potato.Phenology.Stage >= 3)
            AccumTtemerg += Potato.Phenology.ThermalTime.Value;
        }
        
        [EventSubscribe("DoManagementCalculations")]
        private void OnDoManagementCalculations(object sender, EventArgs e)
        {
            FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            
            
            AccumEO -= Soil.SoilWater.Eo;
            AccumES -= Soil.SoilWater.Es; 
            AccumDrainage -= Soil.SoilWater.Drainage;
            AccumRunoff -= Soil.SoilWater.Runoff;
            SWC = Utility.Math.Sum(Soil.SoilWater.SWmm);
            DUL = Utility.Math.Sum(Soil.SoilWater.DULmm);
        }
    }
}
       
<br/>
FIELD.REPORT
------------
                                   Output variables  Output frequency
                                      [Clock].Today  [Clock].DoReport
               [ExtraVariables].Script.AccumTtemerg                  
                  Potato.Phenology.CurrentPhaseName                  
                             Potato.Phenology.Stage                  
                [ExtraVariables].Script.AccumPlantN                  
        [ExtraVariables].Script.AccumMineralisation                  
                 [ExtraVariables].Script.AccumDenit                  
                  [ExtraVariables].Script.AccumFert                  
                 [ExtraVariables].Script.AccumLeach                  
                [ExtraVariables].Script.AccumDetach                  
               [ExtraVariables].Script.DeltaSoilOMN                  
            [ExtraVariables].Script.DeltaSurfaceOMN                  
          [ExtraVariables].Script.DeltaSoilMineralN                  
                          Potato.Root.NSupplyUptake                  
                                [Soil].SoilWater.Eo                  
                                [Soil].SoilWater.Es                  
                        [ExtraVariables].Script.SWC                  
                        [ExtraVariables].Script.DUL                  
                          [Soil].SoilWater.Drainage                  
                            [Soil].SoilWater.Runoff                  
                 [ExtraVariables].Script.OutFlowLat                  
                              [Soil].SoilWater.pond                  
                    [ExtraVariables].Script.AccumEO                  
                    [ExtraVariables].Script.AccumEP                  
                    [ExtraVariables].Script.AccumES                  
              [ExtraVariables].Script.AccumDrainage                  
                [ExtraVariables].Script.AccumRunoff                  
              [ExtraVariables].Script.AccumRainfall                  
            [ExtraVariables].Script.AccumIrrigation                  
            [ExtraVariables].Script.AccumOutflowLat                  
           [ExtraVariables].Script.SoilWaterDeficit                  
                   Potato.Summariser.AboveGround.Wt                  
                   Potato.Summariser.BelowGround.Wt                  
                         Potato.Summariser.Total.Wt                  
                     Potato.Summariser.TotalDead.Wt                  
                     Potato.Summariser.TotalLive.Wt                  
                                Potato.Leaf.Dead.Wt                  
                                Potato.Leaf.Live.Wt                  
                                Potato.Stem.Dead.Wt                  
                                Potato.Stem.Live.Wt                  
                               Potato.Tuber.Dead.Wt                  
                               Potato.Tuber.Live.Wt                  
                                Potato.Root.Dead.Wt                  
                                Potato.Root.Live.Wt                  
                    Potato.Summariser.AboveGround.N                  
                    Potato.Summariser.BelowGround.N                  
                          Potato.Summariser.Total.N                  
                      Potato.Summariser.TotalLive.N                  
                      Potato.Summariser.TotalDead.N                  
                                 Potato.Leaf.Dead.N                  
                                 Potato.Leaf.Live.N                  
                                 Potato.Stem.Dead.N                  
                                 Potato.Stem.Live.N                  
                                Potato.Tuber.Dead.N                  
                                Potato.Tuber.Live.N                  
                                 Potato.Root.Live.N                  
                                 Potato.Root.Dead.N                  
                             Potato.Leaf.Live.NConc                  
                             Potato.Leaf.Dead.NConc                  
                             Potato.Stem.Live.NConc                  
                             Potato.Stem.Dead.NConc                  
                            Potato.Tuber.Live.NConc                  
                            Potato.Tuber.Dead.NConc                  
                             Potato.Root.Live.NConc                  
                             Potato.Root.Dead.NConc                  
                            Potato.Root.WaterSupply                  
                            Potato.Root.WaterUptake                  
                          Potato.Leaf.Transpiration                  
                            Potato.Leaf.WaterDemand                  
                                  Potato.Root.Depth                  
                             Potato.Leaf.CoverGreen                  
                             Potato.Leaf.CoverTotal                  
                              Potato.Leaf.CoverDead                  
                                    Potato.Leaf.LAI                  
                                Potato.Leaf.LAIDead                  
                            Potato.Structure.Height                  
                                     Potato.Leaf.Fn                  
                                     Potato.Leaf.Fw                  
                Potato.Leaf.Photosynthesis.FT.Value                  
              Potato.Leaf.Photosynthesis.FVPD.Value                  
                  Potato.Structure.PlantTotalNodeNo                  
                     Potato.Structure.TotalStemPopn                  
               Potato.Leaf.PlantAppearedGreenLeafNo                  
                      Potato.Leaf.ExpandingCohortNo                  
                       Potato.Leaf.AppearedCohortNo                  
                           Potato.Leaf.DeadCohortNo                  
                    Potato.Structure.MainStemNodeNo                  
                      Potato.Leaf.SenescingCohortNo                  
             Potato.Structure.PrimaryBudTotalNodeNo                  
Potato.Leaf.LeafCohortParameters.MinimumNConc.Value                  
                     Potato.Stem.MinimumNConc.Value                  
                    Potato.Tuber.MinimumNConc.Value                  
                     Potato.Root.MinimumNConc.Value                  
Potato.Leaf.LeafCohortParameters.MaximumNConc.Value                  
                     Potato.Stem.MaximumNConc.Value                  
                    Potato.Tuber.MaximumNConc.Value                  
                     Potato.Root.MaximumNConc.Value                  
                      Potato.Stem.Live.StructuralWt                  
                   Potato.Stem.Live.NonStructuralWt                  
                           Potato.Leaf.SpecificArea                  
                       Potato.Leaf.ExpandedCohortNo                  
                              [Soil].SoilWater.SWmm                  
                                        [Soil].NO3N                  
        [ExtraVariables].Script.SoilNitrogenContent                  
                          Potato.Arbitrator.NDemand                  
                            [MicroClimate].net_radn                  
                                [MicroClimate].peta                  
                                [MicroClimate].petr                  
                       [ExtraVariables].Script.FomN                  
                       [ExtraVariables].Script.HumN                  
                      [ExtraVariables].Script.BiomN                  
                 [ExtraVariables].Script.DltNMinRes                  
                 [ExtraVariables].Script.DltNMinTot                  
                [PotatoHarvestRule].Script.FinalTag                  
                               Potato.Tuber.LiveFWt                  
                Potato.Tuber.DryMatterContent.Value                  
                     [Potato].Arbitrator.NO3NSupply                  
                     [Potato].Arbitrator.NH4NSupply                  
                              [Potato].Root.NUptake                  

<br/>
FIELD.SURFACEORGANICMATTER
--------------------------
Surface organic matter pool name:             Wheat
Surface organic matter pool type:             Wheat
 Mass of surface residue (kg/ha):      2000 (kg/ha)
         Standing fraction (0-1):           0 (0-1)
     Carbon:Nitrogen ratio (g/g):          80 (g/g)
                  Carbon content:   800.000 (kg/ha)
                Nitrogen content:    10.000 (kg/ha)
              Phosphorus content:     0.000 (kg/ha)

<br/>
SIMULATION LOG:
---------------


2003-10-20 Field.Potato
    A crop of Potato (cultivar = RedRascal) was sown today at a population of 4.63821892393321 plants/m2 with 4.87 buds per plant at a row spacing of 150 and a depth of 140 mm
    


2003-10-20 Field.Fertiliser
    100 kg/ha of UreaN added at depth 0 layer 1
    


2003-10-20 Field.Potato.Summariser
    Peeping
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


2003-11-14 Field.Potato.Summariser
    Emergence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


2003-11-25 Field.Fertiliser
    69 kg/ha of UreaN added at depth 0 layer 1
    


2003-11-26 Field.Irrigation
    15.0 mm of water added at depth 0
    


2003-12-04 Field.Irrigation
    50.0 mm of water added at depth 0
    


2003-12-12 Field.Potato.Summariser
    TuberInitiation
      LAI = 2.59 (m^2/m^2)
      Above Ground Biomass = 161.92 (g/m^2)
    
    


2003-12-16 Field.Irrigation
    15.0 mm of water added at depth 0
    


2003-12-22 Field.Irrigation
    50.0 mm of water added at depth 0
    


2003-12-30 Field.Irrigation
    50.0 mm of water added at depth 0
    


2004-01-08 Field.Irrigation
    50.0 mm of water added at depth 0
    


2004-01-21 Field.Irrigation
    50.0 mm of water added at depth 0
    


2004-01-31 Field.Irrigation
    50.0 mm of water added at depth 0
    


2004-02-27 Field.Irrigation
    25.0 mm of water added at depth 0
    


2004-03-22 Field.Potato.Summariser
    FinalLeaf
      LAI = 0.18 (m^2/m^2)
      Above Ground Biomass = 389.83 (g/m^2)
    
    


2004-04-05 Field.Potato.Summariser
    FullSenescence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 389.83 (g/m^2)
    
    


2004-04-30 Field.Potato.Summariser
    Maturity
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 389.83 (g/m^2)
    
    


2004-06-02 Field.Potato.Summariser
    Maturity
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 389.83 (g/m^2)
    
    Maturity
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 389.83 (g/m^2)
    
    


2004-06-02 Field.Potato
    A crop of Potato was harvested today, Yeahhh
    


############################################################################
.POTATOCULTIVARRUA
------------------
Simulation name:   PotatoCultivarRua

<br/>
WEATHER
-------
Weather file name:   lincoln.met

<br/>
CLOCK
-----
The start date of the simulation:   2003-10-20
  The end date of the simulation:   2004-06-05

<br/>
FIELD.SOIL
----------
                   Record number:             0
Soil texture or other descriptor:   Sedementary
                      Local name:       Lincoln
                Latitude (WGS84):         0.000
               Longitude (WGS84):         0.000

<br/>
FIELD.SOIL.WATER
----------------
Depth (cm)  BD (g/cc)  Air dry (mm/mm)  LL15 (mm/mm)  DUL (mm/mm)  SAT (mm/mm)
      0-10       1.20             0.08          0.16         0.33         0.50
     10-30       1.20             0.16          0.16         0.33         0.50
     30-60       1.20             0.15          0.15         0.31         0.44
     60-90       1.20             0.13          0.13         0.27         0.46
    90-120       1.20             0.15          0.15         0.30         0.44
   120-150       1.20             0.15          0.15         0.30         0.44

<br/>
FIELD.SOIL.WATER.POTATOSOIL
---------------------------
Potato Depth (cm)  Potato LL (mm/mm)  Potato PAWC (mm)  Potato KL (mm/mm)  Potato XF (mm/mm)
             0-10               0.13              20.0               0.10                1.0
            10-30               0.13              40.0               0.06                1.0
            30-60                0.1              63.0               0.04                1.0
            60-90               0.15              36.0               0.01                1.0
           90-120                0.3               0.0               0.00                0.0
          120-150                0.3               0.0               0.00                0.0
                                                 159.0                                      

<br/>
FIELD.SOIL.SOILORGANICMATTER
----------------------------
                  Root C:N ratio:     30.000
             Root Weight (kg/ha):   3000.000
                  Soil C:N ratio:     11.500
Erosion enrichment coefficient A:      7.400
Erosion enrichment coefficient B:      0.200

Depth (cm)  OC (Total %)  FBiom (0-1)  FInert (0-1)
      0-10          3.50        0.025           0.3
     10-30          2.50        0.025           0.4
     30-60          1.20        0.015          0.75
     60-90          1.03         0.01           0.9
    90-120          0.47         0.01          0.96
   120-150          0.47         0.01          0.96

<br/>
FIELD.SOIL.ANALYSIS
-------------------
Depth (cm)  PH (1:5 water)
      0-10             6.6
     10-30             6.2
     30-60             5.7
     60-90             5.5
    90-120             5.5
   120-150             5.5

<br/>
FIELD.SOIL.INITIAL WATER
------------------------
        Fraction full:          1.000
    Depth of wet soil:            NaN
Plant available water:   231.000 (mm)

<br/>
FIELD.SOIL.SAMPLE
-----------------
Depth (cm)  NO3kgha  NH4kgha
      0-10     40.0      0.1
     10-30     30.0      0.1
     30-60     14.0      0.1
     60-90     14.0      0.1
    90-120      1.4      0.1
   120-150      1.4      0.1

<br/>
FIELD.POTATOSOWINGRULE
----------------------

        using System;
        using Models.Core;
        using Models.PMF;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;

               [Description("Spacing (mm) between plants within rows")]
               public double RowSpace { get; set; }
               [Description("Spacing (mm) between rows")]
               public double RowWidth { get; set; }
               [Description("Depth (mm) tubers are planted")]
               public double PlantingDepth { get; set; }
               [Description("Number of stems per seed tuber")]
               public double StemNumberPerSeedTuber { get; set; }
               [Description("Cultivar")]
                public string CultivarName { get; set; }
               [Description("Sowing Date")]
               public DateTime SowingDate { get; set; }

               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
                double PlantPopulation = 1/((RowWidth/1000)*(RowSpace/1000));

                if (Clock.Today.Date == SowingDate)
                    Potato.Sow(population:PlantPopulation, cultivar:CultivarName, depth:PlantingDepth, rowSpacing:150, budNumber:StemNumberPerSeedTuber);
                //Potato.Sow(... Contains the following arguements:
                //Population  double  Required  Seeds sowing/m2
                //Cultivar    string  Required  "NameOfCultivar"
                //Depth       double  Optional  Depth (mm) seed sown.   Default is 100mm 
                //MaxCover    double  Optional  Proportion (0-1) of the ground row crop will cover.   Default is 1.0
                //BudNumber   double  Optional  Number of mainstems per seed sown.  Default is 1.0
                //RowSpacing  double  Optional  Spaceing (mm) between drill rows when crop is sown.  Default is 150mm
                //CropClass   string  Optional  Crop class to instantiate when crop is sown.  Default is "Plant"
               }
            }
        }
                
<br/>
FIELD.POTATOHARVESTRULE
-----------------------

        using System;
        using Models.Core;
        using Models.PMF;
        using System.Xml.Serialization;
        namespace Models
        {
           [Serializable] 
           [System.Xml.Serialization.XmlInclude(typeof(Model))]
            public class Script : Model
            {      
               [Link] Plant Potato;
               [Link] Clock Clock;
               [Link] Summary Summary;
               [Description("HarvestDate Date")]
               public DateTime HarvestDate { get; set; }            
               [XmlIgnore] public string FinalTag { get; set;}
               [XmlIgnore] public bool Harvested {get; set;}
               [XmlIgnore] public bool ReadyForHarvest {get; set;}
               
               [EventSubscribe("Commencing")]
               private void OnSimulationCommencing(object sender, EventArgs e)
               {
               FinalTag = "";
               Harvested = false;
               ReadyForHarvest = false;
               }
               
               [EventSubscribe("DoManagement")]
               private void OnDoManagement(object sender, EventArgs e)
               {
               if (ReadyForHarvest == true)
                   {
                   Potato.Harvest();
                   ReadyForHarvest = false;
                   Harvested = true;
                   }
               FinalTag = "";    
               }
               
               [EventSubscribe("DoManagementCalculations")]
               private void OnDoManagementCalculations(object sender, EventArgs e)
               {
                if ((Clock.Today == HarvestDate)&&(Harvested == false))
                {
                    FinalTag = "yield";
                    ReadyForHarvest = true;
                }
               }
            }
        }
                
<br/>
FIELD.EXTRAVARIABLES
--------------------
using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.Soils;
using Models.PMF;
using Models;
using System.Xml.Serialization;
namespace Models
{
    [Serializable] 
    public class Script : Model
    {      
        [Link] Clock Clock;
        [Link] Soils.Soil Soil;
        [Link] Models.SurfaceOM.SurfaceOrganicMatter SOM;
        [Link] Weather Met;   
        [Link] Fertiliser Fert;
        [Link] Irrigation Irrig;  
        [Link] Plant Potato;
        [Link] Zone zone;
                    
        [XmlIgnore] public bool InitialDay { get; set; }
        
        [XmlIgnore] public double AccumPlantN { get; set; }
        [XmlIgnore] public double AccumMineralisation { get; set; }
        [XmlIgnore] public double AccumDenit { get; set; }
        [XmlIgnore] public double AccumFert { get; set; }
        [XmlIgnore] public double AccumLeach { get; set; }
        [XmlIgnore] public double AccumDetach { get; set; }
        [XmlIgnore] public double DeltaSoilOMN { get; set; }
        [XmlIgnore] public double DeltaSurfaceOMN { get; set; }
        [XmlIgnore] public double DeltaSoilMineralN { get; set; }
        [XmlIgnore] public double SoilNitrogenContent { get; set; }
        
        [XmlIgnore] public double AccumEO { get; set; }
        [XmlIgnore] public double AccumEP { get; set; }
        [XmlIgnore] public double AccumES { get; set; }
        [XmlIgnore] public double AccumDrainage { get; set; }
        [XmlIgnore] public double AccumRunoff { get; set; }
        [XmlIgnore] public double AccumOutflowLat { get; set; }
        [XmlIgnore] public double AccumIrrigation { get; set; }
        [XmlIgnore] public double AccumRainfall { get; set; }
        [XmlIgnore] public double SoilWaterDeficit { get; set; }
        
        [XmlIgnore] public double AccumTtemerg { get; set; }
        
        [XmlIgnore] public double  InitialSoilOMN { get; set; }
        [XmlIgnore] public double  InitialSurfaceOMN { get; set; }
        [XmlIgnore] public double  InitialMineralN { get; set; }
        
        [XmlIgnore] public double SWC { get; set; }
        [XmlIgnore] public double DUL { get; set; }
        [XmlIgnore] public double OutFlowLat { get; set; }

        [XmlIgnore] public double FomN { get; set; }
        [XmlIgnore] public double BiomN { get; set; }
        [XmlIgnore] public double HumN { get; set; }
        [XmlIgnore] public double OrganicN { get; set; }
        [XmlIgnore] public double NO3N { get; set; }
        [XmlIgnore] public double NH4N { get; set; }
        [XmlIgnore] public double UreaN { get; set; }
        [XmlIgnore] public double MineralN { get; set; }
        [XmlIgnore] public double DltNMinRes { get; set; }
        [XmlIgnore] public double DltNMinTot { get; set; }
        
        [EventSubscribe("Commencing")]
        private void OnSimulationCommencing(object sender, EventArgs e)
        {
            InitialDay = true;
        }       
        
        [EventSubscribe("DoManagement")]
        private void OnDoManagement(object sender, EventArgs e)
        {
            //!!!!!! Nitrogen balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!
               FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            OrganicN = FomN + HumN + BiomN;
            NO3N = Utility.Math.Sum(Soil.NO3N);
            NH4N = Utility.Math.Sum(Soil.NH4N);
            UreaN = Utility.Math.Sum(Soil.SoilNitrogen.urea);
            MineralN = NO3N + NH4N + UreaN; 
            DltNMinRes = Utility.Math.Sum(Soil.SoilNitrogen.dlt_n_min_res);
            DltNMinTot = Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            int layers = Soil.Thickness.Length;
            if (InitialDay == true)
            {
                InitialSurfaceOMN = SOM.N;
                InitialSoilOMN = OrganicN;
                InitialMineralN = MineralN;
                InitialDay = false;
            }
            AccumFert += Fert.NitrogenApplied;
            DeltaSurfaceOMN = SOM.N - InitialSurfaceOMN;
            AccumLeach = AccumLeach - Soil.SoilWater.LeachNH4 - Soil.SoilWater.LeachNO3 - Soil.SoilWater.LeachUrea; //Fails
            AccumMineralisation += Utility.Math.Sum(Soil.SoilNitrogen.MineralisedN);
            AccumDenit -= Utility.Math.Sum(Soil.SoilNitrogen.Denitrification);
            AccumPlantN -= (double)zone.Get("Potato.Root.NUptake");
            DeltaSoilOMN = OrganicN - InitialSoilOMN;
            DeltaSoilMineralN = MineralN - InitialMineralN;
            SoilNitrogenContent = MineralN;
            
            //!!!!!! Water balance components !!!!!!
            //!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!

            AccumIrrigation += Irrig.IrrigationApplied;
            AccumRainfall += Met.Rain;
            AccumEP -= (double)zone.Get("Potato.Leaf.Transpiration");
            SoilWaterDeficit =  (SWC - DUL);
            double OutFlowLat = Utility.Math.Sum(Soil.SoilWater.outflow_lat);
            AccumOutflowLat -= OutFlowLat;
            
            //!!!!!! Thermal time calculation !!!!!!
            //!!!!!! ^^^^^^^^^^^^^^^^^^^^^^^^ !!!!!!
            if (Potato.Phenology.Stage >= 3)
            AccumTtemerg += Potato.Phenology.ThermalTime.Value;
        }
        
        [EventSubscribe("DoManagementCalculations")]
        private void OnDoManagementCalculations(object sender, EventArgs e)
        {
            FomN = Utility.Math.Sum(Soil.SoilNitrogen.FOMN);
            HumN = Utility.Math.Sum(Soil.SoilNitrogen.HumicN);
            BiomN = Utility.Math.Sum(Soil.SoilNitrogen.MicrobialN);
            
            
            AccumEO -= Soil.SoilWater.Eo;
            AccumES -= Soil.SoilWater.Es; 
            AccumDrainage -= Soil.SoilWater.Drainage;
            AccumRunoff -= Soil.SoilWater.Runoff;
            SWC = Utility.Math.Sum(Soil.SoilWater.SWmm);
            DUL = Utility.Math.Sum(Soil.SoilWater.DULmm);
        }
    }
}
       
<br/>
FIELD.REPORT
------------
                                   Output variables  Output frequency
                                      [Clock].Today  [Clock].DoReport
               [ExtraVariables].Script.AccumTtemerg                  
                  Potato.Phenology.CurrentPhaseName                  
                             Potato.Phenology.Stage                  
                [ExtraVariables].Script.AccumPlantN                  
        [ExtraVariables].Script.AccumMineralisation                  
                 [ExtraVariables].Script.AccumDenit                  
                  [ExtraVariables].Script.AccumFert                  
                 [ExtraVariables].Script.AccumLeach                  
                [ExtraVariables].Script.AccumDetach                  
               [ExtraVariables].Script.DeltaSoilOMN                  
            [ExtraVariables].Script.DeltaSurfaceOMN                  
          [ExtraVariables].Script.DeltaSoilMineralN                  
                          Potato.Root.NSupplyUptake                  
                                [Soil].SoilWater.Eo                  
                                [Soil].SoilWater.Es                  
                        [ExtraVariables].Script.SWC                  
                        [ExtraVariables].Script.DUL                  
                          [Soil].SoilWater.Drainage                  
                            [Soil].SoilWater.Runoff                  
                 [ExtraVariables].Script.OutFlowLat                  
                              [Soil].SoilWater.pond                  
                    [ExtraVariables].Script.AccumEO                  
                    [ExtraVariables].Script.AccumEP                  
                    [ExtraVariables].Script.AccumES                  
              [ExtraVariables].Script.AccumDrainage                  
                [ExtraVariables].Script.AccumRunoff                  
              [ExtraVariables].Script.AccumRainfall                  
            [ExtraVariables].Script.AccumIrrigation                  
            [ExtraVariables].Script.AccumOutflowLat                  
           [ExtraVariables].Script.SoilWaterDeficit                  
                   Potato.Summariser.AboveGround.Wt                  
                   Potato.Summariser.BelowGround.Wt                  
                         Potato.Summariser.Total.Wt                  
                     Potato.Summariser.TotalDead.Wt                  
                     Potato.Summariser.TotalLive.Wt                  
                                Potato.Leaf.Dead.Wt                  
                                Potato.Leaf.Live.Wt                  
                                Potato.Stem.Dead.Wt                  
                                Potato.Stem.Live.Wt                  
                               Potato.Tuber.Dead.Wt                  
                               Potato.Tuber.Live.Wt                  
                                Potato.Root.Dead.Wt                  
                                Potato.Root.Live.Wt                  
                    Potato.Summariser.AboveGround.N                  
                    Potato.Summariser.BelowGround.N                  
                          Potato.Summariser.Total.N                  
                      Potato.Summariser.TotalLive.N                  
                      Potato.Summariser.TotalDead.N                  
                                 Potato.Leaf.Dead.N                  
                                 Potato.Leaf.Live.N                  
                                 Potato.Stem.Dead.N                  
                                 Potato.Stem.Live.N                  
                                Potato.Tuber.Dead.N                  
                                Potato.Tuber.Live.N                  
                                 Potato.Root.Live.N                  
                                 Potato.Root.Dead.N                  
                             Potato.Leaf.Live.NConc                  
                             Potato.Leaf.Dead.NConc                  
                             Potato.Stem.Live.NConc                  
                             Potato.Stem.Dead.NConc                  
                            Potato.Tuber.Live.NConc                  
                            Potato.Tuber.Dead.NConc                  
                             Potato.Root.Live.NConc                  
                             Potato.Root.Dead.NConc                  
                            Potato.Root.WaterSupply                  
                            Potato.Root.WaterUptake                  
                          Potato.Leaf.Transpiration                  
                            Potato.Leaf.WaterDemand                  
                                  Potato.Root.Depth                  
                             Potato.Leaf.CoverGreen                  
                             Potato.Leaf.CoverTotal                  
                              Potato.Leaf.CoverDead                  
                                    Potato.Leaf.LAI                  
                                Potato.Leaf.LAIDead                  
                            Potato.Structure.Height                  
                                     Potato.Leaf.Fn                  
                                     Potato.Leaf.Fw                  
                Potato.Leaf.Photosynthesis.FT.Value                  
              Potato.Leaf.Photosynthesis.FVPD.Value                  
                  Potato.Structure.PlantTotalNodeNo                  
                     Potato.Structure.TotalStemPopn                  
               Potato.Leaf.PlantAppearedGreenLeafNo                  
                      Potato.Leaf.ExpandingCohortNo                  
                       Potato.Leaf.AppearedCohortNo                  
                           Potato.Leaf.DeadCohortNo                  
                    Potato.Structure.MainStemNodeNo                  
                      Potato.Leaf.SenescingCohortNo                  
             Potato.Structure.PrimaryBudTotalNodeNo                  
Potato.Leaf.LeafCohortParameters.MinimumNConc.Value                  
                     Potato.Stem.MinimumNConc.Value                  
                    Potato.Tuber.MinimumNConc.Value                  
                     Potato.Root.MinimumNConc.Value                  
Potato.Leaf.LeafCohortParameters.MaximumNConc.Value                  
                     Potato.Stem.MaximumNConc.Value                  
                    Potato.Tuber.MaximumNConc.Value                  
                     Potato.Root.MaximumNConc.Value                  
                      Potato.Stem.Live.StructuralWt                  
                   Potato.Stem.Live.NonStructuralWt                  
                           Potato.Leaf.SpecificArea                  
                       Potato.Leaf.ExpandedCohortNo                  
                              [Soil].SoilWater.SWmm                  
                                        [Soil].NO3N                  
        [ExtraVariables].Script.SoilNitrogenContent                  
                          Potato.Arbitrator.NDemand                  
                            [MicroClimate].net_radn                  
                                [MicroClimate].peta                  
                                [MicroClimate].petr                  
                       [ExtraVariables].Script.FomN                  
                       [ExtraVariables].Script.HumN                  
                      [ExtraVariables].Script.BiomN                  
                 [ExtraVariables].Script.DltNMinRes                  
                 [ExtraVariables].Script.DltNMinTot                  
                [PotatoHarvestRule].Script.FinalTag                  
                               Potato.Tuber.LiveFWt                  
                Potato.Tuber.DryMatterContent.Value                  
                     [Potato].Arbitrator.NO3NSupply                  
                     [Potato].Arbitrator.NH4NSupply                  
                              [Potato].Root.NUptake                  

<br/>
FIELD.SURFACEORGANICMATTER
--------------------------
Surface organic matter pool name:             Wheat
Surface organic matter pool type:             Wheat
 Mass of surface residue (kg/ha):      2000 (kg/ha)
         Standing fraction (0-1):           0 (0-1)
     Carbon:Nitrogen ratio (g/g):          80 (g/g)
                  Carbon content:   800.000 (kg/ha)
                Nitrogen content:    10.000 (kg/ha)
              Phosphorus content:     0.000 (kg/ha)

<br/>
SIMULATION LOG:
---------------


2003-10-20 Field.Potato
    A crop of Potato (cultivar = Rua) was sown today at a population of 4.63821892393321 plants/m2 with 2.55 buds per plant at a row spacing of 150 and a depth of 140 mm
    


2003-10-20 Field.Fertiliser
    100 kg/ha of UreaN added at depth 0 layer 1
    


2003-10-20 Field.Potato.Summariser
    Peeping
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


2003-11-14 Field.Potato.Summariser
    Emergence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 0.00 (g/m^2)
    
    


2003-11-25 Field.Fertiliser
    69 kg/ha of UreaN added at depth 0 layer 1
    


2003-11-26 Field.Irrigation
    15.0 mm of water added at depth 0
    


2003-12-04 Field.Irrigation
    50.0 mm of water added at depth 0
    


2003-12-12 Field.Potato.Summariser
    TuberInitiation
      LAI = 1.35 (m^2/m^2)
      Above Ground Biomass = 89.93 (g/m^2)
    
    


2003-12-16 Field.Irrigation
    15.0 mm of water added at depth 0
    


2003-12-22 Field.Irrigation
    50.0 mm of water added at depth 0
    


2003-12-30 Field.Irrigation
    50.0 mm of water added at depth 0
    


2004-01-08 Field.Irrigation
    50.0 mm of water added at depth 0
    


2004-01-21 Field.Irrigation
    50.0 mm of water added at depth 0
    


2004-01-31 Field.Irrigation
    50.0 mm of water added at depth 0
    


2004-02-27 Field.Irrigation
    25.0 mm of water added at depth 0
    


2004-03-07 Field.Potato.Summariser
    FinalLeaf
      LAI = 0.47 (m^2/m^2)
      Above Ground Biomass = 350.77 (g/m^2)
    
    


2004-03-28 Field.Potato.Summariser
    FullSenescence
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 350.77 (g/m^2)
    
    


2004-04-20 Field.Potato.Summariser
    Maturity
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 350.77 (g/m^2)
    
    


2004-06-02 Field.Potato.Summariser
    Maturity
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 350.77 (g/m^2)
    
    Maturity
      LAI = 0.00 (m^2/m^2)
      Above Ground Biomass = 350.77 (g/m^2)
    
    


2004-06-02 Field.Potato
    A crop of Potato was harvested today, Yeahhh
    


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
SIMULATION LOG:
---------------


############################################################################
